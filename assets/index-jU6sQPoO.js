(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},ks={},_d={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),Bg=Symbol.for("react.portal"),Vg=Symbol.for("react.fragment"),Ug=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Qg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),gc=Symbol.iterator;function Zg(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Cd={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||kd}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Md(){}Md.prototype=Vr.prototype;function Zu(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||kd}var Ju=Zu.prototype=new Md;Ju.constructor=Zu;Nd(Ju,Vr.prototype);Ju.isPureReactComponent=!0;var yc=Array.isArray,Ad=Object.prototype.hasOwnProperty,ea={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Ad.call(t,r)&&!Td.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Ko,type:e,key:i,ref:s,props:o,_owner:ea.current}}function Jg(e,t){return{$$typeof:Ko,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ta(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ko}function e0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vc=/\/+/g;function tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e0(""+e.key):t.toString(36)}function Ti(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ko:case Bg:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+tl(s,0):r,yc(o)?(n="",e!=null&&(n=e.replace(vc,"$&/")+"/"),Ti(o,t,n,"",function(a){return a})):o!=null&&(ta(o)&&(o=Jg(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(vc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",yc(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+tl(i,l);s+=Ti(i,t,n,u,o)}else if(u=Zg(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+tl(i,l++),s+=Ti(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ni(e,t,n){if(e==null)return e;var r=[],o=0;return Ti(e,r,"","",function(i){return t.call(n,i,o++)}),r}function t0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},zi={transition:null},n0={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:zi,ReactCurrentOwner:ea};function Pd(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ni,forEach:function(e,t,n){ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!ta(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Vr;oe.Fragment=Vg;oe.Profiler=Wg;oe.PureComponent=Zu;oe.StrictMode=Ug;oe.Suspense=Gg;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n0;oe.act=Pd;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ea.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Ad.call(t,u)&&!Td.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Ko,type:e.type,key:o,ref:i,props:r,_owner:s}};oe.createContext=function(e){return e={$$typeof:Yg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xg,_context:e},e.Consumer=e};oe.createElement=zd;oe.createFactory=function(e){var t=zd.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Kg,render:e}};oe.isValidElement=ta;oe.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:t0}};oe.memo=function(e,t){return{$$typeof:Qg,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=zi.transition;zi.transition={};try{e()}finally{zi.transition=t}};oe.unstable_act=Pd;oe.useCallback=function(e,t){return Je.current.useCallback(e,t)};oe.useContext=function(e){return Je.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Je.current.useEffect(e,t)};oe.useId=function(){return Je.current.useId()};oe.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Je.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};oe.useRef=function(e){return Je.current.useRef(e)};oe.useState=function(e){return Je.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Je.current.useTransition()};oe.version="18.3.1";_d.exports=oe;var I=_d.exports;const C=Sd(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=I,o0=Symbol.for("react.element"),i0=Symbol.for("react.fragment"),s0=Object.prototype.hasOwnProperty,l0=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u0={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)s0.call(t,r)&&!u0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:o0,type:e,key:i,ref:s,props:o,_owner:l0.current}}ks.Fragment=i0;ks.jsx=Rd;ks.jsxs=Rd;Ed.exports=ks;var $=Ed.exports,Fl={},bd={exports:{}},vt={},$d={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,_){var T=M.length;M.push(_);e:for(;0<T;){var D=T-1>>>1,j=M[D];if(0<o(j,_))M[D]=_,M[T]=j,T=D;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var _=M[0],T=M.pop();if(T!==_){M[0]=T;e:for(var D=0,j=M.length,W=j>>>1;D<W;){var U=2*(D+1)-1,G=M[U],Z=U+1,Y=M[Z];if(0>o(G,T))Z<j&&0>o(Y,G)?(M[D]=Y,M[Z]=T,D=Z):(M[D]=G,M[U]=T,D=U);else if(Z<j&&0>o(Y,T))M[D]=Y,M[Z]=T,D=Z;else break e}}return _}function o(M,_){var T=M.sortIndex-_.sortIndex;return T!==0?T:M.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],a=[],c=1,f=null,p=3,g=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var _=n(a);_!==null;){if(_.callback===null)r(a);else if(_.startTime<=M)r(a),_.sortIndex=_.expirationTime,t(u,_);else break;_=n(a)}}function y(M){if(w=!1,m(M),!x)if(n(u)!==null)x=!0,N(E);else{var _=n(a);_!==null&&R(y,_.startTime-M)}}function E(M,_){x=!1,w&&(w=!1,d(z),z=-1),g=!0;var T=p;try{for(m(_),f=n(u);f!==null&&(!(f.expirationTime>_)||M&&!O());){var D=f.callback;if(typeof D=="function"){f.callback=null,p=f.priorityLevel;var j=D(f.expirationTime<=_);_=e.unstable_now(),typeof j=="function"?f.callback=j:f===n(u)&&r(u),m(_)}else r(u);f=n(u)}if(f!==null)var W=!0;else{var U=n(a);U!==null&&R(y,U.startTime-_),W=!1}return W}finally{f=null,p=T,g=!1}}var k=!1,A=null,z=-1,b=5,L=-1;function O(){return!(e.unstable_now()-L<b)}function V(){if(A!==null){var M=e.unstable_now();L=M;var _=!0;try{_=A(!0,M)}finally{_?H():(k=!1,A=null)}}else k=!1}var H;if(typeof h=="function")H=function(){h(V)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,P=v.port2;v.port1.onmessage=V,H=function(){P.postMessage(null)}}else H=function(){S(V,0)};function N(M){A=M,k||(k=!0,H())}function R(M,_){z=S(function(){M(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,N(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var T=p;p=_;try{return M()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,_){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var T=p;p=M;try{return _()}finally{p=T}},e.unstable_scheduleCallback=function(M,_,T){var D=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,M){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=T+j,M={id:c++,callback:_,priorityLevel:M,startTime:T,expirationTime:j,sortIndex:-1},T>D?(M.sortIndex=T,t(a,M),n(u)===null&&M===n(a)&&(w?(d(z),z=-1):w=!0,R(y,T-D))):(M.sortIndex=j,t(u,M),x||g||(x=!0,N(E))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var _=p;return function(){var T=p;p=_;try{return M.apply(this,arguments)}finally{p=T}}}})(Id);$d.exports=Id;var a0=$d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=I,gt=a0;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,ko={};function er(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(ko[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,f0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wc={},xc={};function d0(e){return Hl.call(xc,e)?!0:Hl.call(wc,e)?!1:f0.test(e)?xc[e]=!0:(wc[e]=!0,!1)}function p0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h0(e,t,n,r){if(t===null||typeof t>"u"||p0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var na=/[\-:]([a-z])/g;function ra(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(na,ra);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(na,ra);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(na,ra);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function oa(e,t,n,r){var o=Ve.hasOwnProperty(t)?Ve[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h0(t,n,o,r)&&(n=null),r||o===null?d0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ln=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),ur=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),ia=Symbol.for("react.strict_mode"),Bl=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),jd=Symbol.for("react.context"),sa=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),la=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Od=Symbol.for("react.offscreen"),Sc=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Sc&&e[Sc]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,nl;function lo(e){if(nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||""}return`
`+nl+e}var rl=!1;function ol(e,t){if(!e||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var o=a.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lo(e):""}function m0(e){switch(e.tag){case 5:return lo(e.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return e=ol(e.type,!1),e;case 11:return e=ol(e.type.render,!1),e;case 1:return e=ol(e.type,!0),e;default:return""}}function Wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case ur:return"Portal";case Bl:return"Profiler";case ia:return"StrictMode";case Vl:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jd:return(e.displayName||"Context")+".Consumer";case Dd:return(e._context.displayName||"Context")+".Provider";case sa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case la:return t=e.displayName||null,t!==null?t:Wl(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Wl(e(t))}catch{}}return null}function g0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wl(t);case 8:return t===ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y0(e){var t=Fd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=y0(e))}function Hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ec(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bd(e,t){t=t.checked,t!=null&&oa(e,"checked",t,!1)}function Yl(e,t){Bd(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _c(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||Wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(uo(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function Vd(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){v0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});function Xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mo.hasOwnProperty(e)&&mo[e]?(""+t).trim():t+"px"}function Yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var w0=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(w0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Er=null,_r=null;function Cc(e){if(e=qo(e)){if(typeof eu!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Ts(t),eu(e.stateNode,e.type,t))}}function Kd(e){Er?_r?_r.push(e):_r=[e]:Er=e}function Gd(){if(Er){var e=Er,t=_r;if(_r=Er=null,Cc(e),t)for(e=0;e<t.length;e++)Cc(t[e])}}function Qd(e,t){return e(t)}function qd(){}var il=!1;function Zd(e,t,n){if(il)return e(t,n);il=!0;try{return Qd(e,t,n)}finally{il=!1,(Er!==null||_r!==null)&&(qd(),Gd())}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var r=Ts(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var tu=!1;if(en)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{tu=!1}function x0(e,t,n,r,o,i,s,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(c){this.onError(c)}}var go=!1,Xi=null,Yi=!1,nu=null,S0={onError:function(e){go=!0,Xi=e}};function E0(e,t,n,r,o,i,s,l,u){go=!1,Xi=null,x0.apply(S0,arguments)}function _0(e,t,n,r,o,i,s,l,u){if(E0.apply(this,arguments),go){if(go){var a=Xi;go=!1,Xi=null}else throw Error(B(198));Yi||(Yi=!0,nu=a)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mc(e){if(tr(e)!==e)throw Error(B(188))}function k0(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Mc(o),e;if(i===r)return Mc(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function ep(e){return e=k0(e),e!==null?tp(e):null}function tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tp(e);if(t!==null)return t;e=e.sibling}return null}var np=gt.unstable_scheduleCallback,Ac=gt.unstable_cancelCallback,N0=gt.unstable_shouldYield,C0=gt.unstable_requestPaint,Re=gt.unstable_now,M0=gt.unstable_getCurrentPriorityLevel,aa=gt.unstable_ImmediatePriority,rp=gt.unstable_UserBlockingPriority,Ki=gt.unstable_NormalPriority,A0=gt.unstable_LowPriority,op=gt.unstable_IdlePriority,Ns=null,Vt=null;function T0(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:R0,z0=Math.log,P0=Math.LN2;function R0(e){return e>>>=0,e===0?32:31-(z0(e)/P0|0)|0}var si=64,li=4194304;function ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=ao(l):(i&=s,i!==0&&(r=ao(i)))}else s=n&~o,s!==0?r=ao(s):i!==0&&(r=ao(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),o=1<<n,r|=e[n],t&=~o;return r}function b0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-$t(i),l=1<<s,u=o[s];u===-1?(!(l&n)||l&r)&&(o[s]=b0(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ip(){var e=si;return si<<=1,!(si&4194240)&&(si=64),e}function sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function I0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-$t(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ce=0;function sp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lp,fa,up,ap,cp,ou=!1,ui=[],wn=null,xn=null,Sn=null,Mo=new Map,Ao=new Map,hn=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Qr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=qo(t),t!==null&&fa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function D0(e,t,n,r,o){switch(t){case"focusin":return wn=Qr(wn,e,t,n,r,o),!0;case"dragenter":return xn=Qr(xn,e,t,n,r,o),!0;case"mouseover":return Sn=Qr(Sn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mo.set(i,Qr(Mo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ao.set(i,Qr(Ao.get(i)||null,e,t,n,r,o)),!0}return!1}function fp(e){var t=jn(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=Jd(n),t!==null){e.blockedOn=t,cp(e.priority,function(){up(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jl=r,n.target.dispatchEvent(r),Jl=null}else return t=qo(n),t!==null&&fa(t),e.blockedOn=n,!1;t.shift()}return!0}function zc(e,t,n){Pi(e)&&n.delete(t)}function j0(){ou=!1,wn!==null&&Pi(wn)&&(wn=null),xn!==null&&Pi(xn)&&(xn=null),Sn!==null&&Pi(Sn)&&(Sn=null),Mo.forEach(zc),Ao.forEach(zc)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,ou||(ou=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,j0)))}function To(e){function t(o){return qr(o,e)}if(0<ui.length){qr(ui[0],e);for(var n=1;n<ui.length;n++){var r=ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&qr(wn,e),xn!==null&&qr(xn,e),Sn!==null&&qr(Sn,e),Mo.forEach(t),Ao.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)fp(n),n.blockedOn===null&&hn.shift()}var kr=ln.ReactCurrentBatchConfig,Qi=!0;function O0(e,t,n,r){var o=ce,i=kr.transition;kr.transition=null;try{ce=1,da(e,t,n,r)}finally{ce=o,kr.transition=i}}function F0(e,t,n,r){var o=ce,i=kr.transition;kr.transition=null;try{ce=4,da(e,t,n,r)}finally{ce=o,kr.transition=i}}function da(e,t,n,r){if(Qi){var o=iu(e,t,n,r);if(o===null)gl(e,t,r,qi,n),Tc(e,r);else if(D0(o,e,t,n,r))r.stopPropagation();else if(Tc(e,r),t&4&&-1<L0.indexOf(e)){for(;o!==null;){var i=qo(o);if(i!==null&&lp(i),i=iu(e,t,n,r),i===null&&gl(e,t,r,qi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else gl(e,t,r,null,n)}}var qi=null;function iu(e,t,n,r){if(qi=null,e=ua(r),e=jn(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function dp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case aa:return 1;case rp:return 4;case Ki:case A0:return 16;case op:return 536870912;default:return 16}default:return 16}}var yn=null,pa=null,Ri=null;function pp(){if(Ri)return Ri;var e,t=pa,n=t.length,r,o="value"in yn?yn.value:yn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ri=o.slice(e,1<r?1-r:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function Pc(){return!1}function wt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:Pc,this.isPropagationStopped=Pc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=wt(Ur),Qo=ke({},Ur,{view:0,detail:0}),H0=wt(Qo),ll,ul,Zr,Cs=ke({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(ll=e.screenX-Zr.screenX,ul=e.screenY-Zr.screenY):ul=ll=0,Zr=e),ll)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),Rc=wt(Cs),B0=ke({},Cs,{dataTransfer:0}),V0=wt(B0),U0=ke({},Qo,{relatedTarget:0}),al=wt(U0),W0=ke({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=wt(W0),Y0=ke({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0=wt(Y0),G0=ke({},Ur,{data:0}),bc=wt(G0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z0[e])?!!t[e]:!1}function ma(){return J0}var ey=ke({},Qo,{key:function(e){if(e.key){var t=Q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ty=wt(ey),ny=ke({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=wt(ny),ry=ke({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),oy=wt(ry),iy=ke({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),sy=wt(iy),ly=ke({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uy=wt(ly),ay=[9,13,27,32],ga=en&&"CompositionEvent"in window,yo=null;en&&"documentMode"in document&&(yo=document.documentMode);var cy=en&&"TextEvent"in window&&!yo,hp=en&&(!ga||yo&&8<yo&&11>=yo),Ic=" ",Lc=!1;function mp(e,t){switch(e){case"keyup":return ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function fy(e,t){switch(e){case"compositionend":return gp(t);case"keypress":return t.which!==32?null:(Lc=!0,Ic);case"textInput":return e=t.data,e===Ic&&Lc?null:e;default:return null}}function dy(e,t){if(cr)return e==="compositionend"||!ga&&mp(e,t)?(e=pp(),Ri=pa=yn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hp&&t.locale!=="ko"?null:t.data;default:return null}}var py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!py[e.type]:t==="textarea"}function yp(e,t,n,r){Kd(r),t=Zi(t,"onChange"),0<t.length&&(n=new ha("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vo=null,zo=null;function hy(e){Ap(e,0)}function Ms(e){var t=pr(e);if(Hd(t))return e}function my(e,t){if(e==="change")return t}var vp=!1;if(en){var cl;if(en){var fl="oninput"in document;if(!fl){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),fl=typeof jc.oninput=="function"}cl=fl}else cl=!1;vp=cl&&(!document.documentMode||9<document.documentMode)}function Oc(){vo&&(vo.detachEvent("onpropertychange",wp),zo=vo=null)}function wp(e){if(e.propertyName==="value"&&Ms(zo)){var t=[];yp(t,zo,e,ua(e)),Zd(hy,t)}}function gy(e,t,n){e==="focusin"?(Oc(),vo=t,zo=n,vo.attachEvent("onpropertychange",wp)):e==="focusout"&&Oc()}function yy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(zo)}function vy(e,t){if(e==="click")return Ms(t)}function wy(e,t){if(e==="input"||e==="change")return Ms(t)}function xy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:xy;function Po(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Hl.call(t,o)||!Dt(e[o],t[o]))return!1}return!0}function Fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var n=Fc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fc(n)}}function xp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sp(){for(var e=window,t=Wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wi(e.document)}return t}function ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sy(e){var t=Sp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xp(n.ownerDocument.documentElement,n)){if(r!==null&&ya(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Hc(n,i);var s=Hc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ey=en&&"documentMode"in document&&11>=document.documentMode,fr=null,su=null,wo=null,lu=!1;function Bc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lu||fr==null||fr!==Wi(r)||(r=fr,"selectionStart"in r&&ya(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wo&&Po(wo,r)||(wo=r,r=Zi(su,"onSelect"),0<r.length&&(t=new ha("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},dl={},Ep={};en&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function As(e){if(dl[e])return dl[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ep)return dl[e]=t[n];return e}var _p=As("animationend"),kp=As("animationiteration"),Np=As("animationstart"),Cp=As("transitionend"),Mp=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Mp.set(e,t),er(t,[e])}for(var pl=0;pl<Vc.length;pl++){var hl=Vc[pl],_y=hl.toLowerCase(),ky=hl[0].toUpperCase()+hl.slice(1);Pn(_y,"on"+ky)}Pn(_p,"onAnimationEnd");Pn(kp,"onAnimationIteration");Pn(Np,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Cp,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Uc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_0(r,t,void 0,e),e.currentTarget=null}function Ap(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;Uc(o,l,a),i=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,a=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;Uc(o,l,a),i=u}}}if(Yi)throw e=nu,Yi=!1,nu=null,e}function ve(e,t){var n=t[du];n===void 0&&(n=t[du]=new Set);var r=e+"__bubble";n.has(r)||(Tp(t,e,2,!1),n.add(r))}function ml(e,t,n){var r=0;t&&(r|=4),Tp(n,e,r,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[fi]){e[fi]=!0,Ld.forEach(function(n){n!=="selectionchange"&&(Ny.has(n)||ml(n,!1,e),ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,ml("selectionchange",!1,t))}}function Tp(e,t,n,r){switch(dp(t)){case 1:var o=O0;break;case 4:o=F0;break;default:o=da}n=o.bind(null,t,n,e),o=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function gl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;l!==null;){if(s=jn(l),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Zd(function(){var a=i,c=ua(n),f=[];e:{var p=Mp.get(e);if(p!==void 0){var g=ha,x=e;switch(e){case"keypress":if(bi(n)===0)break e;case"keydown":case"keyup":g=ty;break;case"focusin":x="focus",g=al;break;case"focusout":x="blur",g=al;break;case"beforeblur":case"afterblur":g=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=oy;break;case _p:case kp:case Np:g=X0;break;case Cp:g=sy;break;case"scroll":g=H0;break;case"wheel":g=uy;break;case"copy":case"cut":case"paste":g=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$c}var w=(t&4)!==0,S=!w&&e==="scroll",d=w?p!==null?p+"Capture":null:p;w=[];for(var h=a,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,d!==null&&(y=Co(h,d),y!=null&&w.push(bo(h,y,m)))),S)break;h=h.return}0<w.length&&(p=new g(p,x,null,n,c),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Jl&&(x=n.relatedTarget||n.fromElement)&&(jn(x)||x[tn]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=a,x=x?jn(x):null,x!==null&&(S=tr(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=a),g!==x)){if(w=Rc,y="onMouseLeave",d="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=$c,y="onPointerLeave",d="onPointerEnter",h="pointer"),S=g==null?p:pr(g),m=x==null?p:pr(x),p=new w(y,h+"leave",g,n,c),p.target=S,p.relatedTarget=m,y=null,jn(c)===a&&(w=new w(d,h+"enter",x,n,c),w.target=m,w.relatedTarget=S,y=w),S=y,g&&x)t:{for(w=g,d=x,h=0,m=w;m;m=rr(m))h++;for(m=0,y=d;y;y=rr(y))m++;for(;0<h-m;)w=rr(w),h--;for(;0<m-h;)d=rr(d),m--;for(;h--;){if(w===d||d!==null&&w===d.alternate)break t;w=rr(w),d=rr(d)}w=null}else w=null;g!==null&&Wc(f,p,g,w,!1),x!==null&&S!==null&&Wc(f,S,x,w,!0)}}e:{if(p=a?pr(a):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var E=my;else if(Dc(p))if(vp)E=wy;else{E=yy;var k=gy}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=vy);if(E&&(E=E(e,a))){yp(f,E,n,c);break e}k&&k(e,p,a),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Kl(p,"number",p.value)}switch(k=a?pr(a):window,e){case"focusin":(Dc(k)||k.contentEditable==="true")&&(fr=k,su=a,wo=null);break;case"focusout":wo=su=fr=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Bc(f,n,c);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":Bc(f,n,c)}var A;if(ga)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else cr?mp(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(hp&&n.locale!=="ko"&&(cr||z!=="onCompositionStart"?z==="onCompositionEnd"&&cr&&(A=pp()):(yn=c,pa="value"in yn?yn.value:yn.textContent,cr=!0)),k=Zi(a,z),0<k.length&&(z=new bc(z,e,null,n,c),f.push({event:z,listeners:k}),A?z.data=A:(A=gp(n),A!==null&&(z.data=A)))),(A=cy?fy(e,n):dy(e,n))&&(a=Zi(a,"onBeforeInput"),0<a.length&&(c=new bc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=A))}Ap(f,t)})}function bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Co(e,n),i!=null&&r.unshift(bo(e,i,o)),i=Co(e,t),i!=null&&r.push(bo(e,i,o))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,o?(u=Co(n,i),u!=null&&s.unshift(bo(n,u,l))):o||(u=Co(n,i),u!=null&&s.push(bo(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Cy=/\r\n?/g,My=/\u0000|\uFFFD/g;function Xc(e){return(typeof e=="string"?e:""+e).replace(Cy,`
`).replace(My,"")}function di(e,t,n){if(t=Xc(t),Xc(e)!==t&&n)throw Error(B(425))}function Ji(){}var uu=null,au=null;function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch(zy)}:fu;function zy(e){setTimeout(function(){throw e})}function yl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),To(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);To(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Wr,$o="__reactProps$"+Wr,tn="__reactContainer$"+Wr,du="__reactEvents$"+Wr,Py="__reactListeners$"+Wr,Ry="__reactHandles$"+Wr;function jn(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kc(e);e!==null;){if(n=e[Bt])return n;e=Kc(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Bt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Ts(e){return e[$o]||null}var pu=[],hr=-1;function Rn(e){return{current:e}}function we(e){0>hr||(e.current=pu[hr],pu[hr]=null,hr--)}function ge(e,t){hr++,pu[hr]=e.current,e.current=t}var zn={},Ge=Rn(zn),ut=Rn(!1),Yn=zn;function Rr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function at(e){return e=e.childContextTypes,e!=null}function es(){we(ut),we(Ge)}function Gc(e,t,n){if(Ge.current!==zn)throw Error(B(168));ge(Ge,t),ge(ut,n)}function zp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,g0(e)||"Unknown",o));return ke({},n,r)}function ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,Yn=Ge.current,ge(Ge,e),ge(ut,ut.current),!0}function Qc(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=zp(e,t,Yn),r.__reactInternalMemoizedMergedChildContext=e,we(ut),we(Ge),ge(Ge,e)):we(ut),ge(ut,n)}var Gt=null,zs=!1,vl=!1;function Pp(e){Gt===null?Gt=[e]:Gt.push(e)}function by(e){zs=!0,Pp(e)}function bn(){if(!vl&&Gt!==null){vl=!0;var e=0,t=ce;try{var n=Gt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,zs=!1}catch(o){throw Gt!==null&&(Gt=Gt.slice(e+1)),np(aa,bn),o}finally{ce=t,vl=!1}}return null}var mr=[],gr=0,ns=null,rs=0,St=[],Et=0,Kn=null,Qt=1,qt="";function In(e,t){mr[gr++]=rs,mr[gr++]=ns,ns=e,rs=t}function Rp(e,t,n){St[Et++]=Qt,St[Et++]=qt,St[Et++]=Kn,Kn=e;var r=Qt;e=qt;var o=32-$t(r)-1;r&=~(1<<o),n+=1;var i=32-$t(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Qt=1<<32-$t(t)+o|n<<o|r,qt=i+e}else Qt=1<<i|n<<o|r,qt=e}function va(e){e.return!==null&&(In(e,1),Rp(e,1,0))}function wa(e){for(;e===ns;)ns=mr[--gr],mr[gr]=null,rs=mr[--gr],mr[gr]=null;for(;e===Kn;)Kn=St[--Et],St[Et]=null,qt=St[--Et],St[Et]=null,Qt=St[--Et],St[Et]=null}var ht=null,pt=null,xe=!1,Pt=null;function bp(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,pt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:Qt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,pt=null,!0):!1;default:return!1}}function hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(xe){var t=pt;if(t){var n=t;if(!qc(e,t)){if(hu(e))throw Error(B(418));t=En(n.nextSibling);var r=ht;t&&qc(e,t)?bp(r,n):(e.flags=e.flags&-4097|2,xe=!1,ht=e)}}else{if(hu(e))throw Error(B(418));e.flags=e.flags&-4097|2,xe=!1,ht=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function pi(e){if(e!==ht)return!1;if(!xe)return Zc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cu(e.type,e.memoizedProps)),t&&(t=pt)){if(hu(e))throw $p(),Error(B(418));for(;t;)bp(e,t),t=En(t.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ht?En(e.stateNode.nextSibling):null;return!0}function $p(){for(var e=pt;e;)e=En(e.nextSibling)}function br(){pt=ht=null,xe=!1}function xa(e){Pt===null?Pt=[e]:Pt.push(e)}var $y=ln.ReactCurrentBatchConfig;function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function Ip(e){function t(d,h){if(e){var m=d.deletions;m===null?(d.deletions=[h],d.flags|=16):m.push(h)}}function n(d,h){if(!e)return null;for(;h!==null;)t(d,h),h=h.sibling;return null}function r(d,h){for(d=new Map;h!==null;)h.key!==null?d.set(h.key,h):d.set(h.index,h),h=h.sibling;return d}function o(d,h){return d=Cn(d,h),d.index=0,d.sibling=null,d}function i(d,h,m){return d.index=m,e?(m=d.alternate,m!==null?(m=m.index,m<h?(d.flags|=2,h):m):(d.flags|=2,h)):(d.flags|=1048576,h)}function s(d){return e&&d.alternate===null&&(d.flags|=2),d}function l(d,h,m,y){return h===null||h.tag!==6?(h=Nl(m,d.mode,y),h.return=d,h):(h=o(h,m),h.return=d,h)}function u(d,h,m,y){var E=m.type;return E===ar?c(d,h,m.props.children,y,m.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===cn&&Jc(E)===h.type)?(y=o(h,m.props),y.ref=Jr(d,h,m),y.return=d,y):(y=Fi(m.type,m.key,m.props,null,d.mode,y),y.ref=Jr(d,h,m),y.return=d,y)}function a(d,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Cl(m,d.mode,y),h.return=d,h):(h=o(h,m.children||[]),h.return=d,h)}function c(d,h,m,y,E){return h===null||h.tag!==7?(h=Un(m,d.mode,y,E),h.return=d,h):(h=o(h,m),h.return=d,h)}function f(d,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Nl(""+h,d.mode,m),h.return=d,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return m=Fi(h.type,h.key,h.props,null,d.mode,m),m.ref=Jr(d,null,h),m.return=d,m;case ur:return h=Cl(h,d.mode,m),h.return=d,h;case cn:var y=h._init;return f(d,y(h._payload),m)}if(uo(h)||Kr(h))return h=Un(h,d.mode,m,null),h.return=d,h;hi(d,h)}return null}function p(d,h,m,y){var E=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(d,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:return m.key===E?u(d,h,m,y):null;case ur:return m.key===E?a(d,h,m,y):null;case cn:return E=m._init,p(d,h,E(m._payload),y)}if(uo(m)||Kr(m))return E!==null?null:c(d,h,m,y,null);hi(d,m)}return null}function g(d,h,m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return d=d.get(m)||null,l(h,d,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ri:return d=d.get(y.key===null?m:y.key)||null,u(h,d,y,E);case ur:return d=d.get(y.key===null?m:y.key)||null,a(h,d,y,E);case cn:var k=y._init;return g(d,h,m,k(y._payload),E)}if(uo(y)||Kr(y))return d=d.get(m)||null,c(h,d,y,E,null);hi(h,y)}return null}function x(d,h,m,y){for(var E=null,k=null,A=h,z=h=0,b=null;A!==null&&z<m.length;z++){A.index>z?(b=A,A=null):b=A.sibling;var L=p(d,A,m[z],y);if(L===null){A===null&&(A=b);break}e&&A&&L.alternate===null&&t(d,A),h=i(L,h,z),k===null?E=L:k.sibling=L,k=L,A=b}if(z===m.length)return n(d,A),xe&&In(d,z),E;if(A===null){for(;z<m.length;z++)A=f(d,m[z],y),A!==null&&(h=i(A,h,z),k===null?E=A:k.sibling=A,k=A);return xe&&In(d,z),E}for(A=r(d,A);z<m.length;z++)b=g(A,d,z,m[z],y),b!==null&&(e&&b.alternate!==null&&A.delete(b.key===null?z:b.key),h=i(b,h,z),k===null?E=b:k.sibling=b,k=b);return e&&A.forEach(function(O){return t(d,O)}),xe&&In(d,z),E}function w(d,h,m,y){var E=Kr(m);if(typeof E!="function")throw Error(B(150));if(m=E.call(m),m==null)throw Error(B(151));for(var k=E=null,A=h,z=h=0,b=null,L=m.next();A!==null&&!L.done;z++,L=m.next()){A.index>z?(b=A,A=null):b=A.sibling;var O=p(d,A,L.value,y);if(O===null){A===null&&(A=b);break}e&&A&&O.alternate===null&&t(d,A),h=i(O,h,z),k===null?E=O:k.sibling=O,k=O,A=b}if(L.done)return n(d,A),xe&&In(d,z),E;if(A===null){for(;!L.done;z++,L=m.next())L=f(d,L.value,y),L!==null&&(h=i(L,h,z),k===null?E=L:k.sibling=L,k=L);return xe&&In(d,z),E}for(A=r(d,A);!L.done;z++,L=m.next())L=g(A,d,z,L.value,y),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?z:L.key),h=i(L,h,z),k===null?E=L:k.sibling=L,k=L);return e&&A.forEach(function(V){return t(d,V)}),xe&&In(d,z),E}function S(d,h,m,y){if(typeof m=="object"&&m!==null&&m.type===ar&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:e:{for(var E=m.key,k=h;k!==null;){if(k.key===E){if(E=m.type,E===ar){if(k.tag===7){n(d,k.sibling),h=o(k,m.props.children),h.return=d,d=h;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===cn&&Jc(E)===k.type){n(d,k.sibling),h=o(k,m.props),h.ref=Jr(d,k,m),h.return=d,d=h;break e}n(d,k);break}else t(d,k);k=k.sibling}m.type===ar?(h=Un(m.props.children,d.mode,y,m.key),h.return=d,d=h):(y=Fi(m.type,m.key,m.props,null,d.mode,y),y.ref=Jr(d,h,m),y.return=d,d=y)}return s(d);case ur:e:{for(k=m.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(d,h.sibling),h=o(h,m.children||[]),h.return=d,d=h;break e}else{n(d,h);break}else t(d,h);h=h.sibling}h=Cl(m,d.mode,y),h.return=d,d=h}return s(d);case cn:return k=m._init,S(d,h,k(m._payload),y)}if(uo(m))return x(d,h,m,y);if(Kr(m))return w(d,h,m,y);hi(d,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(d,h.sibling),h=o(h,m),h.return=d,d=h):(n(d,h),h=Nl(m,d.mode,y),h.return=d,d=h),s(d)):n(d,h)}return S}var $r=Ip(!0),Lp=Ip(!1),os=Rn(null),is=null,yr=null,Sa=null;function Ea(){Sa=yr=is=null}function _a(e){var t=os.current;we(os),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){is=e,Sa=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(is===null)throw Error(B(308));yr=e,is.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var On=null;function ka(e){On===null?On=[e]:On.push(e)}function Dp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ka(t)):(n.next=o.next,o.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,nn(e,n)}return o=r.interleaved,o===null?(t.next=t,ka(r)):(t.next=o.next,o.next=t),r.interleaved=t,nn(e,n)}function $i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ca(e,n)}}function ef(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ss(e,t,n,r){var o=e.updateQueue;fn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,a=u.next;u.next=null,s===null?i=a:s.next=a,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=a:l.next=a,c.lastBaseUpdate=u))}if(i!==null){var f=o.baseState;s=0,c=a=u=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(p=t,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=ke({},f,p);break e;case 2:fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(a=c=g,u=f):c=c.next=g,s|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(c===null&&(u=f),o.baseState=u,o.firstBaseUpdate=a,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Qn|=s,e.lanes=s,e.memoizedState=f}}function tf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var Zo={},Ut=Rn(Zo),Io=Rn(Zo),Lo=Rn(Zo);function Fn(e){if(e===Zo)throw Error(B(174));return e}function Ca(e,t){switch(ge(Lo,t),ge(Io,e),ge(Ut,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ql(t,e)}we(Ut),ge(Ut,t)}function Ir(){we(Ut),we(Io),we(Lo)}function Op(e){Fn(Lo.current);var t=Fn(Ut.current),n=Ql(t,e.type);t!==n&&(ge(Io,e),ge(Ut,n))}function Ma(e){Io.current===e&&(we(Ut),we(Io))}var Ee=Rn(0);function ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function Aa(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var Ii=ln.ReactCurrentDispatcher,xl=ln.ReactCurrentBatchConfig,Gn=0,_e=null,$e=null,Le=null,us=!1,xo=!1,Do=0,Iy=0;function Xe(){throw Error(B(321))}function Ta(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function za(e,t,n,r,o,i){if(Gn=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Oy:Fy,e=n(r,o),xo){i=0;do{if(xo=!1,Do=0,25<=i)throw Error(B(301));i+=1,Le=$e=null,t.updateQueue=null,Ii.current=Hy,e=n(r,o)}while(xo)}if(Ii.current=as,t=$e!==null&&$e.next!==null,Gn=0,Le=$e=_e=null,us=!1,t)throw Error(B(300));return e}function Pa(){var e=Do!==0;return Do=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?_e.memoizedState=Le=e:Le=Le.next=e,Le}function Mt(){if($e===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Le===null?_e.memoizedState:Le.next;if(t!==null)Le=t,$e=e;else{if(e===null)throw Error(B(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Le===null?_e.memoizedState=Le=e:Le=Le.next=e}return Le}function jo(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=$e,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,u=null,a=i;do{var c=a.lane;if((Gn&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,_e.lanes|=c,Qn|=c}a=a.next}while(a!==null&&a!==i);u===null?s=r:u.next=l,Dt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,_e.lanes|=i,Qn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function El(e){var t=Mt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Dt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fp(){}function Hp(e,t){var n=_e,r=Mt(),o=t(),i=!Dt(r.memoizedState,o);if(i&&(r.memoizedState=o,st=!0),r=r.queue,Ra(Up.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Oo(9,Vp.bind(null,n,r,o,t),void 0,null),De===null)throw Error(B(349));Gn&30||Bp(n,t,o)}return o}function Bp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vp(e,t,n,r){t.value=n,t.getSnapshot=r,Wp(t)&&Xp(e)}function Up(e,t,n){return n(function(){Wp(t)&&Xp(e)})}function Wp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Xp(e){var t=nn(e,1);t!==null&&It(t,e,1,-1)}function nf(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=jy.bind(null,_e,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yp(){return Mt().memoizedState}function Li(e,t,n,r){var o=Ft();_e.flags|=e,o.memoizedState=Oo(1|t,n,void 0,r===void 0?null:r)}function Ps(e,t,n,r){var o=Mt();r=r===void 0?null:r;var i=void 0;if($e!==null){var s=$e.memoizedState;if(i=s.destroy,r!==null&&Ta(r,s.deps)){o.memoizedState=Oo(t,n,i,r);return}}_e.flags|=e,o.memoizedState=Oo(1|t,n,i,r)}function rf(e,t){return Li(8390656,8,e,t)}function Ra(e,t){return Ps(2048,8,e,t)}function Kp(e,t){return Ps(4,2,e,t)}function Gp(e,t){return Ps(4,4,e,t)}function Qp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qp(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4,4,Qp.bind(null,t,e),n)}function ba(){}function Zp(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jp(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function eh(e,t,n){return Gn&21?(Dt(n,t)||(n=ip(),_e.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Ly(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{ce=n,xl.transition=r}}function th(){return Mt().memoizedState}function Dy(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nh(e))rh(t,n);else if(n=Dp(e,t,n,r),n!==null){var o=Ze();It(n,e,r,o),oh(n,t,r)}}function jy(e,t,n){var r=Nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nh(e))rh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Dt(l,s)){var u=t.interleaved;u===null?(o.next=o,ka(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Dp(e,t,o,r),n!==null&&(o=Ze(),It(n,e,r,o),oh(n,t,r))}}function nh(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function rh(e,t){xo=us=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ca(e,n)}}var as={readContext:Ct,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Oy={readContext:Ct,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:rf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,Qp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dy.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:nf,useDebugValue:ba,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=nf(!1),t=e[0];return e=Ly.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,o=Ft();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),De===null)throw Error(B(349));Gn&30||Bp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,rf(Up.bind(null,r,i,e),[e]),r.flags|=2048,Oo(9,Vp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ft(),t=De.identifierPrefix;if(xe){var n=qt,r=Qt;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Do++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Iy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fy={readContext:Ct,useCallback:Zp,useContext:Ct,useEffect:Ra,useImperativeHandle:qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Jp,useReducer:Sl,useRef:Yp,useState:function(){return Sl(jo)},useDebugValue:ba,useDeferredValue:function(e){var t=Mt();return eh(t,$e.memoizedState,e)},useTransition:function(){var e=Sl(jo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:Hp,useId:th,unstable_isNewReconciler:!1},Hy={readContext:Ct,useCallback:Zp,useContext:Ct,useEffect:Ra,useImperativeHandle:qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Jp,useReducer:El,useRef:Yp,useState:function(){return El(jo)},useDebugValue:ba,useDeferredValue:function(e){var t=Mt();return $e===null?t.memoizedState=e:eh(t,$e.memoizedState,e)},useTransition:function(){var e=El(jo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:Hp,useId:th,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rs={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),o=Nn(e),i=Jt(r,o);i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,o),t!==null&&(It(t,e,o,r),$i(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),o=Nn(e),i=Jt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,o),t!==null&&(It(t,e,o,r),$i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Nn(e),o=Jt(n,r);o.tag=2,t!=null&&(o.callback=t),t=_n(e,o,r),t!==null&&(It(t,e,r,n),$i(t,e,r))}};function of(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Po(n,r)||!Po(o,i):!0}function ih(e,t,n){var r=!1,o=zn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(o=at(t)?Yn:Ge.current,r=t.contextTypes,i=(r=r!=null)?Rr(e,o):zn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function sf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rs.enqueueReplaceState(t,t.state,null)}function vu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Na(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ct(i):(i=at(t)?Yn:Ge.current,o.context=Rr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Rs.enqueueReplaceState(o,o.state,null),ss(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var n="",r=t;do n+=m0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function _l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var By=typeof WeakMap=="function"?WeakMap:Map;function sh(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fs||(fs=!0,Tu=r),wu(e,t)},n}function lh(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){wu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wu(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function lf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new By;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=nv.bind(null,e,t,n),t.then(e,e))}function uf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Vy=ln.ReactCurrentOwner,st=!1;function qe(e,t,n,r){t.child=e===null?Lp(t,null,n,r):$r(t,e.child,n,r)}function cf(e,t,n,r,o){n=n.render;var i=t.ref;return Nr(t,o),r=za(e,t,n,r,i,o),n=Pa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(xe&&n&&va(t),t.flags|=1,qe(e,t,r,o),t.child)}function ff(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Ha(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uh(e,t,i,r,o)):(e=Fi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(s,r)&&e.ref===t.ref)return rn(e,t,o)}return t.flags|=1,e=Cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function uh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Po(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,rn(e,t,o)}return xu(e,t,n,r,o)}function ah(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(wr,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(wr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(wr,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(wr,ft),ft|=r;return qe(e,t,o,n),t.child}function ch(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,o){var i=at(n)?Yn:Ge.current;return i=Rr(t,i),Nr(t,o),n=za(e,t,n,r,i,o),r=Pa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(xe&&r&&va(t),t.flags|=1,qe(e,t,n,o),t.child)}function df(e,t,n,r,o){if(at(n)){var i=!0;ts(t)}else i=!1;if(Nr(t,o),t.stateNode===null)Di(e,t),ih(t,n,r),vu(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,a=n.contextType;typeof a=="object"&&a!==null?a=Ct(a):(a=at(n)?Yn:Ge.current,a=Rr(t,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==a)&&sf(t,s,r,a),fn=!1;var p=t.memoizedState;s.state=p,ss(t,r,s,o),u=t.memoizedState,l!==r||p!==u||ut.current||fn?(typeof c=="function"&&(yu(t,n,c,r),u=t.memoizedState),(l=fn||of(t,n,l,r,p,u,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jp(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:Tt(t.type,l),s.props=a,f=t.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=at(n)?Yn:Ge.current,u=Rr(t,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||p!==u)&&sf(t,s,r,u),fn=!1,p=t.memoizedState,s.state=p,ss(t,r,s,o);var x=t.memoizedState;l!==f||p!==x||ut.current||fn?(typeof g=="function"&&(yu(t,n,g,r),x=t.memoizedState),(a=fn||of(t,n,a,r,p,x,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=u,r=a):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,i,o)}function Su(e,t,n,r,o,i){ch(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Qc(t,n,!1),rn(e,t,i);r=t.stateNode,Vy.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=$r(t,e.child,null,i),t.child=$r(t,null,l,i)):qe(e,t,l,i),t.memoizedState=r.state,o&&Qc(t,n,!0),t.child}function fh(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),Ca(e,t.containerInfo)}function pf(e,t,n,r,o){return br(),xa(o),t.flags|=256,qe(e,t,n,r),t.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function _u(e){return{baseLanes:e,cachePool:null,transitions:null}}function dh(e,t,n){var r=t.pendingProps,o=Ee.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ge(Ee,o&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Is(s,r,0,null),e=Un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_u(n),t.memoizedState=Eu,e):$a(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Uy(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Cn(o,u),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Cn(l,i):(i=Un(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?_u(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Eu,r}return i=e.child,e=i.sibling,r=Cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $a(e,t){return t=Is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mi(e,t,n,r){return r!==null&&xa(r),$r(t,e.child,null,n),e=$a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uy(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=_l(Error(B(422))),mi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Is({mode:"visible",children:r.children},o,0,null),i=Un(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$r(t,e.child,null,s),t.child.memoizedState=_u(s),t.memoizedState=Eu,i);if(!(t.mode&1))return mi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=_l(i,r,void 0),mi(e,t,s,r)}if(l=(s&e.childLanes)!==0,st||l){if(r=De,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,nn(e,o),It(r,e,o,-1))}return Fa(),r=_l(Error(B(421))),mi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=rv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,pt=En(o.nextSibling),ht=t,xe=!0,Pt=null,e!==null&&(St[Et++]=Qt,St[Et++]=qt,St[Et++]=Kn,Qt=e.id,qt=e.overflow,Kn=t),t=$a(t,r.children),t.flags|=4096,t)}function hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function kl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ph(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,n,t);else if(e.tag===19)hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ls(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),kl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ls(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}kl(t,!0,n,null,i);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wy(e,t,n){switch(t.tag){case 3:fh(t),br();break;case 5:Op(t);break;case 1:at(t.type)&&ts(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ge(os,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?dh(e,t,n):(ge(Ee,Ee.current&1),e=rn(e,t,n),e!==null?e.sibling:null);ge(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ph(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ge(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,ah(e,t,n)}return rn(e,t,n)}var hh,ku,mh,gh;hh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ku=function(){};mh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fn(Ut.current);var i=null;switch(n){case"input":o=Xl(e,o),r=Xl(e,r),i=[];break;case"select":o=ke({},o,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":o=Gl(e,o),r=Gl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ji)}ql(n,r);var s;n=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style"){var l=o[a];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ko.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(l=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ko.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&ve("scroll",e),i||l===u||(i=[])):(i=i||[]).push(a,u))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};gh=function(e,t,n,r){n!==r&&(t.flags|=4)};function eo(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xy(e,t,n){var r=t.pendingProps;switch(wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return at(t.type)&&es(),Ye(t),null;case 3:return r=t.stateNode,Ir(),we(ut),we(Ge),Aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Ru(Pt),Pt=null))),ku(e,t),Ye(t),null;case 5:Ma(t);var o=Fn(Lo.current);if(n=t.type,e!==null&&t.stateNode!=null)mh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ye(t),null}if(e=Fn(Ut.current),pi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Bt]=t,r[$o]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<co.length;o++)ve(co[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Ec(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":kc(r,i),ve("invalid",r)}ql(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),o=["children",""+l]):ko.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":oi(r),_c(r,i,!0);break;case"textarea":oi(r),Nc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ji)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ud(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Bt]=t,e[$o]=r,hh(e,t,!1,!1),t.stateNode=e;e:{switch(s=Zl(n,r),n){case"dialog":ve("cancel",e),ve("close",e),o=r;break;case"iframe":case"object":case"embed":ve("load",e),o=r;break;case"video":case"audio":for(o=0;o<co.length;o++)ve(co[o],e);o=r;break;case"source":ve("error",e),o=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),o=r;break;case"details":ve("toggle",e),o=r;break;case"input":Ec(e,r),o=Xl(e,r),ve("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":kc(e,r),o=Gl(e,r),ve("invalid",e);break;default:o=r}ql(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Yd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Wd(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&No(e,u):typeof u=="number"&&No(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ve("scroll",e):u!=null&&oa(e,i,u,s))}switch(n){case"input":oi(e),_c(e,r,!1);break;case"textarea":oi(e),Nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)gh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Fn(Lo.current),Fn(Ut.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bt]=t,(i=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:di(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=t,t.stateNode=r}return Ye(t),null;case 13:if(we(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&pt!==null&&t.mode&1&&!(t.flags&128))$p(),br(),t.flags|=98560,i=!1;else if(i=pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Bt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Pt!==null&&(Ru(Pt),Pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Ie===0&&(Ie=3):Fa())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Ir(),ku(e,t),e===null&&Ro(t.stateNode.containerInfo),Ye(t),null;case 10:return _a(t.type._context),Ye(t),null;case 17:return at(t.type)&&es(),Ye(t),null;case 19:if(we(Ee),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)eo(i,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ls(e),s!==null){for(t.flags|=128,eo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Re()>Dr&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304)}else{if(!r)if(e=ls(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!xe)return Ye(t),null}else 2*Re()-i.renderingStartTime>Dr&&n!==1073741824&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Re(),t.sibling=null,n=Ee.current,ge(Ee,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Oa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Yy(e,t){switch(wa(t),t.tag){case 1:return at(t.type)&&es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),we(ut),we(Ge),Aa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ma(t),null;case 13:if(we(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ee),null;case 4:return Ir(),null;case 10:return _a(t.type._context),null;case 22:case 23:return Oa(),null;case 24:return null;default:return null}}var gi=!1,Ke=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,X=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Nu(e,t,n){try{n()}catch(r){Me(e,t,r)}}var mf=!1;function Gy(e,t){if(uu=Qi,e=Sp(),ya(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,a=0,c=0,f=e,p=null;t:for(;;){for(var g;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++a===o&&(l=s),p===i&&++c===r&&(u=s),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(au={focusedElem:e,selectionRange:n},Qi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,S=x.memoizedState,d=t.stateNode,h=d.getSnapshotBeforeUpdate(t.elementType===t.type?w:Tt(t.type,w),S);d.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(y){Me(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return x=mf,mf=!1,x}function So(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Nu(t,n,i)}o=o.next}while(o!==r)}}function bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yh(e){var t=e.alternate;t!==null&&(e.alternate=null,yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[$o],delete t[du],delete t[Py],delete t[Ry])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vh(e){return e.tag===5||e.tag===3||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ji));else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}var He=null,zt=!1;function un(e,t,n){for(n=n.child;n!==null;)wh(e,t,n),n=n.sibling}function wh(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ns,n)}catch{}switch(n.tag){case 5:Ke||vr(n,t);case 6:var r=He,o=zt;He=null,un(e,t,n),He=r,zt=o,He!==null&&(zt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(zt?(e=He,n=n.stateNode,e.nodeType===8?yl(e.parentNode,n):e.nodeType===1&&yl(e,n),To(e)):yl(He,n.stateNode));break;case 4:r=He,o=zt,He=n.stateNode.containerInfo,zt=!0,un(e,t,n),He=r,zt=o;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Nu(n,t,s),o=o.next}while(o!==r)}un(e,t,n);break;case 1:if(!Ke&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,un(e,t,n),Ke=r):un(e,t,n);break;default:un(e,t,n)}}function yf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ky),t.forEach(function(r){var o=ov.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,zt=!1;break e;case 3:He=l.stateNode.containerInfo,zt=!0;break e;case 4:He=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(He===null)throw Error(B(160));wh(i,s,o),He=null,zt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(a){Me(o,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xh(t,e),t=t.sibling}function xh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Ot(e),r&4){try{So(3,e,e.return),bs(3,e)}catch(w){Me(e,e.return,w)}try{So(5,e,e.return)}catch(w){Me(e,e.return,w)}}break;case 1:At(t,e),Ot(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(At(t,e),Ot(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var o=e.stateNode;try{No(o,"")}catch(w){Me(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Bd(o,i),Zl(l,s);var a=Zl(l,i);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?Yd(o,f):c==="dangerouslySetInnerHTML"?Wd(o,f):c==="children"?No(o,f):oa(o,c,f,a)}switch(l){case"input":Yl(o,i);break;case"textarea":Vd(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Sr(o,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Sr(o,!!i.multiple,i.defaultValue,!0):Sr(o,!!i.multiple,i.multiple?[]:"",!1))}o[$o]=i}catch(w){Me(e,e.return,w)}}break;case 6:if(At(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){Me(e,e.return,w)}}break;case 3:if(At(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(w){Me(e,e.return,w)}break;case 4:At(t,e),Ot(e);break;case 13:At(t,e),Ot(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Da=Re())),r&4&&yf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(a=Ke)||c,At(t,e),Ke=a):At(t,e),Ot(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!c&&e.mode&1)for(X=e,c=e.child;c!==null;){for(f=X=c;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:So(4,p,p.return);break;case 1:vr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Me(r,n,w)}}break;case 5:vr(p,p.return);break;case 22:if(p.memoizedState!==null){wf(f);continue}}g!==null?(g.return=p,X=g):wf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,a?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Xd("display",s))}catch(w){Me(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(w){Me(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),Ot(e),r&4&&yf(e);break;case 21:break;default:At(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(No(o,""),r.flags&=-33);var i=gf(e);Au(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=gf(e);Mu(e,l,s);break;default:throw Error(B(161))}}catch(u){Me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qy(e,t,n){X=e,Sh(e)}function Sh(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var o=X,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||gi;if(!s){var l=o.alternate,u=l!==null&&l.memoizedState!==null||Ke;l=gi;var a=Ke;if(gi=s,(Ke=u)&&!a)for(X=o;X!==null;)s=X,u=s.child,s.tag===22&&s.memoizedState!==null?xf(o):u!==null?(u.return=s,X=u):xf(o);for(;i!==null;)X=i,Sh(i),i=i.sibling;X=o,gi=l,Ke=a}vf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,X=i):vf(e)}}function vf(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||bs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tf(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&To(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ke||t.flags&512&&Cu(t)}catch(p){Me(t,t.return,p)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function wf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function xf(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bs(4,t)}catch(u){Me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Me(t,o,u)}}var i=t.return;try{Cu(t)}catch(u){Me(t,i,u)}break;case 5:var s=t.return;try{Cu(t)}catch(u){Me(t,s,u)}}}catch(u){Me(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var qy=Math.ceil,cs=ln.ReactCurrentDispatcher,Ia=ln.ReactCurrentOwner,Nt=ln.ReactCurrentBatchConfig,ue=0,De=null,be=null,Be=0,ft=0,wr=Rn(0),Ie=0,Fo=null,Qn=0,$s=0,La=0,Eo=null,it=null,Da=0,Dr=1/0,Kt=null,fs=!1,Tu=null,kn=null,yi=!1,vn=null,ds=0,_o=0,zu=null,ji=-1,Oi=0;function Ze(){return ue&6?Re():ji!==-1?ji:ji=Re()}function Nn(e){return e.mode&1?ue&2&&Be!==0?Be&-Be:$y.transition!==null?(Oi===0&&(Oi=ip()),Oi):(e=ce,e!==0||(e=window.event,e=e===void 0?16:dp(e.type)),e):1}function It(e,t,n,r){if(50<_o)throw _o=0,zu=null,Error(B(185));Go(e,n,r),(!(ue&2)||e!==De)&&(e===De&&(!(ue&2)&&($s|=n),Ie===4&&mn(e,Be)),ct(e,r),n===1&&ue===0&&!(t.mode&1)&&(Dr=Re()+500,zs&&bn()))}function ct(e,t){var n=e.callbackNode;$0(e,t);var r=Gi(e,e===De?Be:0);if(r===0)n!==null&&Ac(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ac(n),t===1)e.tag===0?by(Sf.bind(null,e)):Pp(Sf.bind(null,e)),Ty(function(){!(ue&6)&&bn()}),n=null;else{switch(sp(r)){case 1:n=aa;break;case 4:n=rp;break;case 16:n=Ki;break;case 536870912:n=op;break;default:n=Ki}n=Th(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(ji=-1,Oi=0,ue&6)throw Error(B(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=Gi(e,e===De?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ps(e,r);else{t=r;var o=ue;ue|=2;var i=kh();(De!==e||Be!==t)&&(Kt=null,Dr=Re()+500,Vn(e,t));do try{ev();break}catch(l){_h(e,l)}while(!0);Ea(),cs.current=i,ue=o,be!==null?t=0:(De=null,Be=0,t=Ie)}if(t!==0){if(t===2&&(o=ru(e),o!==0&&(r=o,t=Pu(e,o))),t===1)throw n=Fo,Vn(e,0),mn(e,r),ct(e,Re()),n;if(t===6)mn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Zy(o)&&(t=ps(e,r),t===2&&(i=ru(e),i!==0&&(r=i,t=Pu(e,i))),t===1))throw n=Fo,Vn(e,0),mn(e,r),ct(e,Re()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Ln(e,it,Kt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=Da+500-Re(),10<t)){if(Gi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=fu(Ln.bind(null,e,it,Kt),t);break}Ln(e,it,Kt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-$t(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qy(r/1960))-r,10<r){e.timeoutHandle=fu(Ln.bind(null,e,it,Kt),r);break}Ln(e,it,Kt);break;case 5:Ln(e,it,Kt);break;default:throw Error(B(329))}}}return ct(e,Re()),e.callbackNode===n?Eh.bind(null,e):null}function Pu(e,t){var n=Eo;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=ps(e,t),e!==2&&(t=it,it=n,t!==null&&Ru(t)),e}function Ru(e){it===null?it=e:it.push.apply(it,e)}function Zy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Dt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~La,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Sf(e){if(ue&6)throw Error(B(327));Cr();var t=Gi(e,0);if(!(t&1))return ct(e,Re()),null;var n=ps(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Pu(e,r))}if(n===1)throw n=Fo,Vn(e,0),mn(e,t),ct(e,Re()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,it,Kt),ct(e,Re()),null}function ja(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Dr=Re()+500,zs&&bn())}}function qn(e){vn!==null&&vn.tag===0&&!(ue&6)&&Cr();var t=ue;ue|=1;var n=Nt.transition,r=ce;try{if(Nt.transition=null,ce=1,e)return e()}finally{ce=r,Nt.transition=n,ue=t,!(ue&6)&&bn()}}function Oa(){ft=wr.current,we(wr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ay(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&es();break;case 3:Ir(),we(ut),we(Ge),Aa();break;case 5:Ma(r);break;case 4:Ir();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:_a(r.type._context);break;case 22:case 23:Oa()}n=n.return}if(De=e,be=e=Cn(e.current,null),Be=ft=t,Ie=0,Fo=null,La=$s=Qn=0,it=Eo=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}On=null}return e}function _h(e,t){do{var n=be;try{if(Ea(),Ii.current=as,us){for(var r=_e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}us=!1}if(Gn=0,Le=$e=_e=null,xo=!1,Do=0,Ia.current=null,n===null||n.return===null){Ie=1,Fo=t,be=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Be,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=uf(s);if(g!==null){g.flags&=-257,af(g,s,l,i,t),g.mode&1&&lf(i,a,t),t=g,u=a;var x=t.updateQueue;if(x===null){var w=new Set;w.add(u),t.updateQueue=w}else x.add(u);break e}else{if(!(t&1)){lf(i,a,t),Fa();break e}u=Error(B(426))}}else if(xe&&l.mode&1){var S=uf(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),af(S,s,l,i,t),xa(Lr(u,l));break e}}i=u=Lr(u,l),Ie!==4&&(Ie=2),Eo===null?Eo=[i]:Eo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=sh(i,u,t);ef(i,d);break e;case 1:l=u;var h=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kn===null||!kn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=lh(i,l,t);ef(i,y);break e}}i=i.return}while(i!==null)}Ch(n)}catch(E){t=E,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function kh(){var e=cs.current;return cs.current=as,e===null?as:e}function Fa(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),De===null||!(Qn&268435455)&&!($s&268435455)||mn(De,Be)}function ps(e,t){var n=ue;ue|=2;var r=kh();(De!==e||Be!==t)&&(Kt=null,Vn(e,t));do try{Jy();break}catch(o){_h(e,o)}while(!0);if(Ea(),ue=n,cs.current=r,be!==null)throw Error(B(261));return De=null,Be=0,Ie}function Jy(){for(;be!==null;)Nh(be)}function ev(){for(;be!==null&&!N0();)Nh(be)}function Nh(e){var t=Ah(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Ch(e):be=t,Ia.current=null}function Ch(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yy(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,be=null;return}}else if(n=Xy(n,t,ft),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ie===0&&(Ie=5)}function Ln(e,t,n){var r=ce,o=Nt.transition;try{Nt.transition=null,ce=1,tv(e,t,n,r)}finally{Nt.transition=o,ce=r}return null}function tv(e,t,n,r){do Cr();while(vn!==null);if(ue&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(I0(e,i),e===De&&(be=De=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,Th(Ki,function(){return Cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nt.transition,Nt.transition=null;var s=ce;ce=1;var l=ue;ue|=4,Ia.current=null,Gy(e,n),xh(n,e),Sy(au),Qi=!!uu,au=uu=null,e.current=n,Qy(n),C0(),ue=l,ce=s,Nt.transition=i}else e.current=n;if(yi&&(yi=!1,vn=e,ds=o),i=e.pendingLanes,i===0&&(kn=null),T0(n.stateNode),ct(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(fs)throw fs=!1,e=Tu,Tu=null,e;return ds&1&&e.tag!==0&&Cr(),i=e.pendingLanes,i&1?e===zu?_o++:(_o=0,zu=e):_o=0,bn(),null}function Cr(){if(vn!==null){var e=sp(ds),t=Nt.transition,n=ce;try{if(Nt.transition=null,ce=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,ds=0,ue&6)throw Error(B(331));var o=ue;for(ue|=4,X=e.current;X!==null;){var i=X,s=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(X=a;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:So(8,c,i)}var f=c.child;if(f!==null)f.return=c,X=f;else for(;X!==null;){c=X;var p=c.sibling,g=c.return;if(yh(c),c===a){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}X=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,X=s;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:So(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,X=d;break e}X=i.return}}var h=e.current;for(X=h;X!==null;){s=X;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,X=m;else e:for(s=h;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bs(9,l)}}catch(E){Me(l,l.return,E)}if(l===s){X=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,X=y;break e}X=l.return}}if(ue=o,bn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ns,e)}catch{}r=!0}return r}finally{ce=n,Nt.transition=t}}return!1}function Ef(e,t,n){t=Lr(n,t),t=sh(e,t,1),e=_n(e,t,1),t=Ze(),e!==null&&(Go(e,1,t),ct(e,t))}function Me(e,t,n){if(e.tag===3)Ef(e,e,n);else for(;t!==null;){if(t.tag===3){Ef(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Lr(n,e),e=lh(t,e,1),t=_n(t,e,1),e=Ze(),t!==null&&(Go(t,1,e),ct(t,e));break}}t=t.return}}function nv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Be&n)===n&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Re()-Da?Vn(e,0):La|=n),ct(e,t)}function Mh(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var n=Ze();e=nn(e,t),e!==null&&(Go(e,t,n),ct(e,n))}function rv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mh(e,n)}function ov(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Mh(e,n)}var Ah;Ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Wy(e,t,n);st=!!(e.flags&131072)}else st=!1,xe&&t.flags&1048576&&Rp(t,rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Di(e,t),e=t.pendingProps;var o=Rr(t,Ge.current);Nr(t,n),o=za(null,t,r,e,o,n);var i=Pa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,ts(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Na(t),o.updater=Rs,t.stateNode=o,o._reactInternals=t,vu(t,r,e,n),t=Su(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&va(t),qe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=sv(r),e=Tt(r,e),o){case 0:t=xu(null,t,r,e,n);break e;case 1:t=df(null,t,r,e,n);break e;case 11:t=cf(null,t,r,e,n);break e;case 14:t=ff(null,t,r,Tt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),xu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),df(e,t,r,o,n);case 3:e:{if(fh(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,jp(e,t),ss(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Lr(Error(B(423)),t),t=pf(e,t,r,n,o);break e}else if(r!==o){o=Lr(Error(B(424)),t),t=pf(e,t,r,n,o);break e}else for(pt=En(t.stateNode.containerInfo.firstChild),ht=t,xe=!0,Pt=null,n=Lp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===o){t=rn(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Op(t),e===null&&mu(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,cu(r,o)?s=null:i!==null&&cu(r,i)&&(t.flags|=32),ch(e,t),qe(e,t,s,n),t.child;case 6:return e===null&&mu(t),null;case 13:return dh(e,t,n);case 4:return Ca(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$r(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),cf(e,t,r,o,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ge(os,r._currentValue),r._currentValue=s,i!==null)if(Dt(i.value,s)){if(i.children===o.children&&!ut.current){t=rn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Jt(-1,n&-n),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),gu(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Nr(t,n),o=Ct(o),r=r(o),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,o=Tt(r,t.pendingProps),o=Tt(r.type,o),ff(e,t,r,o,n);case 15:return uh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),Di(e,t),t.tag=1,at(r)?(e=!0,ts(t)):e=!1,Nr(t,n),ih(t,r,o),vu(t,r,o,n),Su(null,t,r,!0,e,n);case 19:return ph(e,t,n);case 22:return ah(e,t,n)}throw Error(B(156,t.tag))};function Th(e,t){return np(e,t)}function iv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new iv(e,t,n,r)}function Ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sv(e){if(typeof e=="function")return Ha(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sa)return 11;if(e===la)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Ha(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ar:return Un(n.children,o,i,t);case ia:s=8,o|=8;break;case Bl:return e=_t(12,n,t,o|2),e.elementType=Bl,e.lanes=i,e;case Vl:return e=_t(13,n,t,o),e.elementType=Vl,e.lanes=i,e;case Ul:return e=_t(19,n,t,o),e.elementType=Ul,e.lanes=i,e;case Od:return Is(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dd:s=10;break e;case jd:s=9;break e;case sa:s=11;break e;case la:s=14;break e;case cn:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=_t(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Un(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function Is(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Od,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Cl(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ba(e,t,n,r,o,i,s,l,u){return e=new lv(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(i),e}function uv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zh(e){if(!e)return zn;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(at(n))return zp(e,n,t)}return t}function Ph(e,t,n,r,o,i,s,l,u){return e=Ba(n,r,!0,e,o,i,s,l,u),e.context=zh(null),n=e.current,r=Ze(),o=Nn(n),i=Jt(r,o),i.callback=t??null,_n(n,i,o),e.current.lanes=o,Go(e,o,r),ct(e,r),e}function Ls(e,t,n,r){var o=t.current,i=Ze(),s=Nn(o);return n=zh(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(o,t,s),e!==null&&(It(e,o,s,i),$i(e,o,s)),s}function hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Va(e,t){_f(e,t),(e=e.alternate)&&_f(e,t)}function av(){return null}var Rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ua(e){this._internalRoot=e}Ds.prototype.render=Ua.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Ls(e,t,null,null)};Ds.prototype.unmount=Ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Ls(null,e,null,null)}),t[tn]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=ap();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&fp(e)}};function Wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function cv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var a=hs(s);i.call(a)}}var s=Ph(t,r,e,0,null,!1,!1,"",kf);return e._reactRootContainer=s,e[tn]=s.current,Ro(e.nodeType===8?e.parentNode:e),qn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var a=hs(u);l.call(a)}}var u=Ba(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=u,e[tn]=u.current,Ro(e.nodeType===8?e.parentNode:e),qn(function(){Ls(t,u,n,r)}),u}function Os(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var u=hs(s);l.call(u)}}Ls(t,s,e,o)}else s=cv(n,t,e,o,r);return hs(s)}lp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ao(t.pendingLanes);n!==0&&(ca(t,n|1),ct(t,Re()),!(ue&6)&&(Dr=Re()+500,bn()))}break;case 13:qn(function(){var r=nn(e,1);if(r!==null){var o=Ze();It(r,e,1,o)}}),Va(e,1)}};fa=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=Ze();It(t,e,134217728,n)}Va(e,134217728)}};up=function(e){if(e.tag===13){var t=Nn(e),n=nn(e,t);if(n!==null){var r=Ze();It(n,e,t,r)}Va(e,t)}};ap=function(){return ce};cp=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};eu=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ts(r);if(!o)throw Error(B(90));Hd(r),Yl(r,o)}}}break;case"textarea":Vd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};Qd=ja;qd=qn;var fv={usingClientEntryPoint:!1,Events:[qo,pr,Ts,Kd,Gd,ja]},to={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dv={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ep(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Ns=vi.inject(dv),Vt=vi}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wa(t))throw Error(B(200));return uv(e,t,null,n)};vt.createRoot=function(e,t){if(!Wa(e))throw Error(B(299));var n=!1,r="",o=Rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ba(e,1,!1,null,null,n,!1,r,o),e[tn]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Ua(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=ep(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return qn(e)};vt.hydrate=function(e,t,n){if(!js(t))throw Error(B(200));return Os(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!Wa(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Rh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ph(t,null,e,1,n??null,o,!1,i,s),e[tn]=t.current,Ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ds(t)};vt.render=function(e,t,n){if(!js(t))throw Error(B(200));return Os(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!js(e))throw Error(B(40));return e._reactRootContainer?(qn(function(){Os(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};vt.unstable_batchedUpdates=ja;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!js(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Os(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),bd.exports=vt;var pv=bd.exports,Nf=pv;Fl.createRoot=Nf.createRoot,Fl.hydrateRoot=Nf.hydrateRoot;const Cf="http://www.w3.org/2000/svg",hv=new Set(["path","polyline","line","circle","ellipse","rect","polygon"]);function Fs(e){const t=new DOMParser().parseFromString(e,"image/svg+xml");t.querySelectorAll('[id^="kvg:StrokeNumbers_"], [id^="kvg:Numbers_"], [id^="kvg:Grid_"], [id^="kvg:Guideline_"]').forEach(c=>c.remove());const n=t.querySelector("svg");if(!n)return{svg:e,count:0};n.removeAttribute("width"),n.removeAttribute("height"),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("viewBox",n.getAttribute("viewBox")||"0 0 109 109"),n.setAttribute("vector-effect","non-scaling-stroke"),n.setAttribute("preserveAspectRatio","xMidYMid meet");const r=[];t.querySelectorAll("[id]").forEach(c=>{const p=(c.getAttribute("id")||"").match(/-s(\d+)$/);if(p){const g=parseInt(p[1],10);Number.isNaN(g)||r.push({n:g,el:c})}});const o=new Map,i=(c,f)=>{const p=t.createTreeWalker(c,NodeFilter.SHOW_ELEMENT);let g=p.currentNode;for(;g;)hv.has(g.tagName.toLowerCase())&&f.appendChild(g.cloneNode(!0)),g=p.nextNode()};for(const{n:c,el:f}of r){let p=o.get(c);p||(p=t.createElementNS(Cf,"g"),p.setAttribute("data-stroke",String(c)),o.set(c,p)),i(f,p)}const s=t.querySelector('[id^="kvg:StrokePaths_"]');s&&s.setAttribute("display","none");const l=t.createElementNS(Cf,"g");l.setAttribute("id","__baked_strokes__");const u=[...o.keys()].sort((c,f)=>c-f);let a=0;for(const c of u){const f=o.get(c);f.childNodes.length>0&&(l.appendChild(f),a=Math.max(a,c))}return n.appendChild(l),{svg:new XMLSerializer().serializeToString(t),count:a||u.length}}function Hs(e,t,n){const r=new DOMParser().parseFromString(e,"image/svg+xml"),o=r.querySelector("svg");if(!o)return e;const i=Math.min(t,n),s=Math.max(t,n);return o.querySelectorAll("g[data-stroke]").forEach(l=>l.setAttribute("display","none")),o.querySelectorAll("g[data-stroke]").forEach(l=>{const u=parseInt(l.getAttribute("data-stroke")||"0",10);u>=i&&u<=s&&l.removeAttribute("display")}),new XMLSerializer().serializeToString(r)}function Xa(e){try{const t=new DOMParser().parseFromString(e,"image/svg+xml"),n=t.querySelectorAll("g[data-stroke]").length;if(n>0)return n;let r=0;return t.querySelectorAll("[id]").forEach(o=>{const s=(o.getAttribute("id")||"").match(/-s(\\d+)$/);s&&(r=Math.max(r,parseInt(s[1],10)))}),r||1}catch{return 1}}function tt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=tt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var $h={exports:{}},Ih={},Lh={exports:{}},Dh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr=I;function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gv=typeof Object.is=="function"?Object.is:mv,yv=jr.useState,vv=jr.useEffect,wv=jr.useLayoutEffect,xv=jr.useDebugValue;function Sv(e,t){var n=t(),r=yv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return wv(function(){o.value=n,o.getSnapshot=t,Ml(o)&&i({inst:o})},[e,n,t]),vv(function(){return Ml(o)&&i({inst:o}),e(function(){Ml(o)&&i({inst:o})})},[e]),xv(n),n}function Ml(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gv(e,n)}catch{return!0}}function Ev(e,t){return t()}var _v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ev:Sv;Dh.useSyncExternalStore=jr.useSyncExternalStore!==void 0?jr.useSyncExternalStore:_v;Lh.exports=Dh;var kv=Lh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=I,Nv=kv;function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mv=typeof Object.is=="function"?Object.is:Cv,Av=Nv.useSyncExternalStore,Tv=Bs.useRef,zv=Bs.useEffect,Pv=Bs.useMemo,Rv=Bs.useDebugValue;Ih.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Tv(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Pv(function(){function u(g){if(!a){if(a=!0,c=g,g=r(g),o!==void 0&&s.hasValue){var x=s.value;if(o(x,g))return f=x}return f=g}if(x=f,Mv(c,g))return x;var w=r(g);return o!==void 0&&o(x,w)?(c=g,x):(c=g,f=w)}var a=!1,c,f,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,o]);var l=Av(e,i[0],i[1]);return zv(function(){s.hasValue=!0,s.value=l},[l]),Rv(l),l};$h.exports=Ih;var bv=$h.exports;const $v=Sd(bv),Iv={},Mf=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>a,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Iv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,u);return u},Lv=e=>e?Mf(e):Mf,{useDebugValue:Dv}=C,{useSyncExternalStoreWithSelector:jv}=$v,Ov=e=>e;function jh(e,t=Ov,n){const r=jv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Dv(r),r}const Af=(e,t)=>{const n=Lv(e),r=(o,i=t)=>jh(n,o,i);return Object.assign(r,n),r},Fv=(e,t)=>e?Af(e,t):Af;function Qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Hv={value:()=>{}};function Vs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hi(n)}function Hi(e){this._=e}function Bv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hi.prototype=Vs.prototype={constructor:Hi,on:function(e,t){var n=this._,r=Bv(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Vv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Tf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Tf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hi(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Vv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Tf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Hv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var bu="http://www.w3.org/1999/xhtml";const zf={svg:"http://www.w3.org/2000/svg",xhtml:bu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Us(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),zf.hasOwnProperty(t)?{space:zf[t],local:e}:e}function Uv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bu&&t.documentElement.namespaceURI===bu?t.createElement(e):t.createElementNS(n,e)}}function Wv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oh(e){var t=Us(e);return(t.local?Wv:Uv)(t)}function Xv(){}function Ya(e){return e==null?Xv:function(){return this.querySelector(e)}}function Yv(e){typeof e!="function"&&(e=Ya(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),u,a,c=0;c<s;++c)(u=i[c])&&(a=e.call(u,u.__data__,c,i))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new yt(r,this._parents)}function Kv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gv(){return[]}function Fh(e){return e==null?Gv:function(){return this.querySelectorAll(e)}}function Qv(e){return function(){return Kv(e.apply(this,arguments))}}function qv(e){typeof e=="function"?e=Qv(e):e=Fh(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(e.call(u,u.__data__,a,s)),o.push(u));return new yt(r,o)}function Hh(e){return function(){return this.matches(e)}}function Bh(e){return function(t){return t.matches(e)}}var Zv=Array.prototype.find;function Jv(e){return function(){return Zv.call(this.children,e)}}function ew(){return this.firstElementChild}function tw(e){return this.select(e==null?ew:Jv(typeof e=="function"?e:Bh(e)))}var nw=Array.prototype.filter;function rw(){return Array.from(this.children)}function ow(e){return function(){return nw.call(this.children,e)}}function iw(e){return this.selectAll(e==null?rw:ow(typeof e=="function"?e:Bh(e)))}function sw(e){typeof e!="function"&&(e=Hh(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],u,a=0;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&l.push(u);return new yt(r,this._parents)}function Vh(e){return new Array(e.length)}function lw(){return new yt(this._enter||this._groups.map(Vh),this._parents)}function ms(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ms.prototype={constructor:ms,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uw(e){return function(){return e}}function aw(e,t,n,r,o,i){for(var s=0,l,u=t.length,a=i.length;s<a;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new ms(e,i[s]);for(;s<u;++s)(l=t[s])&&(o[s]=l)}function cw(e,t,n,r,o,i,s){var l,u,a=new Map,c=t.length,f=i.length,p=new Array(c),g;for(l=0;l<c;++l)(u=t[l])&&(p[l]=g=s.call(u,u.__data__,l,t)+"",a.has(g)?o[l]=u:a.set(g,u));for(l=0;l<f;++l)g=s.call(e,i[l],l,i)+"",(u=a.get(g))?(r[l]=u,u.__data__=i[l],a.delete(g)):n[l]=new ms(e,i[l]);for(l=0;l<c;++l)(u=t[l])&&a.get(p[l])===u&&(o[l]=u)}function fw(e){return e.__data__}function dw(e,t){if(!arguments.length)return Array.from(this,fw);var n=t?cw:aw,r=this._parents,o=this._groups;typeof e!="function"&&(e=uw(e));for(var i=o.length,s=new Array(i),l=new Array(i),u=new Array(i),a=0;a<i;++a){var c=r[a],f=o[a],p=f.length,g=pw(e.call(c,c&&c.__data__,a,r)),x=g.length,w=l[a]=new Array(x),S=s[a]=new Array(x),d=u[a]=new Array(p);n(c,f,w,S,d,g,t);for(var h=0,m=0,y,E;h<x;++h)if(y=w[h]){for(h>=m&&(m=h+1);!(E=S[m])&&++m<x;);y._next=E||null}}return s=new yt(s,r),s._enter=l,s._exit=u,s}function pw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hw(){return new yt(this._exit||this._groups.map(Vh),this._parents)}function mw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function gw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),u=0;u<s;++u)for(var a=n[u],c=r[u],f=a.length,p=l[u]=new Array(f),g,x=0;x<f;++x)(g=a[x]||c[x])&&(p[x]=g);for(;u<o;++u)l[u]=n[u];return new yt(l,this._parents)}function yw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function vw(e){e||(e=ww);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,u=o[i]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new yt(o,this._parents).order()}function ww(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sw(){return Array.from(this)}function Ew(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function _w(){let e=0;for(const t of this)++e;return e}function kw(){return!this.node()}function Nw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function Cw(e){return function(){this.removeAttribute(e)}}function Mw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Aw(e,t){return function(){this.setAttribute(e,t)}}function Tw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Pw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rw(e,t){var n=Us(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Mw:Cw:typeof t=="function"?n.local?Pw:zw:n.local?Tw:Aw)(n,t))}function Uh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bw(e){return function(){this.style.removeProperty(e)}}function $w(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Iw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lw(e,t,n){return arguments.length>1?this.each((t==null?bw:typeof t=="function"?Iw:$w)(e,t,n??"")):Or(this.node(),e)}function Or(e,t){return e.style.getPropertyValue(t)||Uh(e).getComputedStyle(e,null).getPropertyValue(t)}function Dw(e){return function(){delete this[e]}}function jw(e,t){return function(){this[e]=t}}function Ow(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Fw(e,t){return arguments.length>1?this.each((t==null?Dw:typeof t=="function"?Ow:jw)(e,t)):this.node()[e]}function Wh(e){return e.trim().split(/^|\s+/)}function Ka(e){return e.classList||new Xh(e)}function Xh(e){this._node=e,this._names=Wh(e.getAttribute("class")||"")}Xh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Yh(e,t){for(var n=Ka(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Kh(e,t){for(var n=Ka(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Hw(e){return function(){Yh(this,e)}}function Bw(e){return function(){Kh(this,e)}}function Vw(e,t){return function(){(t.apply(this,arguments)?Yh:Kh)(this,e)}}function Uw(e,t){var n=Wh(e+"");if(arguments.length<2){for(var r=Ka(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Vw:t?Hw:Bw)(n,t))}function Ww(){this.textContent=""}function Xw(e){return function(){this.textContent=e}}function Yw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kw(e){return arguments.length?this.each(e==null?Ww:(typeof e=="function"?Yw:Xw)(e)):this.node().textContent}function Gw(){this.innerHTML=""}function Qw(e){return function(){this.innerHTML=e}}function qw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zw(e){return arguments.length?this.each(e==null?Gw:(typeof e=="function"?qw:Qw)(e)):this.node().innerHTML}function Jw(){this.nextSibling&&this.parentNode.appendChild(this)}function e1(){return this.each(Jw)}function t1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n1(){return this.each(t1)}function r1(e){var t=typeof e=="function"?e:Oh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function o1(){return null}function i1(e,t){var n=typeof e=="function"?e:Oh(e),r=t==null?o1:typeof t=="function"?t:Ya(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function s1(){var e=this.parentNode;e&&e.removeChild(this)}function l1(){return this.each(s1)}function u1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c1(e){return this.select(e?a1:u1)}function f1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function d1(e){return function(t){e.call(this,t,this.__data__)}}function p1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function h1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function m1(e,t,n){return function(){var r=this.__on,o,i=d1(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function g1(e,t,n){var r=p1(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(o=0,c=l[u];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?m1:h1,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Gh(e,t,n){var r=Uh(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function y1(e,t){return function(){return Gh(this,e,t)}}function v1(e,t){return function(){return Gh(this,e,t.apply(this,arguments))}}function w1(e,t){return this.each((typeof t=="function"?v1:y1)(e,t))}function*x1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Qh=[null];function yt(e,t){this._groups=e,this._parents=t}function Jo(){return new yt([[document.documentElement]],Qh)}function S1(){return this}yt.prototype=Jo.prototype={constructor:yt,select:Yv,selectAll:qv,selectChild:tw,selectChildren:iw,filter:sw,data:dw,enter:lw,exit:hw,join:mw,merge:gw,selection:S1,order:yw,sort:vw,call:xw,nodes:Sw,node:Ew,size:_w,empty:kw,each:Nw,attr:Rw,style:Lw,property:Fw,classed:Uw,text:Kw,html:Zw,raise:e1,lower:n1,append:r1,insert:i1,remove:l1,clone:c1,datum:f1,on:g1,dispatch:w1,[Symbol.iterator]:x1};function Rt(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Qh)}function E1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ht(e,t){if(e=E1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const _1={passive:!1},Ho={capture:!0,passive:!1};function Al(e){e.stopImmediatePropagation()}function Mr(e){e.preventDefault(),e.stopImmediatePropagation()}function qh(e){var t=e.document.documentElement,n=Rt(e).on("dragstart.drag",Mr,Ho);"onselectstart"in t?n.on("selectstart.drag",Mr,Ho):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Zh(e,t){var n=e.document.documentElement,r=Rt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mr,Ho),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const wi=e=>()=>e;function $u(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}$u.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function k1(e){return!e.ctrlKey&&!e.button}function N1(){return this.parentNode}function C1(e,t){return t??{x:e.x,y:e.y}}function M1(){return navigator.maxTouchPoints||"ontouchstart"in this}function A1(){var e=k1,t=N1,n=C1,r=M1,o={},i=Vs("start","drag","end"),s=0,l,u,a,c,f=0;function p(y){y.on("mousedown.drag",g).filter(r).on("touchstart.drag",S).on("touchmove.drag",d,_1).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(y,E){if(!(c||!e.call(this,y,E))){var k=m(this,t.call(this,y,E),y,E,"mouse");k&&(Rt(y.view).on("mousemove.drag",x,Ho).on("mouseup.drag",w,Ho),qh(y.view),Al(y),a=!1,l=y.clientX,u=y.clientY,k("start",y))}}function x(y){if(Mr(y),!a){var E=y.clientX-l,k=y.clientY-u;a=E*E+k*k>f}o.mouse("drag",y)}function w(y){Rt(y.view).on("mousemove.drag mouseup.drag",null),Zh(y.view,a),Mr(y),o.mouse("end",y)}function S(y,E){if(e.call(this,y,E)){var k=y.changedTouches,A=t.call(this,y,E),z=k.length,b,L;for(b=0;b<z;++b)(L=m(this,A,y,E,k[b].identifier,k[b]))&&(Al(y),L("start",y,k[b]))}}function d(y){var E=y.changedTouches,k=E.length,A,z;for(A=0;A<k;++A)(z=o[E[A].identifier])&&(Mr(y),z("drag",y,E[A]))}function h(y){var E=y.changedTouches,k=E.length,A,z;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<k;++A)(z=o[E[A].identifier])&&(Al(y),z("end",y,E[A]))}function m(y,E,k,A,z,b){var L=i.copy(),O=Ht(b||k,E),V,H,v;if((v=n.call(y,new $u("beforestart",{sourceEvent:k,target:p,identifier:z,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:L}),A))!=null)return V=v.x-O[0]||0,H=v.y-O[1]||0,function P(N,R,M){var _=O,T;switch(N){case"start":o[z]=P,T=s++;break;case"end":delete o[z],--s;case"drag":O=Ht(M||R,E),T=s;break}L.call(N,y,new $u(N,{sourceEvent:R,subject:v,target:p,identifier:z,active:T,x:O[0]+V,y:O[1]+H,dx:O[0]-_[0],dy:O[1]-_[1],dispatch:L}),A)}}return p.filter=function(y){return arguments.length?(e=typeof y=="function"?y:wi(!!y),p):e},p.container=function(y){return arguments.length?(t=typeof y=="function"?y:wi(y),p):t},p.subject=function(y){return arguments.length?(n=typeof y=="function"?y:wi(y),p):n},p.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:wi(!!y),p):r},p.on=function(){var y=i.on.apply(i,arguments);return y===i?p:y},p.clickDistance=function(y){return arguments.length?(f=(y=+y)*y,p):Math.sqrt(f)},p}function Ga(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ei(){}var Bo=.7,gs=1/Bo,Ar="\\s*([+-]?\\d+)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T1=/^#([0-9a-f]{3,8})$/,z1=new RegExp(`^rgb\\(${Ar},${Ar},${Ar}\\)$`),P1=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),R1=new RegExp(`^rgba\\(${Ar},${Ar},${Ar},${Vo}\\)$`),b1=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${Vo}\\)$`),$1=new RegExp(`^hsl\\(${Vo},${Wt},${Wt}\\)$`),I1=new RegExp(`^hsla\\(${Vo},${Wt},${Wt},${Vo}\\)$`),Pf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ga(ei,Uo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rf,formatHex:Rf,formatHex8:L1,formatHsl:D1,formatRgb:bf,toString:bf});function Rf(){return this.rgb().formatHex()}function L1(){return this.rgb().formatHex8()}function D1(){return em(this).formatHsl()}function bf(){return this.rgb().formatRgb()}function Uo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=T1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$f(t):n===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z1.exec(e))?new lt(t[1],t[2],t[3],1):(t=P1.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R1.exec(e))?xi(t[1],t[2],t[3],t[4]):(t=b1.exec(e))?xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$1.exec(e))?Df(t[1],t[2]/100,t[3]/100,1):(t=I1.exec(e))?Df(t[1],t[2]/100,t[3]/100,t[4]):Pf.hasOwnProperty(e)?$f(Pf[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function $f(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function xi(e,t,n,r){return r<=0&&(e=t=n=NaN),new lt(e,t,n,r)}function j1(e){return e instanceof ei||(e=Uo(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function Iu(e,t,n,r){return arguments.length===1?j1(e):new lt(e,t,n,r??1)}function lt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ga(lt,Iu,Jh(ei,{brighter(e){return e=e==null?gs:Math.pow(gs,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(Wn(this.r),Wn(this.g),Wn(this.b),ys(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:If,formatHex:If,formatHex8:O1,formatRgb:Lf,toString:Lf}));function If(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}`}function O1(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}${Hn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lf(){const e=ys(this.opacity);return`${e===1?"rgb(":"rgba("}${Wn(this.r)}, ${Wn(this.g)}, ${Wn(this.b)}${e===1?")":`, ${e})`}`}function ys(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hn(e){return e=Wn(e),(e<16?"0":"")+e.toString(16)}function Df(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,r)}function em(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof ei||(e=Uo(e)),!e)return new bt;if(e instanceof bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,u=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?i+o:2-i-o,s*=60):l=u>0&&u<1?0:s,new bt(s,l,u,e.opacity)}function F1(e,t,n,r){return arguments.length===1?em(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ga(bt,F1,Jh(ei,{brighter(e){return e=e==null?gs:Math.pow(gs,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new lt(Tl(e>=240?e-240:e+120,o,r),Tl(e,o,r),Tl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new bt(jf(this.h),Si(this.s),Si(this.l),ys(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ys(this.opacity);return`${e===1?"hsl(":"hsla("}${jf(this.h)}, ${Si(this.s)*100}%, ${Si(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jf(e){return e=(e||0)%360,e<0?e+360:e}function Si(e){return Math.max(0,Math.min(1,e||0))}function Tl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tm=e=>()=>e;function H1(e,t){return function(n){return e+n*t}}function B1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function V1(e){return(e=+e)==1?nm:function(t,n){return n-t?B1(t,n,e):tm(isNaN(t)?n:t)}}function nm(e,t){var n=t-e;return n?H1(e,n):tm(isNaN(e)?t:e)}const Of=function e(t){var n=V1(t);function r(o,i){var s=n((o=Iu(o)).r,(i=Iu(i)).r),l=n(o.g,i.g),u=n(o.b,i.b),a=nm(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=u(c),o.opacity=a(c),o+""}}return r.gamma=e,r}(1);function dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zl=new RegExp(Lu.source,"g");function U1(e){return function(){return e}}function W1(e){return function(t){return e(t)+""}}function X1(e,t){var n=Lu.lastIndex=zl.lastIndex=0,r,o,i,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Lu.exec(e))&&(o=zl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:dn(r,o)})),n=zl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?W1(u[0].x):U1(t):(t=u.length,function(a){for(var c=0,f;c<t;++c)l[(f=u[c]).i]=f.x(a);return l.join("")})}var Ff=180/Math.PI,Du={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rm(e,t,n,r,o,i){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ff,skewX:Math.atan(u)*Ff,scaleX:s,scaleY:l}}var Ei;function Y1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Du:rm(t.a,t.b,t.c,t.d,t.e,t.f)}function K1(e){return e==null||(Ei||(Ei=document.createElementNS("http://www.w3.org/2000/svg","g")),Ei.setAttribute("transform",e),!(e=Ei.transform.baseVal.consolidate()))?Du:(e=e.matrix,rm(e.a,e.b,e.c,e.d,e.e,e.f))}function om(e,t,n,r){function o(a){return a.length?a.pop()+" ":""}function i(a,c,f,p,g,x){if(a!==f||c!==p){var w=g.push("translate(",null,t,null,n);x.push({i:w-4,x:dn(a,f)},{i:w-2,x:dn(c,p)})}else(f||p)&&g.push("translate("+f+t+p+n)}function s(a,c,f,p){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),p.push({i:f.push(o(f)+"rotate(",null,r)-2,x:dn(a,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(a,c,f,p){a!==c?p.push({i:f.push(o(f)+"skewX(",null,r)-2,x:dn(a,c)}):c&&f.push(o(f)+"skewX("+c+r)}function u(a,c,f,p,g,x){if(a!==f||c!==p){var w=g.push(o(g)+"scale(",null,",",null,")");x.push({i:w-4,x:dn(a,f)},{i:w-2,x:dn(c,p)})}else(f!==1||p!==1)&&g.push(o(g)+"scale("+f+","+p+")")}return function(a,c){var f=[],p=[];return a=e(a),c=e(c),i(a.translateX,a.translateY,c.translateX,c.translateY,f,p),s(a.rotate,c.rotate,f,p),l(a.skewX,c.skewX,f,p),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,f,p),a=c=null,function(g){for(var x=-1,w=p.length,S;++x<w;)f[(S=p[x]).i]=S.x(g);return f.join("")}}}var G1=om(Y1,"px, ","px)","deg)"),Q1=om(K1,", ",")",")"),q1=1e-12;function Hf(e){return((e=Math.exp(e))+1/e)/2}function Z1(e){return((e=Math.exp(e))-1/e)/2}function J1(e){return((e=Math.exp(2*e))-1)/(e+1)}const ex=function e(t,n,r){function o(i,s){var l=i[0],u=i[1],a=i[2],c=s[0],f=s[1],p=s[2],g=c-l,x=f-u,w=g*g+x*x,S,d;if(w<q1)d=Math.log(p/a)/t,S=function(A){return[l+A*g,u+A*x,a*Math.exp(t*A*d)]};else{var h=Math.sqrt(w),m=(p*p-a*a+r*w)/(2*a*n*h),y=(p*p-a*a-r*w)/(2*p*n*h),E=Math.log(Math.sqrt(m*m+1)-m),k=Math.log(Math.sqrt(y*y+1)-y);d=(k-E)/t,S=function(A){var z=A*d,b=Hf(E),L=a/(n*h)*(b*J1(t*z+E)-Z1(E));return[l+L*g,u+L*x,a*b/Hf(t*z+E)]}}return S.duration=d*1e3*t/Math.SQRT2,S}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,u=l*l;return e(s,l,u)},o}(Math.SQRT2,2,4);var Fr=0,fo=0,no=0,im=1e3,vs,po,ws=0,Zn=0,Ws=0,Wo=typeof performance=="object"&&performance.now?performance:Date,sm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qa(){return Zn||(sm(tx),Zn=Wo.now()+Ws)}function tx(){Zn=0}function xs(){this._call=this._time=this._next=null}xs.prototype=lm.prototype={constructor:xs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qa():+n)+(t==null?0:+t),!this._next&&po!==this&&(po?po._next=this:vs=this,po=this),this._call=e,this._time=n,ju()},stop:function(){this._call&&(this._call=null,this._time=1/0,ju())}};function lm(e,t,n){var r=new xs;return r.restart(e,t,n),r}function nx(){Qa(),++Fr;for(var e=vs,t;e;)(t=Zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fr}function Bf(){Zn=(ws=Wo.now())+Ws,Fr=fo=0;try{nx()}finally{Fr=0,ox(),Zn=0}}function rx(){var e=Wo.now(),t=e-ws;t>im&&(Ws-=t,ws=e)}function ox(){for(var e,t=vs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:vs=n);po=e,ju(r)}function ju(e){if(!Fr){fo&&(fo=clearTimeout(fo));var t=e-Zn;t>24?(e<1/0&&(fo=setTimeout(Bf,e-Wo.now()-Ws)),no&&(no=clearInterval(no))):(no||(ws=Wo.now(),no=setInterval(rx,im)),Fr=1,sm(Bf))}}function Vf(e,t,n){var r=new xs;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var ix=Vs("start","end","cancel","interrupt"),sx=[],um=0,Uf=1,Ou=2,Bi=3,Wf=4,Fu=5,Vi=6;function Xs(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;lx(e,n,{name:t,index:r,group:o,on:ix,tween:sx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:um})}function qa(e,t){var n=jt(e,t);if(n.state>um)throw new Error("too late; already scheduled");return n}function Xt(e,t){var n=jt(e,t);if(n.state>Bi)throw new Error("too late; already running");return n}function jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lx(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=lm(i,0,n.time);function i(a){n.state=Uf,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,f,p,g;if(n.state!==Uf)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===Bi)return Vf(s);g.state===Wf?(g.state=Vi,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=Vi,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(Vf(function(){n.state===Bi&&(n.state=Wf,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=Ou,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ou){for(n.state=Bi,o=new Array(p=n.tween.length),c=0,f=-1;c<p;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=g);o.length=f+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Fu,1),f=-1,p=o.length;++f<p;)o[f].call(e,c);n.state===Fu&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Vi,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function Ui(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ou&&r.state<Fu,r.state=Vi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function ux(e){return this.each(function(){Ui(this,e)})}function ax(e,t){var n,r;return function(){var o=Xt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function cx(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Xt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===t){o[u]=l;break}u===a&&o.push(l)}i.tween=o}}function fx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?ax:cx)(n,e,t))}function Za(e,t,n){var r=e._id;return e.each(function(){var o=Xt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return jt(o,r).value[t]}}function am(e,t){var n;return(typeof t=="number"?dn:t instanceof Uo?Of:(n=Uo(t))?(t=n,Of):X1)(e,t)}function dx(e){return function(){this.removeAttribute(e)}}function px(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function mx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function gx(e,t,n){var r,o,i;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l)))}}function yx(e,t,n){var r,o,i;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l)))}}function vx(e,t){var n=Us(e),r=n==="transform"?Q1:am;return this.attrTween(e,typeof t=="function"?(n.local?yx:gx)(n,r,Za(this,"attr."+e,t)):t==null?(n.local?px:dx)(n):(n.local?mx:hx)(n,r,t))}function wx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Sx(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&xx(e,i)),n}return o._value=t,o}function Ex(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&wx(e,i)),n}return o._value=t,o}function _x(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Us(e);return this.tween(n,(r.local?Sx:Ex)(r,t))}function kx(e,t){return function(){qa(this,e).delay=+t.apply(this,arguments)}}function Nx(e,t){return t=+t,function(){qa(this,e).delay=t}}function Cx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kx:Nx)(t,e)):jt(this.node(),t).delay}function Mx(e,t){return function(){Xt(this,e).duration=+t.apply(this,arguments)}}function Ax(e,t){return t=+t,function(){Xt(this,e).duration=t}}function Tx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mx:Ax)(t,e)):jt(this.node(),t).duration}function zx(e,t){if(typeof t!="function")throw new Error;return function(){Xt(this,e).ease=t}}function Px(e){var t=this._id;return arguments.length?this.each(zx(t,e)):jt(this.node(),t).ease}function Rx(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Xt(this,e).ease=n}}function bx(e){if(typeof e!="function")throw new Error;return this.each(Rx(this._id,e))}function $x(e){typeof e!="function"&&(e=Hh(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],u,a=0;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&l.push(u);return new on(r,this._parents,this._name,this._id)}function Ix(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var u=t[l],a=n[l],c=u.length,f=s[l]=new Array(c),p,g=0;g<c;++g)(p=u[g]||a[g])&&(f[g]=p);for(;l<r;++l)s[l]=t[l];return new on(s,this._parents,this._name,this._id)}function Lx(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Dx(e,t,n){var r,o,i=Lx(t)?qa:Xt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function jx(e,t){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(e):this.each(Dx(n,e,t))}function Ox(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Fx(){return this.on("end.remove",Ox(this._id))}function Hx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ya(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],u=l.length,a=i[s]=new Array(u),c,f,p=0;p<u;++p)(c=l[p])&&(f=e.call(c,c.__data__,p,l))&&("__data__"in c&&(f.__data__=c.__data__),a[p]=f,Xs(a[p],t,n,p,a,jt(c,n)));return new on(i,this._parents,t,n)}function Bx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fh(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var u=r[l],a=u.length,c,f=0;f<a;++f)if(c=u[f]){for(var p=e.call(c,c.__data__,f,u),g,x=jt(c,n),w=0,S=p.length;w<S;++w)(g=p[w])&&Xs(g,t,n,w,p,x);i.push(p),s.push(c)}return new on(i,s,t,n)}var Vx=Jo.prototype.constructor;function Ux(){return new Vx(this._groups,this._parents)}function Wx(e,t){var n,r,o;return function(){var i=Or(this,e),s=(this.style.removeProperty(e),Or(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function cm(e){return function(){this.style.removeProperty(e)}}function Xx(e,t,n){var r,o=n+"",i;return function(){var s=Or(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function Yx(e,t,n){var r,o,i;return function(){var s=Or(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Or(this,e))),s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,l))}}function Kx(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var u=Xt(this,e),a=u.on,c=u.value[i]==null?l||(l=cm(t)):void 0;(a!==n||o!==c)&&(r=(n=a).copy()).on(s,o=c),u.on=r}}function Gx(e,t,n){var r=(e+="")=="transform"?G1:am;return t==null?this.styleTween(e,Wx(e,r)).on("end.style."+e,cm(e)):typeof t=="function"?this.styleTween(e,Yx(e,r,Za(this,"style."+e,t))).each(Kx(this._id,e)):this.styleTween(e,Xx(e,r,t),n).on("end.style."+e,null)}function Qx(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function qx(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&Qx(e,s,n)),r}return i._value=t,i}function Zx(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,qx(e,t,n??""))}function Jx(e){return function(){this.textContent=e}}function eS(e){return function(){var t=e(this);this.textContent=t??""}}function tS(e){return this.tween("text",typeof e=="function"?eS(Za(this,"text",e)):Jx(e==null?"":e+""))}function nS(e){return function(t){this.textContent=e.call(this,t)}}function rS(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&nS(o)),t}return r._value=e,r}function oS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rS(e))}function iS(){for(var e=this._name,t=this._id,n=fm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=jt(u,t);Xs(u,e,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new on(r,this._parents,e,n)}function sS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},u={value:function(){--o===0&&i()}};n.each(function(){var a=Xt(this,r),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),a.on=t}),o===0&&i()})}var lS=0;function on(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fm(){return++lS}var Yt=Jo.prototype;on.prototype={constructor:on,select:Hx,selectAll:Bx,selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:$x,merge:Ix,selection:Ux,transition:iS,call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:jx,attr:vx,attrTween:_x,style:Gx,styleTween:Zx,text:tS,textTween:oS,remove:Fx,tween:fx,delay:Cx,duration:Tx,ease:Px,easeVarying:bx,end:sS,[Symbol.iterator]:Yt[Symbol.iterator]};function uS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var aS={time:null,delay:0,duration:250,ease:uS};function cS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fS(e){var t,n;e instanceof on?(t=e._id,e=e._name):(t=fm(),(n=aS).time=Qa(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,u,a=0;a<l;++a)(u=s[a])&&Xs(u,e,t,a,s,n||cS(u,t));return new on(r,this._parents,e,t)}Jo.prototype.interrupt=ux;Jo.prototype.transition=fS;const _i=e=>()=>e;function dS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Zt(e,t,n){this.k=e,this.x=t,this.y=n}Zt.prototype={constructor:Zt,scale:function(e){return e===1?this:new Zt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mn=new Zt(1,0,0);Zt.prototype;function Pl(e){e.stopImmediatePropagation()}function ro(e){e.preventDefault(),e.stopImmediatePropagation()}function pS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Xf(){return this.__zoom||Mn}function mS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gS(){return navigator.maxTouchPoints||"ontouchstart"in this}function yS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function vS(){var e=pS,t=hS,n=yS,r=mS,o=gS,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ex,a=Vs("start","zoom","end"),c,f,p,g=500,x=150,w=0,S=10;function d(v){v.property("__zoom",Xf).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",L).filter(o).on("touchstart.zoom",O).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(v,P,N,R){var M=v.selection?v.selection():v;M.property("__zoom",Xf),v!==M?E(v,P,N,R):M.interrupt().each(function(){k(this,arguments).event(R).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},d.scaleBy=function(v,P,N,R){d.scaleTo(v,function(){var M=this.__zoom.k,_=typeof P=="function"?P.apply(this,arguments):P;return M*_},N,R)},d.scaleTo=function(v,P,N,R){d.transform(v,function(){var M=t.apply(this,arguments),_=this.__zoom,T=N==null?y(M):typeof N=="function"?N.apply(this,arguments):N,D=_.invert(T),j=typeof P=="function"?P.apply(this,arguments):P;return n(m(h(_,j),T,D),M,s)},N,R)},d.translateBy=function(v,P,N,R){d.transform(v,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),s)},null,R)},d.translateTo=function(v,P,N,R,M){d.transform(v,function(){var _=t.apply(this,arguments),T=this.__zoom,D=R==null?y(_):typeof R=="function"?R.apply(this,arguments):R;return n(Mn.translate(D[0],D[1]).scale(T.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof N=="function"?-N.apply(this,arguments):-N),_,s)},R,M)};function h(v,P){return P=Math.max(i[0],Math.min(i[1],P)),P===v.k?v:new Zt(P,v.x,v.y)}function m(v,P,N){var R=P[0]-N[0]*v.k,M=P[1]-N[1]*v.k;return R===v.x&&M===v.y?v:new Zt(v.k,R,M)}function y(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function E(v,P,N,R){v.on("start.zoom",function(){k(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(R).end()}).tween("zoom",function(){var M=this,_=arguments,T=k(M,_).event(R),D=t.apply(M,_),j=N==null?y(D):typeof N=="function"?N.apply(M,_):N,W=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),U=M.__zoom,G=typeof P=="function"?P.apply(M,_):P,Z=u(U.invert(j).concat(W/U.k),G.invert(j).concat(W/G.k));return function(Y){if(Y===1)Y=G;else{var ie=Z(Y),Se=W/ie[2];Y=new Zt(Se,j[0]-ie[0]*Se,j[1]-ie[1]*Se)}T.zoom(null,Y)}})}function k(v,P,N){return!N&&v.__zooming||new A(v,P)}function A(v,P){this.that=v,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,P),this.taps=0}A.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,P){return this.mouse&&v!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var P=Rt(this.that).datum();a.call(v,this.that,new dS(v,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:a}),P)}};function z(v,...P){if(!e.apply(this,arguments))return;var N=k(this,P).event(v),R=this.__zoom,M=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,r.apply(this,arguments)))),_=Ht(v);if(N.wheel)(N.mouse[0][0]!==_[0]||N.mouse[0][1]!==_[1])&&(N.mouse[1]=R.invert(N.mouse[0]=_)),clearTimeout(N.wheel);else{if(R.k===M)return;N.mouse=[_,R.invert(_)],Ui(this),N.start()}ro(v),N.wheel=setTimeout(T,x),N.zoom("mouse",n(m(h(R,M),N.mouse[0],N.mouse[1]),N.extent,s));function T(){N.wheel=null,N.end()}}function b(v,...P){if(p||!e.apply(this,arguments))return;var N=v.currentTarget,R=k(this,P,!0).event(v),M=Rt(v.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",W,!0),_=Ht(v,N),T=v.clientX,D=v.clientY;qh(v.view),Pl(v),R.mouse=[_,this.__zoom.invert(_)],Ui(this),R.start();function j(U){if(ro(U),!R.moved){var G=U.clientX-T,Z=U.clientY-D;R.moved=G*G+Z*Z>w}R.event(U).zoom("mouse",n(m(R.that.__zoom,R.mouse[0]=Ht(U,N),R.mouse[1]),R.extent,s))}function W(U){M.on("mousemove.zoom mouseup.zoom",null),Zh(U.view,R.moved),ro(U),R.event(U).end()}}function L(v,...P){if(e.apply(this,arguments)){var N=this.__zoom,R=Ht(v.changedTouches?v.changedTouches[0]:v,this),M=N.invert(R),_=N.k*(v.shiftKey?.5:2),T=n(m(h(N,_),R,M),t.apply(this,P),s);ro(v),l>0?Rt(this).transition().duration(l).call(E,T,R,v):Rt(this).call(d.transform,T,R,v)}}function O(v,...P){if(e.apply(this,arguments)){var N=v.touches,R=N.length,M=k(this,P,v.changedTouches.length===R).event(v),_,T,D,j;for(Pl(v),T=0;T<R;++T)D=N[T],j=Ht(D,this),j=[j,this.__zoom.invert(j),D.identifier],M.touch0?!M.touch1&&M.touch0[2]!==j[2]&&(M.touch1=j,M.taps=0):(M.touch0=j,_=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),_&&(M.taps<2&&(f=j[0],c=setTimeout(function(){c=null},g)),Ui(this),M.start())}}function V(v,...P){if(this.__zooming){var N=k(this,P).event(v),R=v.changedTouches,M=R.length,_,T,D,j;for(ro(v),_=0;_<M;++_)T=R[_],D=Ht(T,this),N.touch0&&N.touch0[2]===T.identifier?N.touch0[0]=D:N.touch1&&N.touch1[2]===T.identifier&&(N.touch1[0]=D);if(T=N.that.__zoom,N.touch1){var W=N.touch0[0],U=N.touch0[1],G=N.touch1[0],Z=N.touch1[1],Y=(Y=G[0]-W[0])*Y+(Y=G[1]-W[1])*Y,ie=(ie=Z[0]-U[0])*ie+(ie=Z[1]-U[1])*ie;T=h(T,Math.sqrt(Y/ie)),D=[(W[0]+G[0])/2,(W[1]+G[1])/2],j=[(U[0]+Z[0])/2,(U[1]+Z[1])/2]}else if(N.touch0)D=N.touch0[0],j=N.touch0[1];else return;N.zoom("touch",n(m(T,D,j),N.extent,s))}}function H(v,...P){if(this.__zooming){var N=k(this,P).event(v),R=v.changedTouches,M=R.length,_,T;for(Pl(v),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),_=0;_<M;++_)T=R[_],N.touch0&&N.touch0[2]===T.identifier?delete N.touch0:N.touch1&&N.touch1[2]===T.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(T=Ht(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<S)){var D=Rt(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return d.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:_i(+v),d):r},d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:_i(!!v),d):e},d.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:_i(!!v),d):o},d.extent=function(v){return arguments.length?(t=typeof v=="function"?v:_i([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),d):t},d.scaleExtent=function(v){return arguments.length?(i[0]=+v[0],i[1]=+v[1],d):[i[0],i[1]]},d.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(v){return arguments.length?(n=v,d):n},d.duration=function(v){return arguments.length?(l=+v,d):l},d.interpolate=function(v){return arguments.length?(u=v,d):u},d.on=function(){var v=a.on.apply(a,arguments);return v===a?d:v},d.clickDistance=function(v){return arguments.length?(w=(v=+v)*v,d):Math.sqrt(w)},d.tapDistance=function(v){return arguments.length?(S=+v,d):S},d}const Ys=I.createContext(null),wS=Ys.Provider,sn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},dm=sn.error001();function fe(e,t){const n=I.useContext(Ys);if(n===null)throw new Error(dm);return jh(n,e,t)}const je=()=>{const e=I.useContext(Ys);if(e===null)throw new Error(dm);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},xS=e=>e.userSelectionActive?"none":"all";function pm({position:e,children:t,className:n,style:r,...o}){const i=fe(xS),s=`${e}`.split("-");return C.createElement("div",{className:tt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function SS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:C.createElement(pm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},C.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ES=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:u,className:a,...c})=>{const f=I.useRef(null),[p,g]=I.useState({x:0,y:0,width:0,height:0}),x=tt(["react-flow__edge-textwrapper",a]);return I.useEffect(()=>{if(f.current){const w=f.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:C.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...c},o&&C.createElement("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),C.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:r},n),u)};var _S=I.memo(ES);const Ja=e=>({width:e.offsetWidth,height:e.offsetHeight}),Hr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ec=(e={x:0,y:0},t)=>({x:Hr(e.x,t[0][0],t[1][0]),y:Hr(e.y,t[0][1],t[1][1])}),Yf=(e,t,n)=>e<t?Hr(Math.abs(e-t),1,50)/50:e>n?-Hr(Math.abs(e-n),1,50)/50:0,hm=(e,t)=>{const n=Yf(e.x,35,t.width-35)*20,r=Yf(e.y,35,t.height-35)*20;return[n,r]},mm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},kS=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),NS=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Kf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Hu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},CS=e=>kt(e.width)&&kt(e.height)&&kt(e.x)&&kt(e.y),kt=e=>!isNaN(e)&&isFinite(e),Ae=Symbol.for("internals"),gm=["Enter"," ","Escape"],MS=(e,t)=>{},AS=e=>"nativeEvent"in e;function Bu(e){var o,i;const t=AS(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const ym=e=>"clientX"in e,An=(e,t)=>{var i,s;const n=ym(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ss=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ti=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:p,interactionWidth:g=20})=>C.createElement(C.Fragment,null,C.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),g&&C.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&kt(n)&&kt(r)?C.createElement(_S,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a}):null);ti.displayName="BaseEdge";function oo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function vm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function wm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const u=e*.125+o*.375+s*.375+n*.125,a=t*.125+i*.375+l*.375+r*.125,c=Math.abs(u-e),f=Math.abs(a-t);return[u,a,c,f]}var Jn;(function(e){e.Strict="strict",e.Loose="loose"})(Jn||(Jn={}));var Bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bn||(Bn={}));var Xo;(function(e){e.Partial="partial",e.Full="full"})(Xo||(Xo={}));var gn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(gn||(gn={}));var Es;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Es||(Es={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function Gf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function xm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top}){const[s,l]=Gf({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,a]=Gf({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,p,g]=wm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:a});return[`M${e},${t} C${s},${l} ${u},${a} ${r},${o}`,c,f,p,g]}const nc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:x,interactionWidth:w})=>{const[S,d,h]=xm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return C.createElement(ti,{path:S,labelX:d,labelY:h,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:x,interactionWidth:w})});nc.displayName="SimpleBezierEdge";const Qf={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},TS=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},qf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function zS({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:o,offset:i}){const s=Qf[t],l=Qf[r],u={x:e.x+s.x*i,y:e.y+s.y*i},a={x:n.x+l.x*i,y:n.y+l.y*i},c=TS({source:u,sourcePosition:t,target:a}),f=c.x!==0?"x":"y",p=c[f];let g=[],x,w;const S={x:0,y:0},d={x:0,y:0},[h,m,y,E]=vm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){x=o.x??h,w=o.y??m;const A=[{x,y:u.y},{x,y:a.y}],z=[{x:u.x,y:w},{x:a.x,y:w}];s[f]===p?g=f==="x"?A:z:g=f==="x"?z:A}else{const A=[{x:u.x,y:a.y}],z=[{x:a.x,y:u.y}];if(f==="x"?g=s.x===p?z:A:g=s.y===p?A:z,t===r){const H=Math.abs(e[f]-n[f]);if(H<=i){const v=Math.min(i-1,i-H);s[f]===p?S[f]=(u[f]>e[f]?-1:1)*v:d[f]=(a[f]>n[f]?-1:1)*v}}if(t!==r){const H=f==="x"?"y":"x",v=s[f]===l[H],P=u[H]>a[H],N=u[H]<a[H];(s[f]===1&&(!v&&P||v&&N)||s[f]!==1&&(!v&&N||v&&P))&&(g=f==="x"?A:z)}const b={x:u.x+S.x,y:u.y+S.y},L={x:a.x+d.x,y:a.y+d.y},O=Math.max(Math.abs(b.x-g[0].x),Math.abs(L.x-g[0].x)),V=Math.max(Math.abs(b.y-g[0].y),Math.abs(L.y-g[0].y));O>=V?(x=(b.x+L.x)/2,w=g[0].y):(x=g[0].x,w=(b.y+L.y)/2)}return[[e,{x:u.x+S.x,y:u.y+S.y},...g,{x:a.x+d.x,y:a.y+d.y},n],x,w,y,E]}function PS(e,t,n,r){const o=Math.min(qf(e,t)/2,qf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const a=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*a},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${s+o*u}Q ${i},${s} ${i+o*l},${s}`}function Vu({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,borderRadius:s=5,centerX:l,centerY:u,offset:a=20}){const[c,f,p,g,x]=zS({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:u},offset:a});return[c.reduce((S,d,h)=>{let m="";return h>0&&h<c.length-1?m=PS(c[h-1],d,c[h+1],s):m=`${h===0?"M":"L"}${d.x} ${d.y}`,S+=m,S},""),f,p,g,x]}const Ks=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,sourcePosition:f=K.Bottom,targetPosition:p=K.Top,markerEnd:g,markerStart:x,pathOptions:w,interactionWidth:S})=>{const[d,h,m]=Vu({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:p,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return C.createElement(ti,{path:d,labelX:h,labelY:m,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:g,markerStart:x,interactionWidth:S})});Ks.displayName="SmoothStepEdge";const rc=I.memo(e=>{var t;return C.createElement(Ks,{...e,pathOptions:I.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});rc.displayName="StepEdge";function RS({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=vm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const oc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:p,interactionWidth:g})=>{const[x,w,S]=RS({sourceX:e,sourceY:t,targetX:n,targetY:r});return C.createElement(ti,{path:x,labelX:w,labelY:S,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:a,style:c,markerEnd:f,markerStart:p,interactionWidth:g})});oc.displayName="StraightEdge";function ki(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Zf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case K.Left:return[t-ki(t-r,i),n];case K.Right:return[t+ki(r-t,i),n];case K.Top:return[t,n-ki(n-o,i)];case K.Bottom:return[t,n+ki(o-n,i)]}}function Sm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,curvature:s=.25}){const[l,u]=Zf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[a,c]=Zf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,p,g,x]=wm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:a,targetControlY:c});return[`M${e},${t} C${l},${u} ${a},${c} ${r},${o}`,f,p,g,x]}const _s=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:x,pathOptions:w,interactionWidth:S})=>{const[d,h,m]=Sm({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:w==null?void 0:w.curvature});return C.createElement(ti,{path:d,labelX:h,labelY:m,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:x,interactionWidth:S})});_s.displayName="BezierEdge";const ic=I.createContext(null),bS=ic.Provider;ic.Consumer;const $S=()=>I.useContext(ic),IS=e=>"id"in e&&"source"in e&&"target"in e,LS=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Uu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,DS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Em=(e,t)=>{if(!e.source||!e.target)return t;let n;return IS(e)?n={...e}:n={...e,id:LS(e)},DS(n,t)?t:t.concat(n)},Wu=({x:e,y:t},[n,r,o],i,[s,l])=>{const u={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(u.x/s),y:l*Math.round(u.y/l)}:u},_m=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Tr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},sc=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Tr(o,t).positionAbsolute;return kS(r,tc({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return NS(n)},km=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const u={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},a=[];return e.forEach(c=>{const{width:f,height:p,selectable:g=!0,hidden:x=!1}=c;if(s&&!g||x)return!1;const{positionAbsolute:w}=Tr(c,l),S={x:w.x,y:w.y,width:f||0,height:p||0},d=Hu(u,S),h=typeof f>"u"||typeof p>"u"||f===null||p===null,m=i&&d>0,y=(f||0)*(p||0);(h||m||d>=y||c.dragging)&&a.push(c)}),a},Nm=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Cm=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(s,l),a=Hr(u,r,o),c=e.x+e.width/2,f=e.y+e.height/2,p=t/2-c*a,g=n/2-f*a;return{x:p,y:g,zoom:a}},Dn=(e,t=0)=>e.transition().duration(t);function Jf(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function jS(e,t,n,r,o,i){const{x:s,y:l}=An(e),a=t.elementsFromPoint(s,l).find(x=>x.classList.contains("react-flow__handle"));if(a){const x=a.getAttribute("data-nodeid");if(x){const w=lc(void 0,a),S=a.getAttribute("data-handleid"),d=i({nodeId:x,id:S,type:w});if(d){const h=o.find(m=>m.nodeId===x&&m.type===w&&m.id===S);return{handle:{id:S,type:w,nodeId:x,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:d}}}}let c=[],f=1/0;if(o.forEach(x=>{const w=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(w<=r){const S=i(x);w<=f&&(w<f?c=[{handle:x,validHandleResult:S}]:w===f&&c.push({handle:x,validHandleResult:S}),f=w)}}),!c.length)return{handle:null,validHandleResult:Mm()};if(c.length===1)return c[0];const p=c.some(({validHandleResult:x})=>x.isValid),g=c.some(({handle:x})=>x.type==="target");return c.find(({handle:x,validHandleResult:w})=>g?x.type==="target":p?w.isValid:!0)||c[0]}const OS={source:null,target:null,sourceHandle:null,targetHandle:null},Mm=()=>({handleDomNode:null,isValid:!1,connection:OS,endHandle:null});function Am(e,t,n,r,o,i,s){const l=o==="target",u=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),a={...Mm(),handleDomNode:u};if(u){const c=lc(void 0,u),f=u.getAttribute("data-nodeid"),p=u.getAttribute("data-handleid"),g=u.classList.contains("connectable"),x=u.classList.contains("connectableend"),w={source:l?f:n,sourceHandle:l?p:r,target:l?n:f,targetHandle:l?r:p};a.connection=w,g&&x&&(t===Jn.Strict?l&&c==="source"||!l&&c==="target":f!==n||p!==r)&&(a.endHandle={nodeId:f,handleId:p,type:c},a.isValid=i(w))}return a}function FS({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[Ae]){const{handleBounds:s}=i[Ae];let l=[],u=[];s&&(l=Jf(i,s,"source",`${t}-${n}-${r}`),u=Jf(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...u)}return o},[])}function lc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Rl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function HS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Tm({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:u,onReconnectEnd:a}){const c=mm(e.target),{connectionMode:f,domNode:p,autoPanOnConnect:g,connectionRadius:x,onConnectStart:w,panBy:S,getNodes:d,cancelConnection:h}=i();let m=0,y;const{x:E,y:k}=An(e),A=c==null?void 0:c.elementFromPoint(E,k),z=lc(u,A),b=p==null?void 0:p.getBoundingClientRect();if(!b||!z)return;let L,O=An(e,b),V=!1,H=null,v=!1,P=null;const N=FS({nodes:d(),nodeId:n,handleId:t,handleType:z}),R=()=>{if(!g)return;const[T,D]=hm(O,b);S({x:T,y:D}),m=requestAnimationFrame(R)};s({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:z,connectionStartHandle:{nodeId:n,handleId:t,type:z},connectionEndHandle:null}),w==null||w(e,{nodeId:n,handleId:t,handleType:z});function M(T){const{transform:D}=i();O=An(T,b);const{handle:j,validHandleResult:W}=jS(T,c,Wu(O,D,!1,[1,1]),x,N,U=>Am(U,f,n,t,o?"target":"source",l,c));if(y=j,V||(R(),V=!0),P=W.handleDomNode,H=W.connection,v=W.isValid,s({connectionPosition:y&&v?_m({x:y.x,y:y.y},D):O,connectionStatus:HS(!!y,v),connectionEndHandle:W.endHandle}),!y&&!v&&!P)return Rl(L);H.source!==H.target&&P&&(Rl(L),L=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",v),P.classList.toggle("react-flow__handle-valid",v))}function _(T){var D,j;(y||P)&&H&&v&&(r==null||r(H)),(j=(D=i()).onConnectEnd)==null||j.call(D,T),u&&(a==null||a(T)),Rl(L),h(),cancelAnimationFrame(m),V=!1,v=!1,H=null,P=null,c.removeEventListener("mousemove",M),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",M),c.removeEventListener("touchend",_)}c.addEventListener("mousemove",M),c.addEventListener("mouseup",_),c.addEventListener("touchmove",M),c.addEventListener("touchend",_)}const ed=()=>!0,BS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),VS=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},zm=I.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:u,className:a,onMouseDown:c,onTouchStart:f,...p},g)=>{var b,L;const x=s||null,w=e==="target",S=je(),d=$S(),{connectOnClick:h,noPanClassName:m}=fe(BS,Qe),{connecting:y,clickConnecting:E}=fe(VS(d,x,e),Qe);d||(L=(b=S.getState()).onError)==null||L.call(b,"010",sn.error010());const k=O=>{const{defaultEdgeOptions:V,onConnect:H,hasDefaultEdges:v}=S.getState(),P={...V,...O};if(v){const{edges:N,setEdges:R}=S.getState();R(Em(P,N))}H==null||H(P),l==null||l(P)},A=O=>{if(!d)return;const V=ym(O);o&&(V&&O.button===0||!V)&&Tm({event:O,handleId:x,nodeId:d,onConnect:k,isTarget:w,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||ed}),V?c==null||c(O):f==null||f(O)},z=O=>{const{onClickConnectStart:V,onClickConnectEnd:H,connectionClickStartHandle:v,connectionMode:P,isValidConnection:N}=S.getState();if(!d||!v&&!o)return;if(!v){V==null||V(O,{nodeId:d,handleId:x,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:d,type:e,handleId:x}});return}const R=mm(O.target),M=n||N||ed,{connection:_,isValid:T}=Am({nodeId:d,id:x,type:e},P,v.nodeId,v.handleId||null,v.type,M,R);T&&k(_),H==null||H(O),S.setState({connectionClickStartHandle:null})};return C.createElement("div",{"data-handleid":x,"data-nodeid":d,"data-handlepos":t,"data-id":`${d}-${x}-${e}`,className:tt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,a,{source:!w,target:w,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!y||i&&y)}]),onMouseDown:A,onTouchStart:A,onClick:h?z:void 0,ref:g,...p},u)});zm.displayName="Handle";var mt=I.memo(zm);const Pm=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>C.createElement(C.Fragment,null,C.createElement(mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,C.createElement(mt,{type:"source",position:r,isConnectable:t}));Pm.displayName="DefaultNode";var Xu=I.memo(Pm);const Rm=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>C.createElement(C.Fragment,null,e==null?void 0:e.label,C.createElement(mt,{type:"source",position:n,isConnectable:t}));Rm.displayName="InputNode";var bm=I.memo(Rm);const $m=({data:e,isConnectable:t,targetPosition:n=K.Top})=>C.createElement(C.Fragment,null,C.createElement(mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);$m.displayName="OutputNode";var Im=I.memo($m);const uc=()=>null;uc.displayName="GroupNode";const US=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ni=e=>e.id;function WS(e,t){return Qe(e.selectedNodes.map(Ni),t.selectedNodes.map(Ni))&&Qe(e.selectedEdges.map(Ni),t.selectedEdges.map(Ni))}const Lm=I.memo(({onSelectionChange:e})=>{const t=je(),{selectedNodes:n,selectedEdges:r}=fe(US,WS);return I.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});Lm.displayName="SelectionListener";const XS=e=>!!e.onSelectionChange;function YS({onSelectionChange:e}){const t=fe(XS);return e||t?C.createElement(Lm,{onSelectionChange:e}):null}const KS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function or(e,t){I.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ne(e,t,n){I.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const GS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:u,nodesDraggable:a,nodesConnectable:c,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:x,minZoom:w,maxZoom:S,nodeExtent:d,onNodesChange:h,onEdgesChange:m,elementsSelectable:y,connectionMode:E,snapGrid:k,snapToGrid:A,translateExtent:z,connectOnClick:b,defaultEdgeOptions:L,fitView:O,fitViewOptions:V,onNodesDelete:H,onEdgesDelete:v,onNodeDrag:P,onNodeDragStart:N,onNodeDragStop:R,onSelectionDrag:M,onSelectionDragStart:_,onSelectionDragStop:T,noPanClassName:D,nodeOrigin:j,rfId:W,autoPanOnConnect:U,autoPanOnNodeDrag:G,onError:Z,connectionRadius:Y,isValidConnection:ie,nodeDragThreshold:Se})=>{const{setNodes:ae,setEdges:Oe,setDefaultNodesAndEdges:nt,setMinZoom:Ue,setMaxZoom:rt,setTranslateExtent:Te,setNodeExtent:xt,reset:he}=fe(KS,Qe),Q=je();return I.useEffect(()=>{const F=r==null?void 0:r.map(ee=>({...ee,...L}));return nt(n,F),()=>{he()}},[]),ne("defaultEdgeOptions",L,Q.setState),ne("connectionMode",E,Q.setState),ne("onConnect",o,Q.setState),ne("onConnectStart",i,Q.setState),ne("onConnectEnd",s,Q.setState),ne("onClickConnectStart",l,Q.setState),ne("onClickConnectEnd",u,Q.setState),ne("nodesDraggable",a,Q.setState),ne("nodesConnectable",c,Q.setState),ne("nodesFocusable",f,Q.setState),ne("edgesFocusable",p,Q.setState),ne("edgesUpdatable",g,Q.setState),ne("elementsSelectable",y,Q.setState),ne("elevateNodesOnSelect",x,Q.setState),ne("snapToGrid",A,Q.setState),ne("snapGrid",k,Q.setState),ne("onNodesChange",h,Q.setState),ne("onEdgesChange",m,Q.setState),ne("connectOnClick",b,Q.setState),ne("fitViewOnInit",O,Q.setState),ne("fitViewOnInitOptions",V,Q.setState),ne("onNodesDelete",H,Q.setState),ne("onEdgesDelete",v,Q.setState),ne("onNodeDrag",P,Q.setState),ne("onNodeDragStart",N,Q.setState),ne("onNodeDragStop",R,Q.setState),ne("onSelectionDrag",M,Q.setState),ne("onSelectionDragStart",_,Q.setState),ne("onSelectionDragStop",T,Q.setState),ne("noPanClassName",D,Q.setState),ne("nodeOrigin",j,Q.setState),ne("rfId",W,Q.setState),ne("autoPanOnConnect",U,Q.setState),ne("autoPanOnNodeDrag",G,Q.setState),ne("onError",Z,Q.setState),ne("connectionRadius",Y,Q.setState),ne("isValidConnection",ie,Q.setState),ne("nodeDragThreshold",Se,Q.setState),or(e,ae),or(t,Oe),or(w,Ue),or(S,rt),or(z,Te),or(d,xt),null},td={display:"none"},QS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Dm="react-flow__node-desc",jm="react-flow__edge-desc",qS="react-flow__aria-live",ZS=e=>e.ariaLiveMessage;function JS({rfId:e}){const t=fe(ZS);return C.createElement("div",{id:`${qS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QS},t)}function eE({rfId:e,disableKeyboardA11y:t}){return C.createElement(C.Fragment,null,C.createElement("div",{id:`${Dm}-${e}`,style:td},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),C.createElement("div",{id:`${jm}-${e}`,style:td},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&C.createElement(JS,{rfId:e}))}var Yo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=I.useState(!1),o=I.useRef(!1),i=I.useRef(new Set([])),[s,l]=I.useMemo(()=>{if(e!==null){const a=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=a.reduce((f,p)=>f.concat(...p),[]);return[a,c]}return[[],[]]},[e]);return I.useEffect(()=>{const u=typeof document<"u"?document:null,a=(t==null?void 0:t.target)||u;if(e!==null){const c=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Bu(g))return!1;const w=rd(g.code,l);i.current.add(g[w]),nd(s,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Bu(g))return!1;const w=rd(g.code,l);nd(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[w]),g.key==="Meta"&&i.current.clear(),o.current=!1},p=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",c),a==null||a.addEventListener("keyup",f),window.addEventListener("blur",p),()=>{a==null||a.removeEventListener("keydown",c),a==null||a.removeEventListener("keyup",f),window.removeEventListener("blur",p)}}},[e,r]),n};function nd(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function rd(e,t){return t.includes(e)?"code":"key"}function Om(e,t,n,r){var l,u;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Tr(i,r);return Om(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[Ae])==null?void 0:l.z)??0)>(n.z??0)?((u=i[Ae])==null?void 0:u.z)??0:n.z??0},r)}function Fm(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:u}=Om(r,e,{...r.position,z:((i=r[Ae])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[Ae].z=u,n!=null&&n[r.id]&&(r[Ae].isParent=!0)}})}function bl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var g;const u=(kt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),a=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const p=(a==null?void 0:a.type)&&(a==null?void 0:a.type)!==l.type;Object.defineProperty(c,Ae,{enumerable:!1,value:{handleBounds:p||(g=a==null?void 0:a[Ae])==null?void 0:g.handleBounds,z:u}}),o.set(l.id,c)}),Fm(o,n,i),o}function Hm(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:u,fitViewOnInitDone:a,fitViewOnInit:c,nodeOrigin:f}=e(),p=t.initial&&!a&&c;if(l&&u&&(p||!t.initial)){const x=n().filter(S=>{var h;const d=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return(h=t.nodes)!=null&&h.length?d&&t.nodes.some(m=>m.id===S.id):d}),w=x.every(S=>S.width&&S.height);if(x.length>0&&w){const S=sc(x,f),{x:d,y:h,zoom:m}=Cm(S,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),y=Mn.translate(d,h).scale(m);return typeof t.duration=="number"&&t.duration>0?l.transform(Dn(u,t.duration),y):l.transform(u,y),!0}}return!1}function tE(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ae]:r[Ae],selected:n.selected})}),new Map(t)}function nE(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Ci({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:u,hasDefaultEdges:a}=n();e!=null&&e.length&&(u&&r({nodeInternals:tE(e,o)}),s==null||s(e)),t!=null&&t.length&&(a&&r({edges:nE(t,i)}),l==null||l(t))}const ir=()=>{},rE={zoomIn:ir,zoomOut:ir,zoomTo:ir,getZoom:()=>1,setViewport:ir,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ir,fitBounds:ir,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},oE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),iE=()=>{const e=je(),{d3Zoom:t,d3Selection:n}=fe(oE,Qe);return I.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Dn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Dn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Dn(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,u]=e.getState().transform,a=Mn.translate(o.x??s,o.y??l).scale(o.zoom??u);t.transform(Dn(n,i==null?void 0:i.duration),a)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>Hm(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:u,maxZoom:a}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:a,f=l/2-o*c,p=u/2-i*c,g=Mn.translate(f,p).scale(c);t.transform(Dn(n,s==null?void 0:s.duration),g)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:u,maxZoom:a}=e.getState(),{x:c,y:f,zoom:p}=Cm(o,s,l,u,a,(i==null?void 0:i.padding)??.1),g=Mn.translate(c,f).scale(p);t.transform(Dn(n,i==null?void 0:i.duration),g)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Wu(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:u}=e.getState();if(!u)return o;const{x:a,y:c}=u.getBoundingClientRect(),f={x:o.x-a,y:o.y-c};return Wu(f,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:u}=s.getBoundingClientRect(),a=_m(o,i);return{x:a.x+l,y:a.y+u}},viewportInitialized:!0}:rE,[t,n])};function nr(){const e=iE(),t=je(),n=I.useCallback(()=>t.getState().getNodes().map(w=>({...w})),[]),r=I.useCallback(w=>t.getState().nodeInternals.get(w),[]),o=I.useCallback(()=>{const{edges:w=[]}=t.getState();return w.map(S=>({...S}))},[]),i=I.useCallback(w=>{const{edges:S=[]}=t.getState();return S.find(d=>d.id===w)},[]),s=I.useCallback(w=>{const{getNodes:S,setNodes:d,hasDefaultNodes:h,onNodesChange:m}=t.getState(),y=S(),E=typeof w=="function"?w(y):w;if(h)d(E);else if(m){const k=E.length===0?y.map(A=>({type:"remove",id:A.id})):E.map(A=>({item:A,type:"reset"}));m(k)}},[]),l=I.useCallback(w=>{const{edges:S=[],setEdges:d,hasDefaultEdges:h,onEdgesChange:m}=t.getState(),y=typeof w=="function"?w(S):w;if(h)d(y);else if(m){const E=y.length===0?S.map(k=>({type:"remove",id:k.id})):y.map(k=>({item:k,type:"reset"}));m(E)}},[]),u=I.useCallback(w=>{const S=Array.isArray(w)?w:[w],{getNodes:d,setNodes:h,hasDefaultNodes:m,onNodesChange:y}=t.getState();if(m){const k=[...d(),...S];h(k)}else if(y){const E=S.map(k=>({item:k,type:"add"}));y(E)}},[]),a=I.useCallback(w=>{const S=Array.isArray(w)?w:[w],{edges:d=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:y}=t.getState();if(m)h([...d,...S]);else if(y){const E=S.map(k=>({item:k,type:"add"}));y(E)}},[]),c=I.useCallback(()=>{const{getNodes:w,edges:S=[],transform:d}=t.getState(),[h,m,y]=d;return{nodes:w().map(E=>({...E})),edges:S.map(E=>({...E})),viewport:{x:h,y:m,zoom:y}}},[]),f=I.useCallback(({nodes:w,edges:S})=>{const{nodeInternals:d,getNodes:h,edges:m,hasDefaultNodes:y,hasDefaultEdges:E,onNodesDelete:k,onEdgesDelete:A,onNodesChange:z,onEdgesChange:b}=t.getState(),L=(w||[]).map(P=>P.id),O=(S||[]).map(P=>P.id),V=h().reduce((P,N)=>{const R=N.parentNode||N.parentId,M=!L.includes(N.id)&&R&&P.find(T=>T.id===R);return(typeof N.deletable=="boolean"?N.deletable:!0)&&(L.includes(N.id)||M)&&P.push(N),P},[]),H=m.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),v=H.filter(P=>O.includes(P.id));if(V||v){const P=Nm(V,H),N=[...v,...P],R=N.reduce((M,_)=>(M.includes(_.id)||M.push(_.id),M),[]);if((E||y)&&(E&&t.setState({edges:m.filter(M=>!R.includes(M.id))}),y&&(V.forEach(M=>{d.delete(M.id)}),t.setState({nodeInternals:new Map(d)}))),R.length>0&&(A==null||A(N),b&&b(R.map(M=>({id:M,type:"remove"})))),V.length>0&&(k==null||k(V),z)){const M=V.map(_=>({id:_.id,type:"remove"}));z(M)}}},[]),p=I.useCallback(w=>{const S=CS(w),d=S?null:t.getState().nodeInternals.get(w.id);return!S&&!d?[null,null,S]:[S?w:Kf(d),d,S]},[]),g=I.useCallback((w,S=!0,d)=>{const[h,m,y]=p(w);return h?(d||t.getState().getNodes()).filter(E=>{if(!y&&(E.id===m.id||!E.positionAbsolute))return!1;const k=Kf(E),A=Hu(k,h);return S&&A>0||A>=h.width*h.height}):[]},[]),x=I.useCallback((w,S,d=!0)=>{const[h]=p(w);if(!h)return!1;const m=Hu(h,S);return d&&m>0||m>=h.width*h.height},[]);return I.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:u,addEdges:a,toObject:c,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:x}),[e,n,r,o,i,s,l,u,a,c,f,g,x])}const sE={actInsideInputWithModifier:!1};var lE=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=je(),{deleteElements:r}=nr(),o=Yo(e,sE),i=Yo(t);I.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),u=l().filter(c=>c.selected),a=s.filter(c=>c.selected);r({nodes:u,edges:a}),n.setState({nodesSelectionActive:!1})}},[o]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function uE(e){const t=je();I.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=Ja(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",sn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const ac={position:"absolute",width:"100%",height:"100%",top:0,left:0},aE=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Mi=e=>({x:e.x,y:e.y,zoom:e.k}),sr=(e,t)=>e.target.closest(`.${t}`),od=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),id=e=>{const t=e.ctrlKey&&Ss()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},cE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),fE=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=Bn.Free,zoomOnDoubleClick:a=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:p,translateExtent:g,minZoom:x,maxZoom:w,zoomActivationKeyCode:S,preventScrolling:d=!0,children:h,noWheelClassName:m,noPanClassName:y})=>{const E=I.useRef(),k=je(),A=I.useRef(!1),z=I.useRef(!1),b=I.useRef(null),L=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:V,d3ZoomHandler:H,userSelectionActive:v}=fe(cE,Qe),P=Yo(S),N=I.useRef(0),R=I.useRef(!1),M=I.useRef();return uE(b),I.useEffect(()=>{if(b.current){const _=b.current.getBoundingClientRect(),T=vS().scaleExtent([x,w]).translateExtent(g),D=Rt(b.current).call(T),j=Mn.translate(p.x,p.y).scale(Hr(p.zoom,x,w)),W=[[0,0],[_.width,_.height]],U=T.constrain()(j,W,g);T.transform(D,U),T.wheelDelta(id),k.setState({d3Zoom:T,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:b.current.closest(".react-flow")})}},[]),I.useEffect(()=>{V&&O&&(s&&!P&&!v?V.on("wheel.zoom",_=>{if(sr(_,m))return!1;_.preventDefault(),_.stopImmediatePropagation();const T=V.property("__zoom").k||1;if(_.ctrlKey&&i){const ie=Ht(_),Se=id(_),ae=T*Math.pow(2,Se);O.scaleTo(V,ae,ie,_);return}const D=_.deltaMode===1?20:1;let j=u===Bn.Vertical?0:_.deltaX*D,W=u===Bn.Horizontal?0:_.deltaY*D;!Ss()&&_.shiftKey&&u!==Bn.Vertical&&(j=_.deltaY*D,W=0),O.translateBy(V,-(j/T)*l,-(W/T)*l,{internal:!0});const U=Mi(V.property("__zoom")),{onViewportChangeStart:G,onViewportChange:Z,onViewportChangeEnd:Y}=k.getState();clearTimeout(M.current),R.current||(R.current=!0,t==null||t(_,U),G==null||G(U)),R.current&&(e==null||e(_,U),Z==null||Z(U),M.current=setTimeout(()=>{n==null||n(_,U),Y==null||Y(U),R.current=!1},150))},{passive:!1}):typeof H<"u"&&V.on("wheel.zoom",function(_,T){if(!d&&_.type==="wheel"&&!_.ctrlKey||sr(_,m))return null;_.preventDefault(),H.call(this,_,T)},{passive:!1}))},[v,s,u,V,O,H,P,i,d,m,t,e,n]),I.useEffect(()=>{O&&O.on("start",_=>{var j,W;if(!_.sourceEvent||_.sourceEvent.internal)return null;N.current=(j=_.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:T}=k.getState(),D=Mi(_.transform);A.current=!0,L.current=D,((W=_.sourceEvent)==null?void 0:W.type)==="mousedown"&&k.setState({paneDragging:!0}),T==null||T(D),t==null||t(_.sourceEvent,D)})},[O,t]),I.useEffect(()=>{O&&(v&&!A.current?O.on("zoom",null):v||O.on("zoom",_=>{var D;const{onViewportChange:T}=k.getState();if(k.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),z.current=!!(r&&od(f,N.current??0)),(e||T)&&!((D=_.sourceEvent)!=null&&D.internal)){const j=Mi(_.transform);T==null||T(j),e==null||e(_.sourceEvent,j)}}))},[v,O,e,f,r]),I.useEffect(()=>{O&&O.on("end",_=>{if(!_.sourceEvent||_.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=k.getState();if(A.current=!1,k.setState({paneDragging:!1}),r&&od(f,N.current??0)&&!z.current&&r(_.sourceEvent),z.current=!1,(n||T)&&aE(L.current,_.transform)){const D=Mi(_.transform);L.current=D,clearTimeout(E.current),E.current=setTimeout(()=>{T==null||T(D),n==null||n(_.sourceEvent,D)},s?150:0)}})},[O,s,f,n,r]),I.useEffect(()=>{O&&O.filter(_=>{const T=P||o,D=i&&_.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&_.button===1&&_.type==="mousedown"&&(sr(_,"react-flow__node")||sr(_,"react-flow__edge")))return!0;if(!f&&!T&&!s&&!a&&!i||v||!a&&_.type==="dblclick"||sr(_,m)&&_.type==="wheel"||sr(_,y)&&(_.type!=="wheel"||s&&_.type==="wheel"&&!P)||!i&&_.ctrlKey&&_.type==="wheel"||!T&&!s&&!D&&_.type==="wheel"||!f&&(_.type==="mousedown"||_.type==="touchstart")||Array.isArray(f)&&!f.includes(_.button)&&_.type==="mousedown")return!1;const j=Array.isArray(f)&&f.includes(_.button)||!_.button||_.button<=1;return(!_.ctrlKey||_.type==="wheel")&&j})},[v,O,o,i,s,a,f,c,P]),C.createElement("div",{className:"react-flow__renderer",ref:b,style:ac},h)},dE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function pE(){const{userSelectionActive:e,userSelectionRect:t}=fe(dE,Qe);return e&&t?C.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function sd(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Bm(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&sd(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&sd(r,s);break}case"remove":return r}return r.push(s),r},n)}function Vm(e,t){return Bm(e,t)}function hE(e,t){return Bm(e,t)}const pn=(e,t)=>({id:e,type:"select",selected:t});function xr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(pn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(pn(r.id,!1))),n},[])}const $l=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},mE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Um=I.memo(({isSelecting:e,selectionMode:t=Xo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:u,onPaneMouseMove:a,onPaneMouseLeave:c,children:f})=>{const p=I.useRef(null),g=je(),x=I.useRef(0),w=I.useRef(0),S=I.useRef(),{userSelectionActive:d,elementsSelectable:h,dragging:m}=fe(mE,Qe),y=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,w.current=0},E=H=>{i==null||i(H),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},k=H=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){H.preventDefault();return}s==null||s(H)},A=l?H=>l(H):void 0,z=H=>{const{resetSelectedElements:v,domNode:P}=g.getState();if(S.current=P==null?void 0:P.getBoundingClientRect(),!h||!e||H.button!==0||H.target!==p.current||!S.current)return;const{x:N,y:R}=An(H,S.current);v(),g.setState({userSelectionRect:{width:0,height:0,startX:N,startY:R,x:N,y:R}}),r==null||r(H)},b=H=>{const{userSelectionRect:v,nodeInternals:P,edges:N,transform:R,onNodesChange:M,onEdgesChange:_,nodeOrigin:T,getNodes:D}=g.getState();if(!e||!S.current||!v)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=An(H,S.current),W=v.startX??0,U=v.startY??0,G={...v,x:j.x<W?j.x:W,y:j.y<U?j.y:U,width:Math.abs(j.x-W),height:Math.abs(j.y-U)},Z=D(),Y=km(P,G,R,t===Xo.Partial,!0,T),ie=Nm(Y,N).map(ae=>ae.id),Se=Y.map(ae=>ae.id);if(x.current!==Se.length){x.current=Se.length;const ae=xr(Z,Se);ae.length&&(M==null||M(ae))}if(w.current!==ie.length){w.current=ie.length;const ae=xr(N,ie);ae.length&&(_==null||_(ae))}g.setState({userSelectionRect:G})},L=H=>{if(H.button!==0)return;const{userSelectionRect:v}=g.getState();!d&&v&&H.target===p.current&&(E==null||E(H)),g.setState({nodesSelectionActive:x.current>0}),y(),o==null||o(H)},O=H=>{d&&(g.setState({nodesSelectionActive:x.current>0}),o==null||o(H)),y()},V=h&&(e||d);return C.createElement("div",{className:tt(["react-flow__pane",{dragging:m,selection:e}]),onClick:V?void 0:$l(E,p),onContextMenu:$l(k,p),onWheel:$l(A,p),onMouseEnter:V?void 0:u,onMouseDown:V?z:void 0,onMouseMove:V?b:a,onMouseUp:V?L:void 0,onMouseLeave:V?O:c,ref:p,style:ac},f,C.createElement(pE,null))});Um.displayName="Pane";function Wm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Wm(r,t):!1}function ld(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function gE(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!Wm(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function yE(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Xm(e,t,n,r,o=[0,0],i){const s=yE(e,e.extent||r);let l=s;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const f=n.get(u),{x:p,y:g}=Tr(f,o).positionAbsolute;l=f&&kt(p)&&kt(g)&&kt(f.width)&&kt(f.height)?[[p+e.width*o[0],g+e.height*o[1]],[p+f.width-e.width+e.width*o[0],g+f.height-e.height+e.height*o[1]]]:l}else i==null||i("005",sn.error005()),l=s;else if(e.extent&&u&&e.extent!=="parent"){const f=n.get(u),{x:p,y:g}=Tr(f,o).positionAbsolute;l=[[e.extent[0][0]+p,e.extent[0][1]+g],[e.extent[1][0]+p,e.extent[1][1]+g]]}let a={x:0,y:0};if(u){const f=n.get(u);a=Tr(f,o).positionAbsolute}const c=l&&l!=="parent"?ec(t,l):t;return{position:{x:c.x-a.x,y:c.y-a.y},positionAbsolute:c}}function Il({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const ud=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-s.left-l.x)/n,y:(a.top-s.top-l.y)/n,...Ja(u)}})};function io(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function Yu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:u}=t.getState(),a=l.get(e);if(!a){u==null||u("012",sn.error012(e));return}t.setState({nodesSelectionActive:!1}),a.selected?(n||a.selected&&s)&&(i({nodes:[a],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function vE(){const e=je();return I.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,u={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(u.x/o[0]):u.x,ySnapped:i?o[1]*Math.round(u.y/o[1]):u.y,...u}},[])}function Ll(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Ym({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=je(),[u,a]=I.useState(!1),c=I.useRef([]),f=I.useRef({x:null,y:null}),p=I.useRef(0),g=I.useRef(null),x=I.useRef({x:0,y:0}),w=I.useRef(null),S=I.useRef(!1),d=I.useRef(!1),h=I.useRef(!1),m=vE();return I.useEffect(()=>{if(e!=null&&e.current){const y=Rt(e.current),E=({x:z,y:b})=>{const{nodeInternals:L,onNodeDrag:O,onSelectionDrag:V,updateNodePositions:H,nodeExtent:v,snapGrid:P,snapToGrid:N,nodeOrigin:R,onError:M}=l.getState();f.current={x:z,y:b};let _=!1,T={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&v){const j=sc(c.current,R);T=tc(j)}if(c.current=c.current.map(j=>{const W={x:z-j.distance.x,y:b-j.distance.y};N&&(W.x=P[0]*Math.round(W.x/P[0]),W.y=P[1]*Math.round(W.y/P[1]));const U=[[v[0][0],v[0][1]],[v[1][0],v[1][1]]];c.current.length>1&&v&&!j.extent&&(U[0][0]=j.positionAbsolute.x-T.x+v[0][0],U[1][0]=j.positionAbsolute.x+(j.width??0)-T.x2+v[1][0],U[0][1]=j.positionAbsolute.y-T.y+v[0][1],U[1][1]=j.positionAbsolute.y+(j.height??0)-T.y2+v[1][1]);const G=Xm(j,W,L,U,R,M);return _=_||j.position.x!==G.position.x||j.position.y!==G.position.y,j.position=G.position,j.positionAbsolute=G.positionAbsolute,j}),!_)return;H(c.current,!0,!0),a(!0);const D=o?O:Ll(V);if(D&&w.current){const[j,W]=Il({nodeId:o,dragItems:c.current,nodeInternals:L});D(w.current,j,W)}},k=()=>{if(!g.current)return;const[z,b]=hm(x.current,g.current);if(z!==0||b!==0){const{transform:L,panBy:O}=l.getState();f.current.x=(f.current.x??0)-z/L[2],f.current.y=(f.current.y??0)-b/L[2],O({x:z,y:b})&&E(f.current)}p.current=requestAnimationFrame(k)},A=z=>{var R;const{nodeInternals:b,multiSelectionActive:L,nodesDraggable:O,unselectNodesAndEdges:V,onNodeDragStart:H,onSelectionDragStart:v}=l.getState();d.current=!0;const P=o?H:Ll(v);(!s||!i)&&!L&&o&&((R=b.get(o))!=null&&R.selected||V()),o&&i&&s&&Yu({id:o,store:l,nodeRef:e});const N=m(z);if(f.current=N,c.current=gE(b,O,N,o),P&&c.current){const[M,_]=Il({nodeId:o,dragItems:c.current,nodeInternals:b});P(z.sourceEvent,M,_)}};if(t)y.on(".drag",null);else{const z=A1().on("start",b=>{const{domNode:L,nodeDragThreshold:O}=l.getState();O===0&&A(b),h.current=!1;const V=m(b);f.current=V,g.current=(L==null?void 0:L.getBoundingClientRect())||null,x.current=An(b.sourceEvent,g.current)}).on("drag",b=>{var H,v;const L=m(b),{autoPanOnNodeDrag:O,nodeDragThreshold:V}=l.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!S.current&&d.current&&O&&(S.current=!0,k()),!d.current){const P=L.xSnapped-(((H=f==null?void 0:f.current)==null?void 0:H.x)??0),N=L.ySnapped-(((v=f==null?void 0:f.current)==null?void 0:v.y)??0);Math.sqrt(P*P+N*N)>V&&A(b)}(f.current.x!==L.xSnapped||f.current.y!==L.ySnapped)&&c.current&&d.current&&(w.current=b.sourceEvent,x.current=An(b.sourceEvent,g.current),E(L))}}).on("end",b=>{if(!(!d.current||h.current)&&(a(!1),S.current=!1,d.current=!1,cancelAnimationFrame(p.current),c.current)){const{updateNodePositions:L,nodeInternals:O,onNodeDragStop:V,onSelectionDragStop:H}=l.getState(),v=o?V:Ll(H);if(L(c.current,!1,!1),v){const[P,N]=Il({nodeId:o,dragItems:c.current,nodeInternals:O});v(b.sourceEvent,P,N)}}}).filter(b=>{const L=b.target;return!b.button&&(!n||!ld(L,`.${n}`,e))&&(!r||ld(L,r,e))});return y.call(z),()=>{y.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,m]),u}function Km(){const e=je();return I.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:u,onError:a,nodesDraggable:c}=e.getState(),f=s().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),p=l?u[0]:5,g=l?u[1]:5,x=n.isShiftPressed?4:1,w=n.x*p*x,S=n.y*g*x,d=f.map(h=>{if(h.positionAbsolute){const m={x:h.positionAbsolute.x+w,y:h.positionAbsolute.y+S};l&&(m.x=u[0]*Math.round(m.x/u[0]),m.y=u[1]*Math.round(m.y/u[1]));const{positionAbsolute:y,position:E}=Xm(h,m,r,o,void 0,a);h.position=E,h.positionAbsolute=y}return h});i(d,!0,!1)},[])}const zr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var so=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:u,selected:a,onClick:c,onMouseEnter:f,onMouseMove:p,onMouseLeave:g,onContextMenu:x,onDoubleClick:w,style:S,className:d,isDraggable:h,isSelectable:m,isConnectable:y,isFocusable:E,selectNodesOnDrag:k,sourcePosition:A,targetPosition:z,hidden:b,resizeObserver:L,dragHandle:O,zIndex:V,isParent:H,noDragClassName:v,noPanClassName:P,initialized:N,disableKeyboardA11y:R,ariaLabel:M,rfId:_,hasHandleBounds:T})=>{const D=je(),j=I.useRef(null),W=I.useRef(null),U=I.useRef(A),G=I.useRef(z),Z=I.useRef(r),Y=m||h||c||f||p||g,ie=Km(),Se=io(n,D.getState,f),ae=io(n,D.getState,p),Oe=io(n,D.getState,g),nt=io(n,D.getState,x),Ue=io(n,D.getState,w),rt=he=>{const{nodeDragThreshold:Q}=D.getState();if(m&&(!k||!h||Q>0)&&Yu({id:n,store:D,nodeRef:j}),c){const F=D.getState().nodeInternals.get(n);F&&c(he,{...F})}},Te=he=>{if(!Bu(he)&&!R)if(gm.includes(he.key)&&m){const Q=he.key==="Escape";Yu({id:n,store:D,unselect:Q,nodeRef:j})}else h&&a&&Object.prototype.hasOwnProperty.call(zr,he.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${he.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),ie({x:zr[he.key].x,y:zr[he.key].y,isShiftPressed:he.shiftKey}))};I.useEffect(()=>()=>{W.current&&(L==null||L.unobserve(W.current),W.current=null)},[]),I.useEffect(()=>{if(j.current&&!b){const he=j.current;(!N||!T||W.current!==he)&&(W.current&&(L==null||L.unobserve(W.current)),L==null||L.observe(he),W.current=he)}},[b,N,T]),I.useEffect(()=>{const he=Z.current!==r,Q=U.current!==A,F=G.current!==z;j.current&&(he||Q||F)&&(he&&(Z.current=r),Q&&(U.current=A),F&&(G.current=z),D.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,r,A,z]);const xt=Ym({nodeRef:j,disabled:b||!h,noDragClassName:v,handleSelector:O,nodeId:n,isSelectable:m,selectNodesOnDrag:k});return b?null:C.createElement("div",{className:tt(["react-flow__node",`react-flow__node-${r}`,{[P]:h},d,{selected:a,selectable:m,parent:H,dragging:xt}]),ref:j,style:{zIndex:V,transform:`translate(${l}px,${u}px)`,pointerEvents:Y?"all":"none",visibility:N?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Se,onMouseMove:ae,onMouseLeave:Oe,onContextMenu:nt,onClick:rt,onDoubleClick:Ue,onKeyDown:E?Te:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":R?void 0:`${Dm}-${_}`,"aria-label":M},C.createElement(bS,{value:n},C.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:a,isConnectable:y,sourcePosition:A,targetPosition:z,dragging:xt,dragHandle:O,zIndex:V})))};return t.displayName="NodeWrapper",I.memo(t)};const wE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...sc(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function xE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=je(),{width:o,height:i,x:s,y:l,transformString:u,userSelectionActive:a}=fe(wE,Qe),c=Km(),f=I.useRef(null);if(I.useEffect(()=>{var x;n||(x=f.current)==null||x.focus({preventScroll:!0})},[n]),Ym({nodeRef:f}),a||!o||!i)return null;const p=e?x=>{const w=r.getState().getNodes().filter(S=>S.selected);e(x,w)}:void 0,g=x=>{Object.prototype.hasOwnProperty.call(zr,x.key)&&c({x:zr[x.key].x,y:zr[x.key].y,isShiftPressed:x.shiftKey})};return C.createElement("div",{className:tt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},C.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:i,top:l,left:s}}))}var SE=I.memo(xE);const EE=e=>e.nodesSelectionActive,Gm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:u,onMoveStart:a,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:p,selectionMode:g,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:S,panActivationKeyCode:d,zoomActivationKeyCode:h,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:A,panOnScrollMode:z,zoomOnDoubleClick:b,panOnDrag:L,defaultViewport:O,translateExtent:V,minZoom:H,maxZoom:v,preventScrolling:P,onSelectionContextMenu:N,noWheelClassName:R,noPanClassName:M,disableKeyboardA11y:_})=>{const T=fe(EE),D=Yo(f),j=Yo(d),W=j||L,U=j||k,G=D||p&&W!==!0;return lE({deleteKeyCode:l,multiSelectionKeyCode:S}),C.createElement(fE,{onMove:u,onMoveStart:a,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:E,panOnScroll:U,panOnScrollSpeed:A,panOnScrollMode:z,zoomOnDoubleClick:b,panOnDrag:!D&&W,defaultViewport:O,translateExtent:V,minZoom:H,maxZoom:v,zoomActivationKeyCode:h,preventScrolling:P,noWheelClassName:R,noPanClassName:M},C.createElement(Um,{onSelectionStart:x,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:W,isSelecting:!!G,selectionMode:g},e,T&&C.createElement(SE,{onSelectionContextMenu:N,noPanClassName:M,disableKeyboardA11y:_})))};Gm.displayName="FlowRenderer";var _E=I.memo(Gm);function kE(e){return fe(I.useCallback(n=>e?km(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function NE(e){const t={input:so(e.input||bm),default:so(e.default||Xu),output:so(e.output||Im),group:so(e.group||uc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=so(e[i]||Xu),o),n);return{...t,...r}}const CE=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},ME=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Qm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=fe(ME,Qe),l=kE(e.onlyRenderVisibleElements),u=I.useRef(),a=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const p=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(p)});return u.current=c,c},[]);return I.useEffect(()=>()=>{var c;(c=u==null?void 0:u.current)==null||c.disconnect()},[]),C.createElement("div",{className:"react-flow__nodes",style:ac},l.map(c=>{var E,k,A;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",sn.error003(f)),f="default");const p=e.nodeTypes[f]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),x=!!(c.selectable||o&&typeof c.selectable>"u"),w=!!(c.connectable||n&&typeof c.connectable>"u"),S=!!(c.focusable||r&&typeof c.focusable>"u"),d=e.nodeExtent?ec(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(d==null?void 0:d.x)??0,m=(d==null?void 0:d.y)??0,y=CE({x:h,y:m,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return C.createElement(p,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||K.Bottom,targetPosition:c.targetPosition||K.Top,hidden:c.hidden,xPos:h,yPos:m,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:x,isConnectable:w,isFocusable:S,resizeObserver:a,dragHandle:c.dragHandle,zIndex:((E=c[Ae])==null?void 0:E.z)??0,isParent:!!((k=c[Ae])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((A=c[Ae])!=null&&A.handleBounds)})}))};Qm.displayName="NodeRenderer";var AE=I.memo(Qm);const TE=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,zE=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,ad="react-flow__edgeupdater",cd=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>C.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:tt([ad,`${ad}-${l}`]),cx:TE(t,r,e),cy:zE(n,r,e),r,stroke:"transparent",fill:"transparent"}),PE=()=>!0;var lr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:u,animated:a,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:w,style:S,source:d,target:h,sourceX:m,sourceY:y,targetX:E,targetY:k,sourcePosition:A,targetPosition:z,elementsSelectable:b,hidden:L,sourceHandleId:O,targetHandleId:V,onContextMenu:H,onMouseEnter:v,onMouseMove:P,onMouseLeave:N,reconnectRadius:R,onReconnect:M,onReconnectStart:_,onReconnectEnd:T,markerEnd:D,markerStart:j,rfId:W,ariaLabel:U,isFocusable:G,isReconnectable:Z,pathOptions:Y,interactionWidth:ie,disableKeyboardA11y:Se})=>{const ae=I.useRef(null),[Oe,nt]=I.useState(!1),[Ue,rt]=I.useState(!1),Te=je(),xt=I.useMemo(()=>`url('#${Uu(j,W)}')`,[j,W]),he=I.useMemo(()=>`url('#${Uu(D,W)}')`,[D,W]);if(L)return null;const Q=pe=>{var ot;const{edges:Pe,addSelectedEdges:me,unselectNodesAndEdges:Ce,multiSelectionActive:Fe}=Te.getState(),We=Pe.find(Xr=>Xr.id===n);We&&(b&&(Te.setState({nodesSelectionActive:!1}),We.selected&&Fe?(Ce({nodes:[],edges:[We]}),(ot=ae.current)==null||ot.blur()):me([n])),s&&s(pe,We))},F=oo(n,Te.getState,l),ee=oo(n,Te.getState,H),re=oo(n,Te.getState,v),J=oo(n,Te.getState,P),le=oo(n,Te.getState,N),se=(pe,Pe)=>{if(pe.button!==0)return;const{edges:me,isValidConnection:Ce}=Te.getState(),Fe=Pe?h:d,We=(Pe?V:O)||null,ot=Pe?"target":"source",Xr=Ce||PE,Zs=Pe,Yr=me.find($n=>$n.id===n);rt(!0),_==null||_(pe,Yr,ot);const Js=$n=>{rt(!1),T==null||T($n,Yr,ot)};Tm({event:pe,handleId:We,nodeId:Fe,onConnect:$n=>M==null?void 0:M(Yr,$n),isTarget:Zs,getState:Te.getState,setState:Te.setState,isValidConnection:Xr,edgeUpdaterType:ot,onReconnectEnd:Js})},te=pe=>se(pe,!0),q=pe=>se(pe,!1),de=()=>nt(!0),ye=()=>nt(!1),ze=!b&&!s,Ne=pe=>{var Pe;if(!Se&&gm.includes(pe.key)&&b){const{unselectNodesAndEdges:me,addSelectedEdges:Ce,edges:Fe}=Te.getState();pe.key==="Escape"?((Pe=ae.current)==null||Pe.blur(),me({edges:[Fe.find(ot=>ot.id===n)]})):Ce([n])}};return C.createElement("g",{className:tt(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:u,animated:a,inactive:ze,updating:Oe}]),onClick:Q,onDoubleClick:F,onContextMenu:ee,onMouseEnter:re,onMouseMove:J,onMouseLeave:le,onKeyDown:G?Ne:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${d} to ${h}`,"aria-describedby":G?`${jm}-${W}`:void 0,ref:ae},!Ue&&C.createElement(e,{id:n,source:d,target:h,selected:u,animated:a,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:w,data:i,style:S,sourceX:m,sourceY:y,targetX:E,targetY:k,sourcePosition:A,targetPosition:z,sourceHandleId:O,targetHandleId:V,markerStart:xt,markerEnd:he,pathOptions:Y,interactionWidth:ie}),Z&&C.createElement(C.Fragment,null,(Z==="source"||Z===!0)&&C.createElement(cd,{position:A,centerX:m,centerY:y,radius:R,onMouseDown:te,onMouseEnter:de,onMouseOut:ye,type:"source"}),(Z==="target"||Z===!0)&&C.createElement(cd,{position:z,centerX:E,centerY:k,radius:R,onMouseDown:q,onMouseEnter:de,onMouseOut:ye,type:"target"})))};return t.displayName="EdgeWrapper",I.memo(t)};function RE(e){const t={default:lr(e.default||_s),straight:lr(e.bezier||oc),step:lr(e.step||rc),smoothstep:lr(e.step||Ks),simplebezier:lr(e.simplebezier||nc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=lr(e[i]||_s),o),n);return{...t,...r}}function fd(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+i/2,y:o};case K.Right:return{x:r+i,y:o+s/2};case K.Bottom:return{x:r+i/2,y:o+s};case K.Left:return{x:r,y:o+s/2}}}function dd(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const bE=(e,t,n,r,o,i)=>{const s=fd(n,e,t),l=fd(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function $E({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:u}){const a={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const c=tc({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:l/u[2]}),f=Math.max(0,Math.min(c.x2,a.x2)-Math.max(c.x,a.x)),p=Math.max(0,Math.min(c.y2,a.y2)-Math.max(c.y,a.y));return Math.ceil(f*p)>0}function pd(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[Ae])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const IE=[{level:0,isMaxLevel:!0,edges:[]}];function LE(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,f;const u=kt(l.zIndex);let a=u?l.zIndex:0;if(n){const p=t.get(l.target),g=t.get(l.source),x=l.selected||(p==null?void 0:p.selected)||(g==null?void 0:g.selected),w=Math.max(((c=g==null?void 0:g[Ae])==null?void 0:c.z)||0,((f=p==null?void 0:p[Ae])==null?void 0:f.z)||0,1e3);a=(u?l.zIndex:0)+(x?w:0)}return s[a]?s[a].push(l):s[a]=[l],r=a>r?a:r,s},{}),i=Object.entries(o).map(([s,l])=>{const u=+s;return{edges:l,level:u,isMaxLevel:u===r}});return i.length===0?IE:i}function DE(e,t,n){const r=fe(I.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&$E({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return LE(r,t,n)}const jE=({color:e="none",strokeWidth:t=1})=>C.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),OE=({color:e="none",strokeWidth:t=1})=>C.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),hd={[Es.Arrow]:jE,[Es.ArrowClosed]:OE};function FE(e){const t=je();return I.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(hd,e)?hd[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",sn.error009(e)),null)},[e])}const HE=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const u=FE(t);return u?C.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},C.createElement(u,{color:n,strokeWidth:s})):null},BE=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Uu(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},qm=({defaultColor:e,rfId:t})=>{const n=fe(I.useCallback(BE({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return C.createElement("defs",null,n.map(r=>C.createElement(HE,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};qm.displayName="MarkerDefinitions";var VE=I.memo(qm);const UE=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Zm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:a,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,reconnectRadius:w,children:S,disableKeyboardA11y:d})=>{const{edgesFocusable:h,edgesUpdatable:m,elementsSelectable:y,width:E,height:k,connectionMode:A,nodeInternals:z,onError:b}=fe(UE,Qe),L=DE(t,z,n);return E?C.createElement(C.Fragment,null,L.map(({level:O,edges:V,isMaxLevel:H})=>C.createElement("svg",{key:O,style:{zIndex:O},width:E,height:k,className:"react-flow__edges react-flow__container"},H&&C.createElement(VE,{defaultColor:e,rfId:r}),C.createElement("g",null,V.map(v=>{const[P,N,R]=pd(z.get(v.source)),[M,_,T]=pd(z.get(v.target));if(!R||!T)return null;let D=v.type||"default";o[D]||(b==null||b("011",sn.error011(D)),D="default");const j=o[D]||o.default,W=A===Jn.Strict?_.target:(_.target??[]).concat(_.source??[]),U=dd(N.source,v.sourceHandle),G=dd(W,v.targetHandle),Z=(U==null?void 0:U.position)||K.Bottom,Y=(G==null?void 0:G.position)||K.Top,ie=!!(v.focusable||h&&typeof v.focusable>"u"),Se=v.reconnectable||v.updatable,ae=typeof p<"u"&&(Se||m&&typeof Se>"u");if(!U||!G)return b==null||b("008",sn.error008(U,v)),null;const{sourceX:Oe,sourceY:nt,targetX:Ue,targetY:rt}=bE(P,U,Z,M,G,Y);return C.createElement(j,{key:v.id,id:v.id,className:tt([v.className,i]),type:D,data:v.data,selected:!!v.selected,animated:!!v.animated,hidden:!!v.hidden,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,style:v.style,source:v.source,target:v.target,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerEnd:v.markerEnd,markerStart:v.markerStart,sourceX:Oe,sourceY:nt,targetX:Ue,targetY:rt,sourcePosition:Z,targetPosition:Y,elementsSelectable:y,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:a,onClick:c,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,reconnectRadius:w,rfId:r,ariaLabel:v.ariaLabel,isFocusable:ie,isReconnectable:ae,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth,disableKeyboardA11y:d})})))),S):null};Zm.displayName="EdgeRenderer";var WE=I.memo(Zm);const XE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function YE({children:e}){const t=fe(XE);return C.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function KE(e){const t=nr(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GE={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},Jm=({nodeId:e,handleType:t,style:n,type:r=gn.Bezier,CustomComponent:o,connectionStatus:i})=>{var k,A,z;const{fromNode:s,handleId:l,toX:u,toY:a,connectionMode:c}=fe(I.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),Qe),f=(k=s==null?void 0:s[Ae])==null?void 0:k.handleBounds;let p=f==null?void 0:f[t];if(c===Jn.Loose&&(p=p||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!p)return null;const g=l?p.find(b=>b.id===l):p[0],x=g?g.x+g.width/2:(s.width??0)/2,w=g?g.y+g.height/2:s.height??0,S=(((A=s.positionAbsolute)==null?void 0:A.x)??0)+x,d=(((z=s.positionAbsolute)==null?void 0:z.y)??0)+w,h=g==null?void 0:g.position,m=h?GE[h]:null;if(!h||!m)return null;if(o)return C.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:S,fromY:d,toX:u,toY:a,fromPosition:h,toPosition:m,connectionStatus:i});let y="";const E={sourceX:S,sourceY:d,sourcePosition:h,targetX:u,targetY:a,targetPosition:m};return r===gn.Bezier?[y]=Sm(E):r===gn.Step?[y]=Vu({...E,borderRadius:0}):r===gn.SmoothStep?[y]=Vu(E):r===gn.SimpleBezier?[y]=xm(E):y=`M${S},${d} ${u},${a}`,C.createElement("path",{d:y,fill:"none",className:"react-flow__connection-path",style:n})};Jm.displayName="ConnectionLine";const QE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function qE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:u,connectionStatus:a}=fe(QE,Qe);return!(o&&i&&l&&s)?null:C.createElement("svg",{style:e,width:l,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},C.createElement("g",{className:tt(["react-flow__connection",a])},C.createElement(Jm,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:a})))}function md(e,t){return I.useRef(null),je(),I.useMemo(()=>t(e),[e])}const eg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:x,onSelectionStart:w,onSelectionEnd:S,connectionLineType:d,connectionLineStyle:h,connectionLineComponent:m,connectionLineContainerStyle:y,selectionKeyCode:E,selectionOnDrag:k,selectionMode:A,multiSelectionKeyCode:z,panActivationKeyCode:b,zoomActivationKeyCode:L,deleteKeyCode:O,onlyRenderVisibleElements:V,elementsSelectable:H,selectNodesOnDrag:v,defaultViewport:P,translateExtent:N,minZoom:R,maxZoom:M,preventScrolling:_,defaultMarkerColor:T,zoomOnScroll:D,zoomOnPinch:j,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:G,zoomOnDoubleClick:Z,panOnDrag:Y,onPaneClick:ie,onPaneMouseEnter:Se,onPaneMouseMove:ae,onPaneMouseLeave:Oe,onPaneScroll:nt,onPaneContextMenu:Ue,onEdgeContextMenu:rt,onEdgeMouseEnter:Te,onEdgeMouseMove:xt,onEdgeMouseLeave:he,onReconnect:Q,onReconnectStart:F,onReconnectEnd:ee,reconnectRadius:re,noDragClassName:J,noWheelClassName:le,noPanClassName:se,elevateEdgesOnSelect:te,disableKeyboardA11y:q,nodeOrigin:de,nodeExtent:ye,rfId:ze})=>{const Ne=md(e,NE),pe=md(t,RE);return KE(i),C.createElement(_E,{onPaneClick:ie,onPaneMouseEnter:Se,onPaneMouseMove:ae,onPaneMouseLeave:Oe,onPaneContextMenu:Ue,onPaneScroll:nt,deleteKeyCode:O,selectionKeyCode:E,selectionOnDrag:k,selectionMode:A,onSelectionStart:w,onSelectionEnd:S,multiSelectionKeyCode:z,panActivationKeyCode:b,zoomActivationKeyCode:L,elementsSelectable:H,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:j,zoomOnDoubleClick:Z,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:G,panOnDrag:Y,defaultViewport:P,translateExtent:N,minZoom:R,maxZoom:M,onSelectionContextMenu:x,preventScrolling:_,noDragClassName:J,noWheelClassName:le,noPanClassName:se,disableKeyboardA11y:q},C.createElement(YE,null,C.createElement(WE,{edgeTypes:pe,onEdgeClick:l,onEdgeDoubleClick:a,onlyRenderVisibleElements:V,onEdgeContextMenu:rt,onEdgeMouseEnter:Te,onEdgeMouseMove:xt,onEdgeMouseLeave:he,onReconnect:Q,onReconnectStart:F,onReconnectEnd:ee,reconnectRadius:re,defaultMarkerColor:T,noPanClassName:se,elevateEdgesOnSelect:!!te,disableKeyboardA11y:q,rfId:ze},C.createElement(qE,{style:h,type:d,component:m,containerStyle:y})),C.createElement("div",{className:"react-flow__edgelabel-renderer"}),C.createElement(AE,{nodeTypes:Ne,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:v,onlyRenderVisibleElements:V,noPanClassName:se,noDragClassName:J,disableKeyboardA11y:q,nodeOrigin:de,nodeExtent:ye,rfId:ze})))};eg.displayName="GraphView";var ZE=I.memo(eg);const Ku=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],an={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ku,nodeExtent:Ku,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Jn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:MS,isValidConnection:void 0},JE=()=>Fv((e,t)=>({...an,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:bl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?bl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:u,nodeOrigin:a}=t(),c=u==null?void 0:u.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((w,S)=>{const d=o.get(S.id);if(d!=null&&d.hidden)o.set(d.id,{...d,[Ae]:{...d[Ae],handleBounds:void 0}});else if(d){const h=Ja(S.nodeElement);!!(h.width&&h.height&&(d.width!==h.width||d.height!==h.height||S.forceUpdate))&&(o.set(d.id,{...d,[Ae]:{...d[Ae],handleBounds:{source:ud(".source",S.nodeElement,p,a),target:ud(".target",S.nodeElement,p,a)}},...h}),w.push({id:d.id,type:"dimensions",dimensions:h}))}return w},[]);Fm(o,a);const x=s||i&&!s&&Hm(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:x}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const u={id:l.id,type:"position",dragging:o};return r&&(u.positionAbsolute=l.positionAbsolute,u.position=l.position),u});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:u}=t();if(n!=null&&n.length){if(i){const a=Vm(n,l()),c=bl(a,o,s,u);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(u=>pn(u,!0)):(s=xr(i(),n),l=xr(o,[])),Ci({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(u=>pn(u,!0)):(s=xr(o,n),l=xr(i(),[])),Ci({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,u=s.map(c=>(c.selected=!1,pn(c.id,!1))),a=l.map(c=>pn(c.id,!1));Ci({changedNodes:u,changedEdges:a,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>pn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>pn(l.id,!1));Ci({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=ec(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:u}=t();if(!s||!l||!n.x&&!n.y)return!1;const a=Mn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],f=s==null?void 0:s.constrain()(a,c,u);return s.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:an.connectionNodeId,connectionHandleId:an.connectionHandleId,connectionHandleType:an.connectionHandleType,connectionStatus:an.connectionStatus,connectionStartHandle:an.connectionStartHandle,connectionEndHandle:an.connectionEndHandle}),reset:()=>e({...an})}),Object.is),cc=({children:e})=>{const t=I.useRef(null);return t.current||(t.current=JE()),C.createElement(wS,{value:t.current},e)};cc.displayName="ReactFlowProvider";const tg=({children:e})=>I.useContext(Ys)?C.createElement(C.Fragment,null,e):C.createElement(cc,null,e);tg.displayName="ReactFlowWrapper";const e2={input:bm,default:Xu,output:Im,group:uc},t2={default:_s,straight:oc,step:rc,smoothstep:Ks,simplebezier:nc},n2=[0,0],r2=[15,15],o2={x:0,y:0,zoom:1},i2={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ng=I.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=e2,edgeTypes:s=t2,onNodeClick:l,onEdgeClick:u,onInit:a,onMove:c,onMoveStart:f,onMoveEnd:p,onConnect:g,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:d,onNodeMouseEnter:h,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:A,onNodeDrag:z,onNodeDragStop:b,onNodesDelete:L,onEdgesDelete:O,onSelectionChange:V,onSelectionDragStart:H,onSelectionDrag:v,onSelectionDragStop:P,onSelectionContextMenu:N,onSelectionStart:R,onSelectionEnd:M,connectionMode:_=Jn.Strict,connectionLineType:T=gn.Bezier,connectionLineStyle:D,connectionLineComponent:j,connectionLineContainerStyle:W,deleteKeyCode:U="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:Y=Xo.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:Se=Ss()?"Meta":"Control",zoomActivationKeyCode:ae=Ss()?"Meta":"Control",snapToGrid:Oe=!1,snapGrid:nt=r2,onlyRenderVisibleElements:Ue=!1,selectNodesOnDrag:rt=!0,nodesDraggable:Te,nodesConnectable:xt,nodesFocusable:he,nodeOrigin:Q=n2,edgesFocusable:F,edgesUpdatable:ee,elementsSelectable:re,defaultViewport:J=o2,minZoom:le=.5,maxZoom:se=2,translateExtent:te=Ku,preventScrolling:q=!0,nodeExtent:de,defaultMarkerColor:ye="#b1b1b7",zoomOnScroll:ze=!0,zoomOnPinch:Ne=!0,panOnScroll:pe=!1,panOnScrollSpeed:Pe=.5,panOnScrollMode:me=Bn.Free,zoomOnDoubleClick:Ce=!0,panOnDrag:Fe=!0,onPaneClick:We,onPaneMouseEnter:ot,onPaneMouseMove:Xr,onPaneMouseLeave:Zs,onPaneScroll:Yr,onPaneContextMenu:Js,children:dc,onEdgeContextMenu:$n,onEdgeDoubleClick:ag,onEdgeMouseEnter:cg,onEdgeMouseMove:fg,onEdgeMouseLeave:dg,onEdgeUpdate:pg,onEdgeUpdateStart:hg,onEdgeUpdateEnd:mg,onReconnect:gg,onReconnectStart:yg,onReconnectEnd:vg,reconnectRadius:wg=10,edgeUpdaterRadius:xg=10,onNodesChange:Sg,onEdgesChange:Eg,noDragClassName:_g="nodrag",noWheelClassName:kg="nowheel",noPanClassName:pc="nopan",fitView:Ng=!1,fitViewOptions:Cg,connectOnClick:Mg=!0,attributionPosition:Ag,proOptions:Tg,defaultEdgeOptions:zg,elevateNodesOnSelect:Pg=!0,elevateEdgesOnSelect:Rg=!1,disableKeyboardA11y:hc=!1,autoPanOnConnect:bg=!0,autoPanOnNodeDrag:$g=!0,connectionRadius:Ig=20,isValidConnection:Lg,onError:Dg,style:jg,id:mc,nodeDragThreshold:Og,...Fg},Hg)=>{const el=mc||"1";return C.createElement("div",{...Fg,style:{...jg,...i2},ref:Hg,className:tt(["react-flow",o]),"data-testid":"rf__wrapper",id:mc},C.createElement(tg,null,C.createElement(ZE,{onInit:a,onMove:c,onMoveStart:f,onMoveEnd:p,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:h,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:T,connectionLineStyle:D,connectionLineComponent:j,connectionLineContainerStyle:W,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:Y,deleteKeyCode:U,multiSelectionKeyCode:Se,panActivationKeyCode:ie,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Ue,selectNodesOnDrag:rt,defaultViewport:J,translateExtent:te,minZoom:le,maxZoom:se,preventScrolling:q,zoomOnScroll:ze,zoomOnPinch:Ne,zoomOnDoubleClick:Ce,panOnScroll:pe,panOnScrollSpeed:Pe,panOnScrollMode:me,panOnDrag:Fe,onPaneClick:We,onPaneMouseEnter:ot,onPaneMouseMove:Xr,onPaneMouseLeave:Zs,onPaneScroll:Yr,onPaneContextMenu:Js,onSelectionContextMenu:N,onSelectionStart:R,onSelectionEnd:M,onEdgeContextMenu:$n,onEdgeDoubleClick:ag,onEdgeMouseEnter:cg,onEdgeMouseMove:fg,onEdgeMouseLeave:dg,onReconnect:gg??pg,onReconnectStart:yg??hg,onReconnectEnd:vg??mg,reconnectRadius:wg??xg,defaultMarkerColor:ye,noDragClassName:_g,noWheelClassName:kg,noPanClassName:pc,elevateEdgesOnSelect:Rg,rfId:el,disableKeyboardA11y:hc,nodeOrigin:Q,nodeExtent:de}),C.createElement(GS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:d,nodesDraggable:Te,nodesConnectable:xt,nodesFocusable:he,edgesFocusable:F,edgesUpdatable:ee,elementsSelectable:re,elevateNodesOnSelect:Pg,minZoom:le,maxZoom:se,nodeExtent:de,onNodesChange:Sg,onEdgesChange:Eg,snapToGrid:Oe,snapGrid:nt,connectionMode:_,translateExtent:te,connectOnClick:Mg,defaultEdgeOptions:zg,fitView:Ng,fitViewOptions:Cg,onNodesDelete:L,onEdgesDelete:O,onNodeDragStart:A,onNodeDrag:z,onNodeDragStop:b,onSelectionDrag:v,onSelectionDragStart:H,onSelectionDragStop:P,noPanClassName:pc,nodeOrigin:Q,rfId:el,autoPanOnConnect:bg,autoPanOnNodeDrag:$g,onError:Dg,connectionRadius:Ig,isValidConnection:Lg,nodeDragThreshold:Og}),C.createElement(YS,{onSelectionChange:V}),dc,C.createElement(SS,{proOptions:Tg,position:Ag}),C.createElement(eE,{rfId:el,disableKeyboardA11y:hc})))});ng.displayName="ReactFlow";function rg(e){return t=>{const[n,r]=I.useState(t),o=I.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const s2=rg(Vm),l2=rg(hE);function u2(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},C.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function a2(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},C.createElement("path",{d:"M0 0h32v4.2H0z"}))}function c2(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},C.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function f2(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},C.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d2(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},C.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ho=({children:e,className:t,...n})=>C.createElement("button",{type:"button",className:tt(["react-flow__controls-button",t]),...n},e);ho.displayName="ControlButton";const p2=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),og=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:u,className:a,children:c,position:f="bottom-left"})=>{const p=je(),[g,x]=I.useState(!1),{isInteractive:w,minZoomReached:S,maxZoomReached:d}=fe(p2,Qe),{zoomIn:h,zoomOut:m,fitView:y}=nr();if(I.useEffect(()=>{x(!0)},[]),!g)return null;const E=()=>{h(),i==null||i()},k=()=>{m(),s==null||s()},A=()=>{y(o),l==null||l()},z=()=>{p.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),u==null||u(!w)};return C.createElement(pm,{className:tt(["react-flow__controls",a]),position:f,style:e,"data-testid":"rf__controls"},t&&C.createElement(C.Fragment,null,C.createElement(ho,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:d},C.createElement(u2,null)),C.createElement(ho,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},C.createElement(a2,null))),n&&C.createElement(ho,{className:"react-flow__controls-fitview",onClick:A,title:"fit view","aria-label":"fit view"},C.createElement(c2,null)),r&&C.createElement(ho,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity"},w?C.createElement(d2,null):C.createElement(f2,null)),c)};og.displayName="Controls";var h2=I.memo(og),Lt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Lt||(Lt={}));function m2({color:e,dimensions:t,lineWidth:n}){return C.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function g2({color:e,radius:t}){return C.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const y2={[Lt.Dots]:"#91919a",[Lt.Lines]:"#eee",[Lt.Cross]:"#e2e2e2"},v2={[Lt.Dots]:1,[Lt.Lines]:1,[Lt.Cross]:6},w2=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ig({id:e,variant:t=Lt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:u}){const a=I.useRef(null),{transform:c,patternId:f}=fe(w2,Qe),p=s||y2[t],g=r||v2[t],x=t===Lt.Dots,w=t===Lt.Cross,S=Array.isArray(n)?n:[n,n],d=[S[0]*c[2]||1,S[1]*c[2]||1],h=g*c[2],m=w?[h,h]:d,y=x?[h/i,h/i]:[m[0]/i,m[1]/i];return C.createElement("svg",{className:tt(["react-flow__background",u]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:a,"data-testid":"rf__background"},C.createElement("pattern",{id:f+e,x:c[0]%d[0],y:c[1]%d[1],width:d[0],height:d[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${y[0]},-${y[1]})`},x?C.createElement(g2,{color:p,radius:h/i}):C.createElement(m2,{dimensions:m,color:p,lineWidth:o})),C.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}ig.displayName="Background";var x2=I.memo(ig);function Br(e,t="#fff"){try{const n=new DOMParser().parseFromString(e,"image/svg+xml"),r=n.querySelector("svg");if(!r)return e;const o=n.createElementNS("http://www.w3.org/2000/svg","style");return o.textContent=`
      path, line, polyline {
        stroke: ${t} !important;
        stroke-width: 3 !important;
        stroke-linecap: round !important;
        stroke-linejoin: round !important;
        fill: none !important;
        vector-effect: non-scaling-stroke;
      }
    `,r.insertBefore(o,r.firstChild),n.querySelectorAll("path,polyline,line").forEach(i=>{i.setAttribute("stroke",t),i.setAttribute("stroke-width","3"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-linejoin","round"),i.setAttribute("fill","none"),i.setAttribute("vector-effect","non-scaling-stroke")}),new XMLSerializer().serializeToString(n)}catch{return e}}function Xn(e){const t=Br(e,"#fff");return`data:image/svg+xml;utf8,${encodeURIComponent(t)}`}const Gu=new Map,gd=new Map,yd=new Map,Gs=e=>{let t=0;return(...n)=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>e(...n))}};function S2(e,t,n){return e.length+":"+t+"-"+n+":"+e.slice(0,64)}function vd(e,t,n){const r=S2(e,t,n),o=Gu.get(r);if(o)return o;const i=Hs(e,t,n);return Gu.set(r,i),i}function E2(e,t,n,r,o){return e.length+":"+t+","+n+","+r+","+o+":"+e.slice(0,64)}function Dl(e,t,n,r,o){const i=E2(e,t,n,r,o),s=gd.get(i);if(s)return s;const l=qs(e,t,n,r,o);return gd.set(i,l),l}function _2(e,t,n,r,o){return e.length+"|"+t.length+"|"+n+"|"+r+"|"+(o?1:0)+"|"+e.slice(0,32)+"|"+t.slice(0,32)}function wd(e,t,n,r,o){const i=_2(e,t,n,r,o),s=yd.get(i);if(s)return s;const l=fc(e,t,n,r,o);return yd.set(i,l),l}let jl=null,k2=1;const Qu=new Map;function N2(){if(jl)return jl;const t=`
    const BASE = "/KanjiComposer/";
    const pad5 = (hex) => hex.padStart(5, "0");
    function code5(ch) {
      const cp = ch.codePointAt(0);
      if (!cp) throw new Error("invalid char");
      return pad5(cp.toString(16).toLowerCase());
    }
    const githubSvgUrl = (c5) =>
      "https://raw.githubusercontent.com/KanjiVG/kanjivg/master/kanji/" + c5 + ".svg";
    const localSvgUrl = (c5) => BASE + "kanji/" + c5 + ".svg";

    async function tryFetch(url, timeoutMs = 6000) {
      const ctrl = new AbortController();
      const t = setTimeout(() => ctrl.abort(), timeoutMs);
      try {
        const res = await fetch(url, { signal: ctrl.signal, cache: "no-cache" });
        if (!res.ok) return null;
        return await res.text();
      } catch {
        return null;
      } finally {
        clearTimeout(t);
      }
    }

    const svgCache = new Map();
    async function fetchKanjiVGSvg(char) {
      const c5 = code5(char);
      if (svgCache.has(c5)) return svgCache.get(c5);
      const gh = await tryFetch(githubSvgUrl(c5), 6000);
      if (gh) { svgCache.set(c5, gh); return gh; }
      const local = await tryFetch(localSvgUrl(c5), 6000);
      if (local) { svgCache.set(c5, local); return local; }
      throw new Error("KanjiVG not found: " + c5 + ".svg");
    }

    function hideStrokeNumbers(svgText) {
      const doc = new DOMParser().parseFromString(svgText, "image/svg+xml");
      doc.querySelectorAll('[id^="kvg:StrokeNumbers_"]').forEach((g) => g.remove());
      return new XMLSerializer().serializeToString(doc);
    }

    function annotateStrokes(svgText) {
      const doc = new DOMParser().parseFromString(svgText, 'image/svg+xml');
      doc.querySelectorAll('[id^="kvg:StrokeNumbers_"], [id^="kvg:Numbers_"], [id^="kvg:Grid_"], [id^="kvg:Guideline_"]').forEach((n) => n.remove());
      const strokeIdRe = /-s(\\d+)$/;
      const findStrokeIndex = (el) => {
        let cur = el;
        while (cur && cur.tagName !== 'SVG') {
          const id = (cur.getAttribute && cur.getAttribute('id')) || '';
          const m = id.match(strokeIdRe);
          if (m) return m[1];
          cur = cur.parentElement;
        }
        return null;
      };
      Array.from(doc.querySelectorAll('path,polyline,line')).forEach((d) => {
        const idx = findStrokeIndex(d);
        if (idx) d.setAttribute('data-stroke', idx); else d.setAttribute('data-ignore', '1');
      });
      const svg = doc.querySelector('svg');
      if (svg) {
        svg.removeAttribute('width'); svg.removeAttribute('height');
        svg.setAttribute('width','100%'); svg.setAttribute('height','100%');
        svg.setAttribute('viewBox', svg.getAttribute('viewBox') || '0 0 109 109');
        svg.setAttribute('vector-effect','non-scaling-stroke');
        svg.setAttribute('preserveAspectRatio','xMidYMid meet');
      }
      return new XMLSerializer().serializeToString(doc);
    }

    function applyRange(svgText, start, end) {
      const annotated = annotateStrokes(svgText);
      const doc = new DOMParser().parseFromString(annotated, 'image/svg+xml');
      const svg = doc.querySelector('svg');
      if (!svg) return annotated;
      svg.querySelectorAll('[data-stroke],[data-ignore]').forEach((el) => { el.removeAttribute('display'); el.removeAttribute('opacity'); });
      svg.querySelectorAll('[data-ignore="1"]').forEach((el) => el.setAttribute('display','none'));
      svg.querySelectorAll('path[data-stroke], polyline[data-stroke], line[data-stroke]').forEach((el) => {
        el.setAttribute('display','none');
      });
      const showEl = (el) => {
        el.removeAttribute('display');
        let p = el.parentElement;
        while (p && p.tagName !== 'SVG') {
          if (p.getAttribute('data-ignore') !== '1') p.removeAttribute('display');
          p = p.parentElement;
        }
      };
      svg.querySelectorAll('path[data-stroke], polyline[data-stroke], line[data-stroke]').forEach((el) => {
        const idx = Number(el.getAttribute('data-stroke') || '0');
        if (idx >= start && idx <= end) showEl(el);
      });
      return new XMLSerializer().serializeToString(doc);
    }

    function applyTransform(svgText, x, y, sx, sy) {
      const doc = new DOMParser().parseFromString(svgText, "image/svg+xml");
      const svg = doc.querySelector("svg");
      if (!svg) return svgText;
      const g = doc.createElementNS("http://www.w3.org/2000/svg", "g");
      g.setAttribute("transform", \`translate(\${x||0},\${y||0}) scale(\${sx||1},\${sy||1})\`);
      const keepTags = new Set(["style","defs"]);
      const toMove = [];
      Array.from(svg.children).forEach((c) => {
        const tag = c.tagName.toLowerCase();
        if (!keepTags.has(tag)) toMove.push(c);
      });
      toMove.forEach((c) => g.appendChild(c));
      svg.appendChild(g);
      return new XMLSerializer().serializeToString(doc);
    }

    function composite(svgA, svgB) {
      if (svgA === svgB) return svgA;
      const parser = new DOMParser();
      const a = parser.parseFromString(svgA, "image/svg+xml");
      const b = parser.parseFromString(svgB, "image/svg+xml");
      const out = a.querySelector("svg");
      const inb = b.querySelector("svg");
      if (!out || !inb) return svgA;
      Array.from(inb.children).forEach((child) => out.appendChild(child.cloneNode(true)));
      return new XMLSerializer().serializeToString(a);
    }

    async function evalInWorker(payload) {
      const { type, data } = payload;
      if (type === "kanji") {
        let raw = await fetchKanjiVGSvg(data.char);
        if (data.hideNumbers) raw = hideStrokeNumbers(raw);
        return annotateStrokes(raw);
      }
      if (type === "range") {
        const input = data.input;
        if (!input) return null;
        const start = Number.isFinite(data.start) && data.start > 0 ? data.start : 1;
        const end = Number.isFinite(data.end) ? data.end : Infinity;
        return applyRange(input, start, end);
      }
      if (type === "transform") {
        const input = data.input;
        if (!input) return null;
        return applyTransform(input, data.x||0, data.y||0, data.sx||1, data.sy||1);
      }
      if (type === "composite") {
        const a = data.A, b = data.B;
        if (a && b) return composite(a, b);
        return a || b || null;
      }
      return null;
    }

    self.onmessage = async (e) => {
      const { reqId, payload } = e.data || {};
      let svg = null;
      try {
        svg = await evalInWorker(payload);
      } catch (err) {}
      self.postMessage({ reqId, svg });
    };
  `,n=new Blob([t],{type:"application/javascript"}),r=URL.createObjectURL(n),o=new Worker(r,{type:"module"});return URL.revokeObjectURL(r),o.onmessage=i=>{const{reqId:s,svg:l}=i.data||{},u=Qu.get(s);u&&(Qu.delete(s),u(l??null))},jl=o,o}function sg(e){const t=N2(),n=k2++;return new Promise(r=>{Qu.set(n,r),t.postMessage({reqId:n,payload:e})})}const qu=[{char:"永",code5:"06c38",strokeCount:5,radicals:["水"]},{char:"日",code5:"065e5",strokeCount:4,radicals:["日"]},{char:"月",code5:"06728",strokeCount:4,radicals:["月"]},{char:"木",code5:"06728",strokeCount:4,radicals:["木"]},{char:"水",code5:"06c34",strokeCount:4,radicals:["水"]},{char:"火",code5:"0706b",strokeCount:4,radicals:["火"]},{char:"人",code5:"04eba",strokeCount:2,radicals:["人"]},{char:"口",code5:"053e3",strokeCount:3,radicals:["口"]},{char:"田",code5:"07531",strokeCount:5,radicals:["田"]},{char:"心",code5:"05fc3",strokeCount:4,radicals:["心"]}],C2=e=>e.padStart(5,"0");function M2(e){const t=e.codePointAt(0);if(!t)throw new Error("invalid char");return C2(t.toString(16).toLowerCase())}const A2=e=>`https://raw.githubusercontent.com/KanjiVG/kanjivg/master/kanji/${e}.svg`,T2=e=>`/KanjiComposer/kanji/${e}.svg`;async function xd(e,t=5e3){const n=new AbortController,r=setTimeout(()=>n.abort(),t);try{const o=await fetch(e,{signal:n.signal,cache:"no-cache"});return o.ok?await o.text():null}catch{return null}finally{clearTimeout(r)}}const Ai=new Map,Ol=new Map;async function Qs(e,t){const n=`${e}|1`;if(Ol.has(n))return Ol.get(n);const r=await lg(e),o=ug(r),i=P2(o),s=Br(i,"#fff");return Ol.set(n,s),s}async function lg(e){const t=M2(e);if(Ai.has(t))return Ai.get(t);const n=await xd(A2(t),6e3);if(n)return Ai.set(t,n),n;const r=await xd(T2(t),6e3);if(r)return Ai.set(t,r),r;throw new Error(`KanjiVG not found (GitHub & local): ${t}.svg`)}async function z2(){try{const e=await fetch("/KanjiComposer/kanji-index.json",{cache:"no-cache"});if(!e.ok)throw new Error("no index");const t=await e.json();if(Array.isArray(t))return t;if(t&&typeof t=="object"){const n=[];for(const r of Object.keys(t)){const o=t[r];if(!o)continue;const i=o.element??r,s=(o.unicode??"").toString().toLowerCase().padStart(5,"0"),l=Number(o.stroke??o.strokes??0),u=o.radical??o.radicals??null,a=Array.isArray(u)?u:u?[u]:[];i&&s&&n.push({char:i,code5:s,strokeCount:l,radicals:a})}if(n.length>0)return n}return qu}catch{return qu}}function P2(e){const t=new DOMParser().parseFromString(e,"image/svg+xml");t.querySelectorAll('[id^="kvg:StrokeNumbers_"], [id^="kvg:Numbers_"], [id^="kvg:Grid_"], [id^="kvg:Guideline_"]').forEach(i=>i.remove());const n=/-s(\d+)$/,r=i=>{let s=i;for(;s&&s.tagName!=="SVG";){const u=(s.getAttribute("id")||"").match(n);if(u)return u[1];s=s.parentElement}return null};t.querySelectorAll("path,polyline,line").forEach(i=>{const s=r(i);s?i.setAttribute("data-stroke",s):i.setAttribute("data-ignore","1")});const o=t.querySelector("svg");return o&&(o.removeAttribute("width"),o.removeAttribute("height"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("viewBox",o.getAttribute("viewBox")||"0 0 109 109"),o.setAttribute("vector-effect","non-scaling-stroke"),o.setAttribute("preserveAspectRatio","xMidYMid meet")),new XMLSerializer().serializeToString(t)}function qs(e,t,n,r,o){try{const i=new DOMParser().parseFromString(e,"image/svg+xml"),s=i.querySelector("svg");if(!s)return e;const l=i.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("transform",`translate(${t||0},${n||0}) scale(${r||1},${o||1})`);const u=new Set(["style","defs"]),a=[];return Array.from(s.children).forEach(c=>{const f=c.tagName.toLowerCase();u.has(f)||a.push(c)}),a.forEach(c=>l.appendChild(c)),s.appendChild(l),new XMLSerializer().serializeToString(i)}catch{return e}}function R2(e,t){if(e===t)return e;const n=new DOMParser,r=n.parseFromString(e,"image/svg+xml"),o=n.parseFromString(t,"image/svg+xml"),i=r.querySelector("svg"),s=o.querySelector("svg");return!i||!s?e:(Array.from(s.children).forEach(l=>i.appendChild(l.cloneNode(!0))),new XMLSerializer().serializeToString(r))}function fc(e,t,n=1,r=1,o=!1){const i=g=>Math.max(0,Math.min(1,g)),s=new DOMParser,l=s.parseFromString(e,"image/svg+xml"),u=s.parseFromString(t,"image/svg+xml"),a=l.querySelector("svg"),c=u.querySelector("svg");if(!a||!c)return e;const f=l.createElementNS("http://www.w3.org/2000/svg","g");Array.from(a.children).forEach(g=>f.appendChild(g)),f.setAttribute("opacity",String(i(n)));const p=l.createElementNS("http://www.w3.org/2000/svg","g");for(Array.from(c.children).forEach(g=>p.appendChild(g.cloneNode(!0))),p.setAttribute("opacity",String(i(r)));a.firstChild;)a.removeChild(a.firstChild);return o?(a.appendChild(p),a.appendChild(f)):(a.appendChild(f),a.appendChild(p)),new XMLSerializer().serializeToString(l)}function ug(e){const t=new DOMParser().parseFromString(e,"image/svg+xml");return t.querySelectorAll('[id^="kvg:StrokeNumbers_"]').forEach(n=>n.remove()),new XMLSerializer().serializeToString(t)}function dt(e){try{const t=new DOMParser().parseFromString(e,"image/svg+xml");if(!t.querySelector("svg"))return 0;const r=i=>{for(;i&&i.tagName!=="SVG";){if((i.getAttribute("display")||"").trim().toLowerCase()==="none"||(i.getAttribute("style")||"").toLowerCase().includes("display:none"))return!0;i=i.parentElement}return!1},o=new Set;if(t.querySelectorAll("path[data-stroke],polyline[data-stroke],line[data-stroke]").forEach(i=>{if(i.getAttribute("data-ignore")==="1"||r(i))return;const s=Number(i.getAttribute("data-stroke"));Number.isFinite(s)&&s>0&&o.add(s)}),o.size===0){const i=/-s(\d+)$/;t.querySelectorAll("path,polyline,line,g").forEach(l=>{if(l.getAttribute("data-ignore")==="1"||r(l))return;let u=l;for(;u&&u.tagName!=="SVG";){const c=(u.getAttribute("id")||"").match(i);if(c){const f=Number(c[1]);Number.isFinite(f)&&f>0&&o.add(f);break}u=u.parentElement}})}if(o.size>0){const i=o.size,s=Math.max(...Array.from(o));return Math.max(i,s)}return 0}catch{return 0}}const b2=({id:e,data:t})=>{const{char:n}=t,[r,o]=C.useState(null),{setNodes:i}=nr();return C.useEffect(()=>{let s=!0;return(async()=>{try{if(!n||[...String(n)].length!==1){s&&o(null);return}const l=await Qs(n,!0);if(s){const u=Br(l,"#fff");o(u);const a=dt(l);window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:l,count:a}}));return}}catch{}try{const l=await sg({type:"kanji",data:{char:n,hideNumbers:!0}}),u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="64" height="64"><text x="8" y="36" font-size="12" fill="white" opacity="0.7">N/A</text></svg>';if(s)if(l){const a=dt(l);o(Br(l,"#fff")),window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:l,count:a}}))}else o(u)}catch(l){console.error(l),s&&o('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="64" height="64"><text x="8" y="36" font-size="12" fill="white" opacity="0.7">N/A</text></svg>')}})(),()=>{s=!1}},[n]),$.jsxs("div",{className:"relative kanji-node border border-white/10 rounded-xl bg-[#121826] text-white shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04),0_10px_30px_rgba(0,0,0,0.45)] p-3 w-[240px]",children:[$.jsx("button",{className:"absolute top-1 right-1 text-xs bg-red-600 text-white rounded px-1",onClick:()=>i(s=>s.filter(l=>l.id!==e)),title:"Delete node",children:"×"}),$.jsx("div",{className:"rounded bg-[#0b1220] border border-white/10 w-full overflow-hidden",children:$.jsx("div",{className:"w-full grid place-items-center",style:{aspectRatio:"1 / 1"},children:r?$.jsx("img",{className:"w-full h-full overflow-hidden",src:`data:image/svg+xml;utf8,${encodeURIComponent(r)}`,alt:n}):$.jsx("span",{className:"text-xs text-white/60",children:"Loading…"})})}),$.jsx(mt,{id:"in",type:"target",position:K.Left}),$.jsx(mt,{type:"source",position:K.Right})]})},$2=({id:e,data:t})=>{const n=nr(),{setNodes:r}=n,o=t.setOutputs,i=t.setOutputCounts,s=C.useRef(null),[l,u]=C.useState(0),[a,c]=C.useState(t.start??1),[f,p]=C.useState(t.end??1),[g,x]=C.useState(null),w=fe(m=>{const y=m.edges.find(E=>E.target===e&&(!E.targetHandle||E.targetHandle===void 0));return y?y.source:""}),S=C.useCallback(()=>{if(!w)return null;const m=n.getNode(w);if(!m||m.type!=="kanji")return null;const{char:y}=m.data||{};return y?{char:String(y)}:null},[n,w]),d=C.useCallback(async()=>{const m=S();if(!m){s.current=null,u(0),x(null);return}try{const y=await lg(m.char),E=ug(y),k=Fs(E);s.current=k,Gu.clear();const A=Math.max(1,k.count||Xa(k.svg));u(A),c(z=>Math.min(Math.max(1,z||1),A)),p(z=>Math.min(Math.max(1,z||A),A));{const z=Math.min(a||1,f||A),b=Math.max(a||1,f||A),L=vd(k.svg,z,b);x(Xn(L)),window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:L,count:Math.max(0,b-z+1)}})),typeof o=="function"&&o(O=>({...O,[e]:L})),typeof i=="function"&&i(O=>({...O,[e]:Math.max(0,b-z+1)}))}}catch(y){console.error(y),s.current=null,u(0),x(null)}},[S,o,i,e,a,f]);C.useEffect(()=>{d()},[d]);const h=C.useMemo(()=>Gs((m,y)=>{r(E=>E.map(k=>k.id===e?{...k,data:{...k.data,start:m,end:y}}:k))}),[e,r]);return C.useEffect(()=>{if(!s.current)return;const m=Math.min(a||1,f||l||1),y=Math.max(a||1,f||l||1),E=vd(s.current.svg,m,y);x(Xn(E)),window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:E,count:Math.max(0,y-m+1)}})),typeof o=="function"&&o(k=>({...k,[e]:E})),typeof i=="function"&&i(k=>({...k,[e]:Math.max(0,y-m+1)})),h(m,y)},[a,f,l,e,r,h,o,i]),$.jsxs("div",{className:"relative kanji-node border border-white/10 rounded-xl bg-[#121826] text-white shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04),0_10px_30px_rgba(0,0,0,0.45)] p-3 w-64",children:[$.jsx("button",{className:"absolute top-1 right-1 text-xs bg-red-600 text-white rounded px-1",onClick:()=>r(m=>m.filter(y=>y.id!==e)),title:"Delete node",children:"×"}),$.jsx("div",{className:"text-xs opacity-70 mb-2",children:"RangeSelection"}),$.jsx("div",{className:"rounded bg-[#0b1220] border border-white/10 mb-2 w-full overflow-hidden",children:$.jsx("div",{className:"w-full grid place-items-center",style:{aspectRatio:"1 / 1"},children:g?$.jsx("img",{className:"w-full h-full overflow-hidden",src:g,alt:"range"}):w?$.jsx("div",{className:"text-white/60 text-[11px]",children:"Loading…"}):$.jsx("div",{className:"text-white/60 text-[11px]",children:"左から Kanji を接続"})})}),$.jsxs("div",{className:"text-[11px] text-white/80 mb-2",children:["総画数: ",$.jsx("span",{className:"font-semibold",children:l||"-"})]}),$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("input",{type:"range",min:1,max:Math.max(1,l),step:1,value:a,onChange:m=>c(parseInt(m.target.value,10)||1),className:"flex-1"}),$.jsx("span",{className:"text-xs w-6 text-center",children:a})]}),$.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[$.jsx("input",{type:"range",min:1,max:Math.max(1,l),step:1,value:f,onChange:m=>p(parseInt(m.target.value,10)||1),className:"flex-1"}),$.jsx("span",{className:"text-xs w-6 text-center",children:f})]}),$.jsx(mt,{type:"target",position:K.Left}),$.jsx(mt,{type:"source",position:K.Right})]})},I2=({id:e,data:t})=>{const n=nr(),{setNodes:r}=n,o=fe(m=>{const y=m.edges.find(E=>E.target===e&&(!E.targetHandle||E.targetHandle===void 0));return y?y.source:""}),i=fe(m=>m.edges),s=C.useRef(null),l=C.useRef(null),[u,a]=C.useState(null),c=C.useMemo(()=>Gs(m=>t.set(m)),[t]),f=C.useCallback(async(m,y=0,E=new Map)=>{if(!m||y>20)return null;if(E.has(m))return E.get(m);const k=(async()=>{var b,L,O,V,H,v,P;const A=n.getNode(m);if(!A)return null;const z=async N=>{const R=i.find(M=>M.target===m&&(N?M.targetHandle===N:!M.targetHandle));return R?await f(R.source,y+1,E):null};if(A.type==="kanji"){const N=(b=A.data)==null?void 0:b.char;return N?await Qs(N):null}if(A.type==="range"){const N=await z();if(!N)return null;const R=Fs(N),M=R.count||Xa(R.svg)||1,_=Number((L=A.data)==null?void 0:L.start)||1,T=Number((O=A.data)==null?void 0:O.end)||M,D=Math.min(Math.max(1,Math.min(_,T)),M),j=Math.min(Math.max(1,Math.max(_,T)),M);return Hs(R.svg,D,j)}if(A.type==="transform"){const N=await z();if(!N)return null;const R=Number(((V=A.data)==null?void 0:V.x)??0),M=Number(((H=A.data)==null?void 0:H.y)??0),_=Number(((v=A.data)==null?void 0:v.sx)??1),T=Number(((P=A.data)==null?void 0:P.sy)??1);return qs(N,R,M,_,T)}if(A.type==="composite"){const N=await z("A"),R=await z("B");return N&&R?R2(N,R):N||R}return null})();return E.set(m,k),k},[n,i]),p=C.useCallback(async()=>{if(s.current=null,!o){a(null);return}const m=await f(o);s.current=m;const y=m?Dl(m,t.x,t.y,t.sx,t.sy):"";if(a(y?Xn(y):null),y){const E=l.current??dt(y);window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:y,count:E}}))}},[o,t.x,t.y,t.sx,t.sy,f]);C.useEffect(()=>{p()},[p]),C.useEffect(()=>{if(!s.current)return;const m=Dl(s.current,t.x,t.y,t.sx,t.sy);a(Xn(m));const y=l.current??dt(m);window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:m,count:y}}))},[t.x,t.y,t.sx,t.sy]),C.useEffect(()=>{const m=y=>{const{id:E,svg:k,count:A}=y.detail||{};if(!k||E!==o)return;s.current=k,l.current=y.detail&&typeof y.detail.count=="number"?y.detail.count:dt(k);const z=Dl(k,t.x,t.y,t.sx,t.sy);a(Xn(z));const b=l.current??dt(z);window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:z,count:b}}))};return window.addEventListener("node-preview",m),()=>window.removeEventListener("node-preview",m)},[o,t.x,t.y,t.sx,t.sy,e]);const g=C.useRef({startX:0,startY:0,ox:0,oy:0,dragging:!1}),x=m=>{m.currentTarget.setPointerCapture(m.pointerId),g.current={startX:m.clientX,startY:m.clientY,ox:t.x,oy:t.y,dragging:!0}},w=m=>{if(!g.current.dragging)return;const y=m.clientX-g.current.startX,E=m.clientY-g.current.startY;c({x:Math.round(g.current.ox+y),y:Math.round(g.current.oy+E)})},S=m=>{m.currentTarget.releasePointerCapture(m.pointerId),g.current.dragging=!1},d=m=>{if(!m.altKey&&!m.ctrlKey&&!m.metaKey)return;m.preventDefault();const y=-Math.sign(m.deltaY)*.05;m.ctrlKey||m.metaKey?c({sy:Math.max(.05,+(t.sy+y).toFixed(2))}):c({sx:Math.max(.05,+(t.sx+y).toFixed(2))})},h=()=>c({x:0,y:0,sx:1,sy:1});return $.jsxs("div",{className:"relative kanji-node border border-white/10 rounded-xl bg-[#121826] text-white shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04),0_10px_30px_rgba(0,0,0,0.45)] p-3 w-[300px]",children:[$.jsx("button",{className:"absolute top-1 right-1 text-xs bg-red-600 text-white rounded px-1",onClick:()=>r(m=>m.filter(y=>y.id!==e)),title:"Delete node",children:"×"}),$.jsx("div",{className:"text-xs opacity-70 mb-2",children:"Transform"}),$.jsx("div",{className:"rounded bg-[#0b1220] border border-white/10 mb-2 w-full overflow-hidden select-none",children:$.jsx("div",{className:"w-full grid place-items-center relative",style:{aspectRatio:"1 / 1"},onPointerDown:x,onPointerMove:w,onPointerUp:S,onDoubleClick:h,onWheel:d,title:"ドラッグで移動 / Alt+ホイール=拡大縮小 / Ctrl(or ⌘)+ホイール=縦だけ拡大縮小 / ダブルクリック=リセット",children:u?$.jsx("img",{className:"w-full h-full overflow-hidden",src:u,alt:"transform"}):$.jsx("div",{className:"absolute inset-0 grid place-items-center text-white/60 text-[11px]",children:o?"Loading…":"左から入力を接続してください"})})}),$.jsxs("div",{className:"grid grid-cols-[auto,1fr_auto] gap-x-2 gap-y-2 text-sm",children:[$.jsx("span",{children:"X"}),$.jsx("input",{type:"range",min:-200,max:200,step:1,value:t.x,onChange:m=>c({x:Number(m.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:t.x,onChange:m=>c({x:Number(m.target.value)})}),$.jsx("span",{children:"Y"}),$.jsx("input",{type:"range",min:-200,max:200,step:1,value:t.y,onChange:m=>c({y:Number(m.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:t.y,onChange:m=>c({y:Number(m.target.value)})}),$.jsx("span",{children:"ScaleX"}),$.jsx("input",{type:"range",min:.05,max:3,step:.01,value:t.sx,onChange:m=>c({sx:Number(m.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:t.sx,onChange:m=>c({sx:Number(m.target.value)})}),$.jsx("span",{children:"ScaleY"}),$.jsx("input",{type:"range",min:.05,max:3,step:.01,value:t.sy,onChange:m=>c({sy:Number(m.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:t.sy,onChange:m=>c({sy:Number(m.target.value)})})]}),$.jsx("div",{className:"mt-2 text-right",children:$.jsx("button",{onClick:h,className:"text-xs px-2 py-1 rounded bg-[#1f2a44] border border-white/10",children:"Reset"})}),$.jsx(mt,{type:"target",position:K.Left}),$.jsx(mt,{type:"source",position:K.Right})]})},L2=({id:e,data:t})=>{const n=nr(),{setNodes:r}=n,o=fe(S=>{const d=S.edges.find(h=>h.target===e&&h.targetHandle==="A");return d?d.source:""}),i=fe(S=>{const d=S.edges.find(h=>h.target===e&&h.targetHandle==="B");return d?d.source:""}),s=fe(S=>S.edges),[l,u]=C.useState(null),[a,c]=C.useState({alphaA:t.alphaA??1,alphaB:t.alphaB??1,swap:!!t.swap}),f=C.useRef(null),p=C.useRef(null),g=C.useCallback(async(S,d=0,h=new Map)=>{if(!S||d>20)return null;if(h.has(S))return h.get(S);const m=(async()=>{var k,A,z,b,L,O,V,H,v,P;const y=n.getNode(S);if(!y)return null;const E=async N=>{const R=s.find(M=>M.target===S&&(N?M.targetHandle===N:!M.targetHandle));return R?await g(R.source,d+1,h):null};if(y.type==="kanji"){const N=(k=y.data)==null?void 0:k.char;return N?await Qs(N):null}if(y.type==="range"){const N=await E();if(!N)return null;const R=Fs(N),M=R.count||Xa(R.svg)||1,_=Number((A=y.data)==null?void 0:A.start)||1,T=Number((z=y.data)==null?void 0:z.end)||M,D=Math.min(Math.max(1,Math.min(_,T)),M),j=Math.min(Math.max(1,Math.max(_,T)),M);return Hs(R.svg,D,j)}if(y.type==="transform"){const N=await E();if(!N)return null;const R=Number(((b=y.data)==null?void 0:b.x)??0),M=Number(((L=y.data)==null?void 0:L.y)??0),_=Number(((O=y.data)==null?void 0:O.sx)??1),T=Number(((V=y.data)==null?void 0:V.sy)??1);return qs(N,R,M,_,T)}if(y.type==="composite"){const N=await E("A"),R=await E("B"),M=Number(((H=y.data)==null?void 0:H.alphaA)??1),_=Number(((v=y.data)==null?void 0:v.alphaB)??1),T=!!((P=y.data)!=null&&P.swap);return N&&R?fc(N,R,M,_,T):N||R}return null})();return h.set(S,m),m},[n,s]),x=C.useMemo(()=>Gs(S=>{c(d=>({...d,...S})),r(d=>d.map(h=>h.id===e?{...h,data:{...h.data,...S}}:h))}),[e,r]),w=C.useCallback(async()=>{const S=o?await g(o):null,d=i?await g(i):null,h=S&&d?wd(S,d,a.alphaA,a.alphaB,a.swap):S||d||"";if(u(h?Xn(h):null),h){S&&(f.current=f.current??dt(S)),d&&(p.current=p.current??dt(d));const m=(f.current??0)+(p.current??0);window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:h,count:m}}))}},[o,i,a.alphaA,a.alphaB,a.swap,g]);return C.useEffect(()=>{w()},[w]),C.useEffect(()=>{const S=d=>{const{id:h,svg:m,count:y}=d.detail||{};m&&(h!==o&&h!==i||(async()=>{let E=o&&h===o?m:o?await g(o):null,k=i&&h===i?m:i?await g(i):null;h===o&&(f.current=d.detail&&typeof d.detail.count=="number"?d.detail.count:E?dt(E):null),h===i&&(p.current=d.detail&&typeof d.detail.count=="number"?d.detail.count:k?dt(k):null);const A=E&&k?wd(E,k,a.alphaA,a.alphaB,a.swap):E||k||"";if(u(A?Xn(A):null),A){const z=(f.current??(E?dt(E):0))+(p.current??(k?dt(k):0));window.dispatchEvent(new CustomEvent("node-preview",{detail:{id:e,svg:A,count:z}}))}})())};return window.addEventListener("node-preview",S),()=>window.removeEventListener("node-preview",S)},[o,i,a.alphaA,a.alphaB,a.swap,e,g]),$.jsxs("div",{className:"relative kanji-node border border-white/10 rounded-xl bg-[#121826] text-white shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04),0_10px_30px_rgba(0,0,0,0.45)] p-3 w-[300px]",children:[$.jsx("button",{className:"absolute top-1 right-1 text-xs bg-red-600 text-white rounded px-1",onClick:()=>r(S=>S.filter(d=>d.id!==e)),title:"Delete node",children:"×"}),$.jsx("div",{className:"text-xs opacity-70 mb-2",children:"Composite"}),$.jsx("div",{className:"rounded bg-[#0b1220] border border-white/10 mb-2 w-full overflow-hidden",children:$.jsx("div",{className:"w-full grid place-items-center",style:{aspectRatio:"1 / 1"},children:l?$.jsx("img",{className:"w-full h-full overflow-hidden",src:l,alt:"composite"}):!o&&!i?$.jsx("div",{className:"text-white/60 text-[11px]",children:"左から A / B を接続"}):$.jsx("div",{className:"text-white/60 text-[11px]",children:"Loading…"})})}),$.jsxs("div",{className:"grid grid-cols-[auto,1fr_auto] gap-x-2 gap-y-2 text-sm",children:[$.jsx("span",{children:"A α"}),$.jsx("input",{type:"range",min:0,max:1,step:.05,value:a.alphaA,onChange:S=>x({alphaA:Number(S.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:a.alphaA,min:0,max:1,step:.05,onChange:S=>x({alphaA:Number(S.target.value)})}),$.jsx("span",{children:"B α"}),$.jsx("input",{type:"range",min:0,max:1,step:.05,value:a.alphaB,onChange:S=>x({alphaB:Number(S.target.value)})}),$.jsx("input",{type:"number",className:"w-16 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:a.alphaB,min:0,max:1,step:.05,onChange:S=>x({alphaB:Number(S.target.value)})})]}),$.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[$.jsxs("div",{className:"text-white/70",children:["描画順: ",a.swap?"B → A":"A → B"]}),$.jsx("button",{onClick:()=>x({swap:!a.swap}),className:"px-2 py-1 rounded bg-[#1f2a44] border border-white/10",children:"Swap"})]}),$.jsx(mt,{id:"A",type:"target",position:K.Left,style:{top:28}}),$.jsx(mt,{id:"B",type:"target",position:K.Left,style:{top:54}}),$.jsx(mt,{type:"source",position:K.Right})]})},D2={kanji:b2,range:e=>$.jsx($2,{...e,data:{...e.data,setOutputs:e.data.setOutputs,setOutputCounts:e.data.setOutputCounts}}),transform:I2,composite:L2};function j2(){const[e,t,n]=s2([]),[r,o,i]=l2([]),s=C.useCallback(F=>o(ee=>Em(F,ee)),[o]),[l,u]=C.useState(""),[a]=C.useState(!0),[c,f]=C.useState(!0),[p,g]=C.useState(!0),[x,w]=C.useState([]),[S,d]=C.useState(""),[h,m]=C.useState(""),[y,E]=C.useState(""),[k,A]=C.useState(!0),[z,b]=C.useState(0),L=()=>b(F=>F+1),[O,V]=C.useState(0),H=60;C.useEffect(()=>{z2().then(w).catch(()=>w(qu))},[]);const v=C.useMemo(()=>{const F=(S||"").trim(),ee=typeof h=="number"?h:-1/0,re=typeof y=="number"?y:1/0;return x.filter(J=>(F?J.radicals.some(le=>le.includes(F)):!0)&&J.strokeCount>=ee&&J.strokeCount<=re)},[x,S,h,y]);C.useEffect(()=>{V(0)},[S,h,y,x]);const P=v.length,N=Math.max(1,Math.ceil(P/H)),R=Math.min(O,N-1);C.useMemo(()=>v.slice(R*H,(R+1)*H),[v,R,H]);const M=C.useRef(1),_=()=>String(M.current++),T=C.useRef({x:60,y:60}),D=()=>{const F={...T.current};return T.current.x+=140,T.current.x>800&&(T.current.x=60,T.current.y+=160),F},j=C.useCallback(()=>{t(F=>{const ee={kanji:100,range:400,transform:700,composite:1e3},re=80,J=80,le=800,se={kanji:[],range:[],transform:[],composite:[]};F.forEach(q=>{const de=q.type||"kanji";se[de]?se[de].push(q):se.kanji.push(q)}),Object.keys(se).forEach(q=>{se[q].sort((de,ye)=>{var ze,Ne;return(((ze=de.position)==null?void 0:ze.y)??0)-(((Ne=ye.position)==null?void 0:Ne.y)??0)||Number(de.id)-Number(ye.id)})});const te={};return Object.keys(se).forEach(q=>{const de=se[q],ye=de.length,ze=le-re-J,Ne=ye>0?ze/Math.max(ye,1):0;de.forEach((pe,Pe)=>{te[pe.id]={x:ee[q],y:re+Pe*Ne}})}),F.map(q=>({...q,position:te[q.id]?te[q.id]:q.position}))})},[t]),W=F=>{const ee=F.trim();if(!ee)return;if([...ee][0]!==ee){alert("1文字だけ入力してください");return}const re=_();t(J=>[...J,{id:re,type:"kanji",position:D(),data:{char:ee}}]),ie(re)},U=()=>W(l),[G,Z]=C.useState({}),[Y,ie]=C.useState(null),[Se,ae]=C.useState({}),[Oe,nt]=C.useState(1024),Ue=C.useCallback((F,ee)=>{const re=URL.createObjectURL(ee),J=document.createElement("a");J.href=re,J.download=F,document.body.appendChild(J),J.click(),document.body.removeChild(J),setTimeout(()=>URL.revokeObjectURL(re),1e3)},[]),rt=F=>{try{const re=new DOMParser().parseFromString(F,"image/svg+xml").querySelector("svg");if(!re)return{w:109,h:109};const J=(re.getAttribute("viewBox")||"").trim();if(J){const te=J.split(/\s+/).map(Number);if(te.length===4&&te.every(q=>Number.isFinite(q)))return{w:Math.max(1,te[2]),h:Math.max(1,te[3])}}const le=Number(re.getAttribute("width")||"109"),se=Number(re.getAttribute("height")||"109");return{w:Math.max(1,le),h:Math.max(1,se)}}catch{return{w:109,h:109}}},Te=C.useCallback(()=>{if(!Y)return;const F=G[Y];if(!F)return;const ee=Br(F,"#fff"),re=new DOMParser().parseFromString(ee,"image/svg+xml"),J=re.querySelector("svg");if(!J)return;const se=(J.getAttribute("viewBox")||"0 0 109 109").trim().split(/\s+/).map(Number),te=se.length===4&&se.every(Number.isFinite)?se:[0,0,109,109],q=Math.max(16,Math.min(4096,Number(Oe)||1024));J.setAttribute("width",String(q)),J.setAttribute("height",String(q));const de=re.createElementNS("http://www.w3.org/2000/svg","rect");de.setAttribute("x",String(te[0])),de.setAttribute("y",String(te[1])),de.setAttribute("width",String(te[2])),de.setAttribute("height",String(te[3])),de.setAttribute("fill","#000"),J.insertBefore(de,J.firstChild);const ye=new XMLSerializer().serializeToString(re),ze=new Blob([ye],{type:"image/svg+xml;charset=utf-8"});Ue(`${Y}.svg`,ze)},[G,Y,Oe,Ue]),xt=C.useCallback(async()=>{if(!Y)return;const F=G[Y];if(!F)return;const ee=Br(F,"#fff"),{w:re,h:J}=rt(ee),le=Math.max(16,Math.min(4096,Number(Oe)||1024)),se=Math.min(le/re,le/J),te=re*se,q=J*se,de=(le-te)/2,ye=(le-q)/2,ze=document.createElement("canvas");ze.width=le,ze.height=le;const Ne=ze.getContext("2d");if(!Ne)return;Ne.save(),Ne.fillStyle="#000",Ne.fillRect(0,0,le,le),Ne.restore();const pe=new Image;pe.decoding="sync",pe.crossOrigin="anonymous",pe.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(ee)}`,await new Promise((Pe,me)=>{pe.onload=()=>Pe(null),pe.onerror=me}),Ne.imageSmoothingEnabled=!0,Ne.imageSmoothingQuality="high",Ne.drawImage(pe,de,ye,te,q),ze.toBlob(Pe=>{Pe&&Ue(`${Y}_${le}.png`,Pe)},"image/png")},[G,Y,Oe,Ue]);C.useEffect(()=>{let F=!1;if(!k||!Y)return;const ee=setTimeout(()=>{const re=Object.fromEntries(e.map(te=>[te.id,te])),J=te=>r.filter(q=>q.target===te),le=new Map,se=async te=>{if(le.has(te))return le.get(te);const q=re[te];if(!q)return null;J(te).forEach(ye=>{le.has(ye.source)||le.set(ye.source,se(ye.source))});const de=(async()=>{var ze,Ne,pe,Pe;const ye=async me=>{const Ce=J(te).find(Fe=>me?Fe.targetHandle===me:!0);return Ce?await le.get(Ce.source):null};if(q.type==="kanji"){const me=(ze=q.data)==null?void 0:ze.char;if(!me)return null;try{return await Qs(me,!0)}catch{try{return await sg({type:"kanji",data:{char:me,hideNumbers:!0}})??null}catch{return null}}}if(q.type==="range"){const me=await ye();if(!me)return null;const Ce=Fs(me),Fe=Math.max(1,Math.min(Number(q.data.start)||1,Ce.count||1)),We=Math.max(1,Math.min(Number(q.data.end)||Ce.count||1,Ce.count||1));return Hs(Ce.svg,Math.min(Fe,We),Math.max(Fe,We))}if(q.type==="transform"){const me=await ye();if(!me)return null;const Ce=Number(q.data.x||0),Fe=Number(q.data.y||0),We=Number(q.data.sx||1),ot=Number(q.data.sy||1);return qs(me,Ce,Fe,We,ot)}if(q.type==="composite"){const me=await ye("A"),Ce=await ye("B"),Fe=Number(((Ne=q.data)==null?void 0:Ne.alphaA)??1),We=Number(((pe=q.data)==null?void 0:pe.alphaB)??1),ot=!!((Pe=q.data)!=null&&Pe.swap);return me&&Ce?fc(me,Ce,Fe,We,ot):me||Ce}return null})();return le.set(te,de),de};(async()=>{const te=await se(Y);if(!F&&te){Z({[Y]:te});const q=dt(te);ae({[Y]:q})}})()},80);return()=>{clearTimeout(ee),F=!0}},[e,r,Y,k,z]),C.useEffect(()=>{const F=ee=>{const{id:re,svg:J,count:le}=ee.detail||{};!re||re!==Y||!J||Z({[re]:J})};return window.addEventListener("node-preview",F),()=>window.removeEventListener("node-preview",F)},[Y]),C.useEffect(()=>{Y&&(e.find(F=>F.id===Y)||ie(e.length?e[e.length-1].id:null))},[e,Y]);const he=C.useCallback(F=>{t(ee=>ee.filter(re=>!F.find(J=>J.id===re.id)))},[t]),Q=C.useMemo(()=>e.map(F=>F.type==="range"?{...F,data:{...F.data,setOutputs:Z,setOutputCounts:ae}}:F),[e,Z,ae]);return $.jsx(cc,{children:$.jsxs("div",{className:"h-screen w-screen flex bg-[#0b1020] text-white",children:[a&&$.jsxs($.Fragment,{children:[$.jsxs("aside",{className:`${c?"w-[360px]":"w-0"} shrink-0 border-r border-white/10 bg-[#0e1424] flex flex-col overflow-hidden transition-[width] duration-200`,children:[$.jsx("div",{className:"p-3 border-b border-white/10 text-sm font-medium",children:"検索 / 追加"}),$.jsxs("div",{className:"p-3 border-b border-white/10 grid gap-3 text-sm",children:[$.jsxs("div",{className:"grid grid-cols-[80px,1fr] items-center gap-2",children:[$.jsx("label",{className:"text-white/70",children:"部首"}),$.jsx("input",{className:"px-2 py-1 rounded bg-[#0b1220] border border-white/10",placeholder:"例: 扌, 氵, 心 …",value:S,onChange:F=>d(F.target.value)})]}),$.jsxs("div",{className:"grid grid-cols-[80px,1fr_1fr] items-center gap-2",children:[$.jsx("label",{className:"text-white/70",children:"画数"}),$.jsx("input",{type:"number",min:1,className:"px-2 py-1 rounded bg-[#0b1220] border border-white/10",placeholder:"最小",value:typeof h=="number"?h:"",onChange:F=>m(F.target.value===""?"":Number(F.target.value))}),$.jsx("input",{type:"number",min:1,className:"px-2 py-1 rounded bg-[#0b1220] border border-white/10",placeholder:"最大",value:typeof y=="number"?y:"",onChange:F=>E(F.target.value===""?"":Number(F.target.value))})]}),$.jsxs("div",{className:"text-xs text-white/60",children:["該当: ",$.jsx("span",{className:"font-semibold text-white/80",children:v.length})," 件"]})]}),$.jsx("div",{className:"flex-1 overflow-auto p-3 grid grid-cols-3 gap-2",children:v.length>0?v.map(F=>$.jsx("button",{onClick:()=>W(F.char),className:"aspect-square rounded-lg bg-[#121826] border border-white/10 hover:border-white/20 hover:bg-[#182033] grid place-items-center text-2xl",title:`${F.char} (${F.strokeCount}画) [${F.radicals.join(",")}]`,children:F.char},F.code5)):$.jsx("div",{className:"col-span-3 text-center text-white/60 text-sm py-6",children:"該当なし"})})]}),$.jsx("button",{onClick:()=>f(F=>!F),className:"shrink-0 w-5 bg-[#0e1424] border-r border-white/10 hover:bg-[#16203a] flex items-center justify-center text-white/70",title:c?"検索をたたむ":"検索を開く",children:$.jsx("span",{className:"text-xs leading-none select-none",children:c?"‹":"›"})})]}),$.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[$.jsxs("div",{className:"p-3 bg-[#0f172a] border-b border-white/10 flex items-center gap-3",children:[$.jsx("input",{className:"px-2 py-1 w-32 rounded-md bg-[#0b1220] text-white placeholder-white/40 border border-white/10 focus:outline-none focus:ring-2 focus:ring-[#2e3a5c]",placeholder:"漢字1文字",value:l,onChange:F=>u(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!F.nativeEvent.isComposing&&U()}}),$.jsx("button",{onClick:U,className:"px-3 py-1 rounded-lg bg-[#1f2a44] hover:bg-[#2b3a5c] active:bg-[#233250] text-white border border-white/10 shadow",children:"追加"}),$.jsxs("label",{className:"ml-4 text-sm flex items-center gap-2 text-white/80",children:[$.jsx("input",{type:"checkbox",checked:k,onChange:F=>A(F.target.checked)}),"自動評価"]}),!k&&$.jsx("button",{onClick:L,className:"ml-2 px-3 py-1 rounded-lg bg-[#284066] hover:bg-[#2f4b78] active:bg-[#243a5a] text-white border border-white/10 shadow",title:"プレビュー対象のみ再評価",children:"Evaluate"}),$.jsx("button",{onClick:j,className:"ml-2 px-3 py-1 rounded-lg bg-[#1f2a44] hover:bg-[#2b3a5c] active:bg-[#233250] text-white border border-white/10 shadow",title:"種類ごとに列を分けて縦に整列",children:"ノード整理"}),$.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs",children:[$.jsx("button",{onClick:()=>{const F=_();t(ee=>[...ee,{id:F,type:"range",position:D(),data:{start:1,end:1}}]),ie(F)},className:"px-2 py-1 rounded bg-[#1f2a44] border border-white/10",children:"+Range"}),$.jsx("button",{onClick:()=>{const F=_();t(ee=>[...ee,{id:F,type:"transform",position:D(),data:{x:0,y:0,sx:1,sy:1,set:Gs(J=>t(le=>le.map(se=>se.id===F?{...se,data:{...se.data,...J}}:se)))}}]),ie(F)},className:"px-2 py-1 rounded bg-[#1f2a44] border border-white/10",children:"+Transform"}),$.jsx("button",{onClick:()=>{const F=_();t(ee=>[...ee,{id:F,type:"composite",position:D(),data:{alphaA:1,alphaB:1,swap:!1}}]),ie(F)},className:"px-2 py-1 rounded bg-[#1f2a44] border border-white/10",children:"+Composite"})]})]}),$.jsx("div",{className:"flex-1 bg-[#0b1020]",children:$.jsxs(ng,{nodes:Q,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:s,nodeTypes:D2,fitView:!1,onNodesDelete:he,onNodeClick:(F,ee)=>ie(ee.id),onSelectionChange:F=>{F.nodes&&F.nodes.length&&ie(F.nodes[F.nodes.length-1].id)},children:[$.jsx(x2,{color:"#2e3a5c",gap:32}),$.jsx(h2,{})]})})]}),a&&$.jsxs($.Fragment,{children:[$.jsx("button",{onClick:()=>g(F=>!F),className:"shrink-0 w-5 bg-[#0e1424] border-l border-white/10 hover:bg-[#16203a] flex items-center justify-center text-white/70",title:p?"プレビューをたたむ":"プレビューを開く",children:$.jsx("span",{className:"text-xs leading-none select-none",children:p?"›":"‹"})}),$.jsxs("aside",{className:`${p?"w-[360px]":"w-0"} shrink-0 border-l border-white/10 bg-[#0e1424] flex flex-col overflow-hidden transition-[width] duration-200`,children:[$.jsx("div",{className:"p-3 border-b border-white/10 text-sm font-medium",children:"プレビュー"}),$.jsxs("div",{className:"p-3 border-b border-white/10 grid gap-2",children:[$.jsxs("select",{className:"px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:Y??"",onChange:F=>ie(F.target.value||null),children:[$.jsx("option",{value:"",children:"(選択なし)"}),e.map(F=>$.jsxs("option",{value:F.id,children:[F.id," – ",F.type]},F.id))]}),$.jsx("div",{className:"rounded-lg bg-[#0b1220] border border-white/10 p-2 w-full overflow-hidden",children:$.jsx("div",{className:"w-full grid place-items-center",style:{aspectRatio:"1 / 1"},children:Y?G[Y]?$.jsx("div",{className:"w-full h-full",dangerouslySetInnerHTML:{__html:G[Y]}}):$.jsx("div",{className:"text-white/60 text-xs",children:"Evaluating…"}):$.jsx("div",{className:"text-white/60 text-xs",children:"ノードを選ぶとここに出力が表示されます"})})}),$.jsxs("div",{className:"mt-2 grid grid-cols-[1fr_auto_auto] items-center gap-2 text-xs",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("span",{className:"text-white/60",children:"サイズ"}),$.jsx("input",{type:"number",min:16,max:4096,step:16,className:"w-20 px-2 py-1 rounded bg-[#0b1220] border border-white/10",value:Oe,onChange:F=>nt(Number(F.target.value)||1024)}),$.jsx("span",{className:"text-white/60",children:"px"})]}),$.jsx("button",{onClick:Te,disabled:!Y||!G[Y],className:"px-3 py-1 rounded bg-[#1f2a44] border border-white/10 disabled:opacity-50",title:"現在のプレビューをSVGで保存",children:"SVG保存"}),$.jsx("button",{onClick:xt,disabled:!Y||!G[Y],className:"px-3 py-1 rounded bg-[#1f2a44] border border-white/10 disabled:opacity-50",title:"現在のプレビューをPNGで保存",children:"PNG保存"})]})]})]})]})]})})}Fl.createRoot(document.getElementById("root")).render($.jsx(C.StrictMode,{children:$.jsx(j2,{})}));
